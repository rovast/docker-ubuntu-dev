!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t){e.exports=require("path")},function(e,t){e.exports=require("vscode")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,s,i,a,c,u=n(0),l=n(7),f=Object.prototype.toString;function p(e){return void 0!==e}function d(e){return"[object Number]"===f.call(e)}function h(e){return"[object String]"===f.call(e)}function g(e){return JSON.parse(l.readFileSync(e,"utf8"))}function m(e,t){return c&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,n){var r=n[0],o=t[r],s=e;return"string"==typeof o?s=o:"number"!=typeof o&&"boolean"!=typeof o&&null!=o||(s=String(o)),s}))}function v(e){return function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return d(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):m(e[t],r):h(n)?(console.warn("Message "+n+" didn't get externalized correctly."),m(n,r)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function b(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return m(t,n)}function y(e,t){return i[e]=t,t}function k(e,t){var n,r,o,s=u.join(a.cacheRoot,e.id+"-"+e.hash+".json"),i=!1,c=!1;try{return n=JSON.parse(l.readFileSync(s,{encoding:"utf8",flag:"r"})),r=s,o=new Date,l.utimes(r,o,o,(function(){})),n}catch(e){if("ENOENT"===e.code)c=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),l.unlink(s,(function(e){e&&console.error("Deleting corrupted bundle "+s+" failed.")})),i=!0}}if(!(n=function(e,t){var n=a.translationsConfig[e.id];if(n){var r=g(n).contents,o=g(u.join(t,"nls.metadata.json")),s=Object.create(null);for(var i in o){var c=o[i],l=r[e.outDir+"/"+i];if(l){for(var f=[],p=0;p<c.keys.length;p++){var d=c.keys[p],m=l[h(d)?d:d.key];void 0===m&&(m=c.messages[p]),f.push(m)}s[i]=f}else s[i]=c.messages}return s}}(e,t))||i)return n;if(c)try{l.writeFileSync(s,JSON.stringify(n),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return n;throw e}return n}function w(e){try{return function(e){var t=g(u.join(e,"nls.metadata.json")),n=Object.create(null);for(var r in t){var o=t[r];n[r]=o.messages}return n}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function C(e,t){var n;if(!0===a.languagePackSupport&&void 0!==a.cacheRoot&&void 0!==a.languagePackId&&void 0!==a.translationsConfigFile&&void 0!==a.translationsConfig)try{n=k(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!n){if(a.languagePackSupport)return w(t);var r=function(e){for(var t=a.language;t;){var n=u.join(e,"nls.bundle."+t+".json");if(l.existsSync(n))return n;var r=t.lastIndexOf("-");t=r>0?t.substring(0,r):void 0}if(void 0===t){n=u.join(e,"nls.bundle.json");if(l.existsSync(n))return n}}(t);if(r)try{return g(r)}catch(e){console.log("Loading in the box message bundle failed.",e)}n=w(t)}return n}function S(e){if(!e)return b;var t=u.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),a.messageFormat===r.both||a.messageFormat===r.bundle){var n=function(e){for(var t,n=u.dirname(e);t=u.join(n,"nls.metadata.header.json"),!l.existsSync(t);){var r=u.dirname(n);if(r===n){t=void 0;break}n=r}return t}(e);if(n){var o=u.dirname(n),s=i[o];if(void 0===s)try{var f=JSON.parse(l.readFileSync(n,"utf8"));try{var d=C(f,o);s=y(o,d?{header:f,nlsBundle:d}:null)}catch(e){console.error("Failed to load nls bundle",e),s=y(o,null)}}catch(e){console.error("Failed to read header file",e),s=y(o,null)}if(s){var h=e.substr(o.length+1).replace(/\\/g,"/"),m=s.nlsBundle[h];return void 0===m?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):v(m)}}}if(a.messageFormat===r.both||a.messageFormat===r.file)try{var k=g(function(e){var t;if(a.cacheLanguageResolution&&t)t=t;else{if(c||!a.language)t=".nls.json";else for(var n=a.language;n;){var r=".nls."+n+".json";if(l.existsSync(e+r)){t=r;break}var o=n.lastIndexOf("-");o>0?n=n.substring(0,o):(t=".nls.json",n=null)}a.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(k)?v(k):p(k.messages)&&p(k.keys)?v(k.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(r=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(o=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&p(t.key)&&p(t.comment)}}(s||(s={})),function(){if(a={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:r.bundle},h(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages["*"];h(n)&&(t=n)}if(h(e.locale)&&(a.locale=e.locale.toLowerCase()),void 0===t?a.language=a.locale:"en"!==t&&(a.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(a.languagePackSupport=e._languagePackSupport),h(e._cacheRoot)&&(a.cacheRoot=e._cacheRoot),h(e._languagePackId)&&(a.languagePackId=e._languagePackId),h(e._translationsConfigFile)){a.translationsConfigFile=e._translationsConfigFile;try{a.translationsConfig=g(a.translationsConfigFile)}catch(t){e._corruptedFile&&l.writeFile(e._corruptedFile,"corrupted","utf8",(function(e){console.error(e)}))}}}catch(e){}c="pseudo"===a.locale,void 0,i=Object.create(null)}(),t.loadMessageBundle=S,t.config=function(e){return e&&(h(e.locale)&&(a.locale=e.locale.toLowerCase(),a.language=a.locale,void 0,i=Object.create(null)),void 0!==e.messageFormat&&(a.messageFormat=e.messageFormat),e.bundleFormat===o.standalone&&!0===a.languagePackSupport&&(a.languagePackSupport=!1)),c="pseudo"===a.locale,S}},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScripts=t.findScriptAtPosition=t.findAllScriptRanges=t.startDebugging=t.runScript=t.hasPackageJson=t.getPackageJsonUriFromTask=t.createTask=t.getTaskName=t.isAutoDetectionEnabled=t.provideNpmScripts=t.detectNpmScriptsForFolder=t.hasNpmScripts=t.getPackageManager=t.isWorkspaceFolder=t.invalidateTasksCache=t.NpmTaskProvider=void 0;const r=n(1),o=n(0),s=n(7),i=n(41),a=n(2),c=n(8),u=a.loadMessageBundle(n(0).join(__dirname,"tasks.ts"));let l=void 0;t.NpmTaskProvider=class{constructor(){}provideTasks(){return g()}resolveTask(e){if(e.definition.script){const t=e.definition;let n;if(void 0===e.scope||e.scope===r.TaskScope.Global||e.scope===r.TaskScope.Workspace)return;return n=t.path?e.scope.uri.with({path:e.scope.uri.path+"/"+t.path+"package.json"}):e.scope.uri.with({path:e.scope.uri.path+"/package.json"}),k(t,`${"install"===t.script?"":"run "}${t.script}`,e.scope,n)}}},t.invalidateTasksCache=function(){l=void 0};const f=["build","compile","watch"];const p=["test"];function d(e){return e&&"number"!=typeof e}function h(e){return r.workspace.getConfiguration("npm",e).get("packageManager","npm")}async function g(){return l||(l=await async function(){let e=[],t=[],n=new Set,o=r.workspace.workspaceFolders;if(!o)return e;try{for(const e of o)if(m(e)){let o=new r.RelativePattern(e,"**/package.json"),s=await r.workspace.findFiles(o,"**/{node_modules,.vscode-test}/**");for(const r of s)if(!v(e,r)&&!n.has(r.fsPath)){let e=await b(r);n.add(r.fsPath),t.push(...e)}}return t}catch(e){return Promise.reject(e)}}()),l}function m(e){return"on"===r.workspace.getConfiguration("npm",null==e?void 0:e.uri).get("autoDetect")}function v(e,t){function n(e,t){return i(e,t,{dot:!0})}let s=r.workspace.getConfiguration("npm",e.uri).get("exclude"),a=o.dirname(t.fsPath);if(s)if(Array.isArray(s)){for(let e of s)if(n(a,e))return!0}else if(n(a,s))return!0;return!1}async function b(e){let t=[],n=r.workspace.getWorkspaceFolder(e);if(!n)return t;let o=await C(e);if(!o)return t;const s=[],i=function(e){const t=new Set(["preuninstall","postuninstall","prepack","postpack","preinstall","postinstall","prepack","postpack","prepublish","postpublish","preversion","postversion","prestop","poststop","prerestart","postrestart","preshrinkwrap","postshrinkwrap","pretest","postest","prepublishOnly"]);let n=Object.keys(e);for(const r of n){["pre"+r,"post"+r].forEach(n=>{void 0!==e[n]&&t.add(n)})}return t}(o);return Object.keys(o).forEach(t=>{const a=k(t,"run "+t,n,e,o[t]),c=t.toLowerCase();!function(e){for(let t of f)if(-1!==e.indexOf(t))return!0;return!1}(c)?function(e){for(let t of p)if(e===t)return!0;return!1}(c)&&(a.group=r.TaskGroup.Test):a.group=r.TaskGroup.Build,i.has(t)&&(a.group=r.TaskGroup.Clean),null!==o[t].match(/--(inspect|debug)(-brk)?(=((\[[0-9a-fA-F:]*\]|[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+|[a-zA-Z0-9\.]*):)?(\d+))?/)&&(a.group=r.TaskGroup.Rebuild),s.push(a)}),s.push(k("install","install",n,e,"install dependencies from package",[])),s}function y(e,t){return t&&t.length?`${e} - ${t.substring(0,t.length-1)}`:e}function k(e,t,n,s,i,a){let c;function u(e,t){let n=e.uri;return t.path.substring(0,t.path.length-"package.json".length).substring(n.path.length+1)}c="string"==typeof e?{type:"npm",script:e}:e;let l=u(n,s);l.length&&(c.path=u(n,s));let f=y(c.script,l),p=o.dirname(s.fsPath);const d=new r.Task(c,n,f,"npm",new r.ShellExecution(function(e,t){let n=h(e.uri);return r.workspace.getConfiguration("npm",e.uri).get("runSilent")?`${n} --silent ${t}`:`${n} ${t}`}(n,t),{cwd:p}),a);return d.detail=i,d}async function w(e){return new Promise((t,n)=>{s.exists(e,e=>{t(e)})})}async function C(e){if("file"!==e.scheme)return;let t=e.fsPath;if(await w(t))try{return async function(e){let t={},n=void 0,r=!1,o={onError(e,t,n){console.log(e)},onObjectEnd(){r&&(r=!1)},onLiteralValue(e,r,o){n&&("string"==typeof e&&(t[n]=e),n=void 0)},onObjectProperty(e,t,o){"scripts"===e?r=!0:n=r&&!n?e:void 0}};return c.visit(e,o),t}(await async function(e){return new Promise((t,n)=>{s.readFile(e,(e,r)=>{e&&n(e),t(r.toString())})})}(t))}catch(t){let n=u(0,null,e.fsPath);throw new Error(n)}}t.isWorkspaceFolder=d,t.getPackageManager=h,t.hasNpmScripts=async function(){let e=r.workspace.workspaceFolders;if(!e)return!1;try{for(const t of e)if(m(t)){let e=new r.RelativePattern(t,"**/package.json");if((await r.workspace.findFiles(e,"**/node_modules/**")).length>0)return!0}return!1}catch(e){return Promise.reject(e)}},t.detectNpmScriptsForFolder=async function(e){let t=[];try{let n=new r.RelativePattern(e.fsPath,"**/package.json"),o=await r.workspace.findFiles(n,"**/node_modules/**"),s=new Set;for(const e of o)if(!s.has(e.fsPath)){let n=await b(e);s.add(e.fsPath),t.push(...n.map(e=>({label:e.name,task:e})))}return t}catch(e){return Promise.reject(e)}},t.provideNpmScripts=g,t.isAutoDetectionEnabled=m,t.getTaskName=y,t.createTask=k,t.getPackageJsonUriFromTask=function(e){return d(e.scope)?e.definition.path?r.Uri.file(o.join(e.scope.uri.fsPath,e.definition.path,"package.json")):r.Uri.file(o.join(e.scope.uri.fsPath,"package.json")):null},t.hasPackageJson=async function(){let e=r.workspace.workspaceFolders;if(!e)return!1;for(const t of e)if("file"===t.uri.scheme){let e=o.join(t.uri.fsPath,"package.json");if(await w(e))return!0}return!1},t.runScript=function(e,t){let n=t.uri,o=r.workspace.getWorkspaceFolder(n);if(o){let t=k(e,"run "+e,o,n);r.tasks.executeTask(t)}},t.startDebugging=function(e,t,n){const o={type:"pwa-node",request:"launch",name:"Debug "+e,cwd:t,runtimeExecutable:h(n.uri),runtimeArgs:["run",e]};n&&r.debug.startDebugging(n,o)},t.findAllScriptRanges=function(e){let t,n,r=new Map,o=void 0,s=!1,i={onError(e,t,n){},onObjectEnd(){s&&(s=!1)},onLiteralValue(e,s,i){o&&(r.set(o,[t,n,e]),o=void 0)},onObjectProperty(e,r,i){"scripts"===e?s=!0:s&&(o=e,t=r,n=i)}};return c.visit(e,i),r},t.findScriptAtPosition=function(e,t){let n,r=void 0,o=void 0,s=!1,i={onError(e,t,n){},onObjectEnd(){s&&(s=!1,n=void 0)},onLiteralValue(e,i,a){s&&n&&("string"==typeof e&&t>=n&&t<i+a?(s=!1,o=r):r=void 0)},onObjectProperty(e,t){"scripts"===e?s=!0:s?(n=t,r=e):r=void 0}};return c.visit(e,i),o},t.getScripts=C},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=!1);var n=e.length,r=0,a="",c=0,u=16,l=0,f=0,p=0,d=0,h=0;function g(t,n){for(var o=0,s=0;o<t||!n;){var i=e.charCodeAt(r);if(i>=48&&i<=57)s=16*s+i-48;else if(i>=65&&i<=70)s=16*s+i-65+10;else{if(!(i>=97&&i<=102))break;s=16*s+i-97+10}r++,o++}return o<t&&(s=-1),s}function m(){if(a="",h=0,c=r,f=l,d=p,r>=n)return c=n,u=17;var t=e.charCodeAt(r);if(o(t)){do{r++,a+=String.fromCharCode(t),t=e.charCodeAt(r)}while(o(t));return u=15}if(s(t))return r++,a+=String.fromCharCode(t),13===t&&10===e.charCodeAt(r)&&(r++,a+="\n"),l++,p=r,u=14;switch(t){case 123:return r++,u=1;case 125:return r++,u=2;case 91:return r++,u=3;case 93:return r++,u=4;case 58:return r++,u=6;case 44:return r++,u=5;case 34:return r++,a=function(){for(var t="",o=r;;){if(r>=n){t+=e.substring(o,r),h=2;break}var i=e.charCodeAt(r);if(34===i){t+=e.substring(o,r),r++;break}if(92!==i){if(i>=0&&i<=31){if(s(i)){t+=e.substring(o,r),h=2;break}h=6}r++}else{if(t+=e.substring(o,r),++r>=n){h=2;break}switch(e.charCodeAt(r++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=g(4,!0);a>=0?t+=String.fromCharCode(a):h=4;break;default:h=5}o=r}}return t}(),u=10;case 47:var m=r-1;if(47===e.charCodeAt(r+1)){for(r+=2;r<n&&!s(e.charCodeAt(r));)r++;return a=e.substring(m,r),u=12}if(42===e.charCodeAt(r+1)){r+=2;for(var b=n-1,y=!1;r<b;){var k=e.charCodeAt(r);if(42===k&&47===e.charCodeAt(r+1)){r+=2,y=!0;break}r++,s(k)&&(13===k&&10===e.charCodeAt(r)&&r++,l++,p=r)}return y||(r++,h=1),a=e.substring(m,r),u=13}return a+=String.fromCharCode(t),r++,u=16;case 45:if(a+=String.fromCharCode(t),++r===n||!i(e.charCodeAt(r)))return u=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=function(){var t=r;if(48===e.charCodeAt(r))r++;else for(r++;r<e.length&&i(e.charCodeAt(r));)r++;if(r<e.length&&46===e.charCodeAt(r)){if(!(++r<e.length&&i(e.charCodeAt(r))))return h=3,e.substring(t,r);for(r++;r<e.length&&i(e.charCodeAt(r));)r++}var n=r;if(r<e.length&&(69===e.charCodeAt(r)||101===e.charCodeAt(r)))if((++r<e.length&&43===e.charCodeAt(r)||45===e.charCodeAt(r))&&r++,r<e.length&&i(e.charCodeAt(r))){for(r++;r<e.length&&i(e.charCodeAt(r));)r++;n=r}else h=3;return e.substring(t,n)}(),u=11;default:for(;r<n&&v(t);)r++,t=e.charCodeAt(r);if(c!==r){switch(a=e.substring(c,r)){case"true":return u=8;case"false":return u=9;case"null":return u=7}return u=16}return a+=String.fromCharCode(t),r++,u=16}}function v(e){if(o(e)||s(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){r=e,a="",c=0,u=16,h=0},getPosition:function(){return r},scan:t?function(){var e;do{e=m()}while(e>=12&&e<=15);return e}:m,getToken:function(){return u},getTokenValue:function(){return a},getTokenOffset:function(){return c},getTokenLength:function(){return r-c},getTokenStartLine:function(){return f},getTokenStartCharacter:function(){return c-d},getTokenError:function(){return h}}}function o(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function s(e){return 10===e||13===e||8232===e||8233===e}function i(e){return e>=48&&e<=57}function a(e,t,n){var o,s,i,a,l;if(t){for(a=t.offset,l=a+t.length,i=a;i>0&&!u(e,i-1);)i--;for(var f=l;f<e.length&&!u(e,f);)f++;s=e.substring(i,f),o=function(e,t){var n=0,r=0,o=t.tabSize||4;for(;n<e.length;){var s=e.charAt(n);if(" "===s)r++;else{if("\t"!==s)break;r+=o}n++}return Math.floor(r/o)}(s,n)}else s=e,o=0,i=0,a=0,l=e.length;var p,d=function(e,t){for(var n=0;n<t.length;n++){var r=t.charAt(n);if("\r"===r)return n+1<t.length&&"\n"===t.charAt(n+1)?"\r\n":"\r";if("\n"===r)return"\n"}return e&&e.eol||"\n"}(n,e),h=!1,g=0;p=n.insertSpaces?c(" ",n.tabSize||4):"\t";var m=r(s,!1),v=!1;function b(){return d+c(p,o+g)}function y(){var e=m.scan();for(h=!1;15===e||14===e;)h=h||14===e,e=m.scan();return v=16===e||0!==m.getTokenError(),e}var k=[];function w(t,n,r){!v&&n<l&&r>a&&e.substring(n,r)!==t&&k.push({offset:n,length:r-n,content:t})}var C=y();if(17!==C){var S=m.getTokenOffset()+i;w(c(p,o),i,S)}for(;17!==C;){for(var T=m.getTokenOffset()+m.getTokenLength()+i,x=y(),O="";!h&&(12===x||13===x);){w(" ",T,m.getTokenOffset()+i),T=m.getTokenOffset()+m.getTokenLength()+i,O=12===x?b():"",x=y()}if(2===x)1!==C&&(g--,O=b());else if(4===x)3!==C&&(g--,O=b());else{switch(C){case 3:case 1:g++,O=b();break;case 5:case 12:O=b();break;case 13:O=h?b():" ";break;case 6:O=" ";break;case 10:if(6===x){O="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===x||13===x?O=" ":5!==x&&17!==x&&(v=!0);break;case 16:v=!0}!h||12!==x&&13!==x||(O=b())}w(O,T,m.getTokenOffset()+i),C=x}return k}function c(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}function u(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var l;function f(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=l.DEFAULT);var r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function o(e){"property"===r.type&&(r.length=e-r.offset,r=r.parent)}function s(e){return r.children.push(e),e}d(e,{onObjectBegin:function(e){r=s({type:"object",offset:e,length:-1,parent:r,children:[]})},onObjectProperty:function(e,t,n){(r=s({type:"property",offset:t,length:-1,parent:r,children:[]})).children.push({type:"string",value:e,offset:t,length:n,parent:r})},onObjectEnd:function(e,t){o(e+t),r.length=e+t-r.offset,r=r.parent,o(e+t)},onArrayBegin:function(e,t){r=s({type:"array",offset:e,length:-1,parent:r,children:[]})},onArrayEnd:function(e,t){r.length=e+t-r.offset,r=r.parent,o(e+t)},onLiteralValue:function(e,t,n){s({type:h(e),offset:t,length:n,parent:r,value:e}),o(t+n)},onSeparator:function(e,t,n){"property"===r.type&&(":"===e?r.colonOffset=t:","===e&&o(t))},onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n);var i=r.children[0];return i&&delete i.parent,i}function p(e,t){if(e){for(var n=e,r=0,o=t;r<o.length;r++){var s=o[r];if("string"==typeof s){if("object"!==n.type||!Array.isArray(n.children))return;for(var i=!1,a=0,c=n.children;a<c.length;a++){var u=c[a];if(Array.isArray(u.children)&&u.children[0].value===s){n=u.children[1],i=!0;break}}if(!i)return}else{var l=s;if("array"!==n.type||l<0||!Array.isArray(n.children)||l>=n.children.length)return;n=n.children[l]}}return n}}function d(e,t,n){void 0===n&&(n=l.DEFAULT);var o=r(e,!1);function s(e){return e?function(){return e(o.getTokenOffset(),o.getTokenLength(),o.getTokenStartLine(),o.getTokenStartCharacter())}:function(){return!0}}function i(e){return e?function(t){return e(t,o.getTokenOffset(),o.getTokenLength(),o.getTokenStartLine(),o.getTokenStartCharacter())}:function(){return!0}}var a=s(t.onObjectBegin),c=i(t.onObjectProperty),u=s(t.onObjectEnd),f=s(t.onArrayBegin),p=s(t.onArrayEnd),d=i(t.onLiteralValue),h=i(t.onSeparator),g=s(t.onComment),m=i(t.onError),v=n&&n.disallowComments,b=n&&n.allowTrailingComma;function y(){for(;;){var e=o.scan();switch(o.getTokenError()){case 4:k(14);break;case 5:k(15);break;case 3:k(13);break;case 1:v||k(11);break;case 2:k(12);break;case 6:k(16)}switch(e){case 12:case 13:v?k(10):g();break;case 16:k(1);break;case 15:case 14:break;default:return e}}}function k(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),m(e),t.length+n.length>0)for(var r=o.getToken();17!==r;){if(-1!==t.indexOf(r)){y();break}if(-1!==n.indexOf(r))break;r=y()}}function w(e){var t=o.getTokenValue();return e?d(t):c(t),y(),!0}function C(){switch(o.getToken()){case 3:return function(){f(),y();for(var e=!1;4!==o.getToken()&&17!==o.getToken();){if(5===o.getToken()){if(e||k(4,[],[]),h(","),y(),4===o.getToken()&&b)break}else e&&k(6,[],[]);C()||k(4,[],[4,5]),e=!0}return p(),4!==o.getToken()?k(8,[4],[]):y(),!0}();case 1:return function(){a(),y();for(var e=!1;2!==o.getToken()&&17!==o.getToken();){if(5===o.getToken()){if(e||k(4,[],[]),h(","),y(),2===o.getToken()&&b)break}else e&&k(6,[],[]);(10!==o.getToken()?(k(3,[],[2,5]),0):(w(!1),6===o.getToken()?(h(":"),y(),C()||k(4,[],[2,5])):k(5,[],[2,5]),1))||k(4,[],[2,5]),e=!0}return u(),2!==o.getToken()?k(7,[2],[]):y(),!0}();case 10:return w(!0);default:return function(){switch(o.getToken()){case 11:var e=0;try{"number"!=typeof(e=JSON.parse(o.getTokenValue()))&&(k(2),e=0)}catch(e){k(2)}d(e);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return y(),!0}()}}return y(),17===o.getToken()?!!n.allowEmptyContent||(k(4,[],[]),!1):C()?(17!==o.getToken()&&k(9,[],[]),!0):(k(4,[],[]),!1)}function h(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":return e?Array.isArray(e)?"array":"object":"null";default:return"null"}}function g(e,t,n,r,o){for(var s,i=t.slice(),a=f(e,[]),c=void 0,u=void 0;i.length>0&&(u=i.pop(),void 0===(c=p(a,i))&&void 0!==n);)"string"==typeof u?((s={})[u]=n,n=s):n=[n];if(c){if("object"===c.type&&"string"==typeof u&&Array.isArray(c.children)){var l=p(c,[u]);if(void 0!==l){if(void 0===n){if(!l.parent)throw new Error("Malformed AST");var d=c.children.indexOf(l.parent),h=void 0,g=l.parent.offset+l.parent.length;if(d>0)h=(C=c.children[d-1]).offset+C.length;else if(h=c.offset+1,c.children.length>1)g=c.children[1].offset;return m(e,{offset:h,length:g-h,content:""},r)}return m(e,{offset:l.offset,length:l.length,content:JSON.stringify(n)},r)}if(void 0===n)return[];var v=JSON.stringify(u)+": "+JSON.stringify(n),b=o?o(c.children.map((function(e){return e.children[0].value}))):c.children.length,y=void 0;return m(e,y=b>0?{offset:(C=c.children[b-1]).offset+C.length,length:0,content:","+v}:0===c.children.length?{offset:c.offset+1,length:0,content:v}:{offset:c.offset+1,length:0,content:v+","},r)}if("array"===c.type&&"number"==typeof u&&Array.isArray(c.children)){if(-1===u){v=""+JSON.stringify(n),y=void 0;if(0===c.children.length)y={offset:c.offset+1,length:0,content:v};else y={offset:(C=c.children[c.children.length-1]).offset+C.length,length:0,content:","+v};return m(e,y,r)}if(void 0===n&&c.children.length>=0){var k=u,w=c.children[k];y=void 0;if(1===c.children.length)y={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===k){var C,S=(C=c.children[k-1]).offset+C.length;y={offset:S,length:c.offset+c.length-2-S,content:""}}else y={offset:w.offset,length:c.children[k+1].offset-w.offset,content:""};return m(e,y,r)}throw new Error("Array modification not supported yet")}throw new Error("Can not add "+("number"!=typeof u?"index":"property")+" to parent of type "+c.type)}if(void 0===n)throw new Error("Can not delete in empty document");return m(e,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(n)},r)}function m(e,t,n){var r=v(e,t),o=t.offset,s=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;o>0&&!u(r,o-1);)o--;for(;s<r.length&&!u(r,s);)s++}for(var i=a(r,{offset:o,length:s-o},n),c=i.length-1;c>=0;c--){var l=i[c];r=v(r,l),o=Math.min(o,l.offset),s=Math.max(s,l.offset+l.length),s+=l.content.length-l.length}return[{offset:o,length:e.length-(r.length-s)-o,content:r.substring(o,s)}]}function v(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}n.r(t),n.d(t,"createScanner",(function(){return b})),n.d(t,"getLocation",(function(){return y})),n.d(t,"parse",(function(){return k})),n.d(t,"parseTree",(function(){return w})),n.d(t,"findNodeAtLocation",(function(){return C})),n.d(t,"findNodeAtOffset",(function(){return S})),n.d(t,"getNodePath",(function(){return T})),n.d(t,"getNodeValue",(function(){return x})),n.d(t,"visit",(function(){return O})),n.d(t,"stripComments",(function(){return P})),n.d(t,"printParseErrorCode",(function(){return j})),n.d(t,"format",(function(){return F})),n.d(t,"modify",(function(){return E})),n.d(t,"applyEdits",(function(){return A})),function(e){e.DEFAULT={allowTrailingComma:!1}}(l||(l={}));var b=r,y=function(e,t){var n=[],r=new Object,o=void 0,s={value:{},offset:0,length:0,type:"object",parent:void 0},i=!1;function a(e,t,n,r){s.value=e,s.offset=t,s.length=n,s.type=r,s.colonOffset=void 0,o=s}try{d(e,{onObjectBegin:function(e,s){if(t<=e)throw r;o=void 0,i=t>e,n.push("")},onObjectProperty:function(e,o,s){if(t<o)throw r;if(a(e,o,s,"property"),n[n.length-1]=e,t<=o+s)throw r},onObjectEnd:function(e,s){if(t<=e)throw r;o=void 0,n.pop()},onArrayBegin:function(e,s){if(t<=e)throw r;o=void 0,n.push(0)},onArrayEnd:function(e,s){if(t<=e)throw r;o=void 0,n.pop()},onLiteralValue:function(e,n,o){if(t<n)throw r;if(a(e,n,o,h(e)),t<=n+o)throw r},onSeparator:function(e,s,a){if(t<=s)throw r;if(":"===e&&o&&"property"===o.type)o.colonOffset=s,i=!1,o=void 0;else if(","===e){var c=n[n.length-1];"number"==typeof c?n[n.length-1]=c+1:(i=!0,n[n.length-1]=""),o=void 0}}})}catch(e){if(e!==r)throw e}return{path:n,previousNode:o,isAtPropertyKey:i,matches:function(e){for(var t=0,r=0;t<e.length&&r<n.length;r++)if(e[t]===n[r]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}},k=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=l.DEFAULT);var r=null,o=[],s=[];function i(e){Array.isArray(o)?o.push(e):null!==r&&(o[r]=e)}return d(e,{onObjectBegin:function(){var e={};i(e),s.push(o),o=e,r=null},onObjectProperty:function(e){r=e},onObjectEnd:function(){o=s.pop()},onArrayBegin:function(){var e=[];i(e),s.push(o),o=e,r=null},onArrayEnd:function(){o=s.pop()},onLiteralValue:i,onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n),o[0]},w=f,C=p,S=function e(t,n,r){if(void 0===r&&(r=!1),function(e,t,n){return void 0===n&&(n=!1),t>=e.offset&&t<e.offset+e.length||n&&t===e.offset+e.length}(t,n,r)){var o=t.children;if(Array.isArray(o))for(var s=0;s<o.length&&o[s].offset<=n;s++){var i=e(o[s],n,r);if(i)return i}return t}},T=function e(t){if(!t.parent||!t.parent.children)return[];var n=e(t.parent);if("property"===t.parent.type){var r=t.parent.children[0].value;n.push(r)}else if("array"===t.parent.type){var o=t.parent.children.indexOf(t);-1!==o&&n.push(o)}return n},x=function e(t){switch(t.type){case"array":return t.children.map(e);case"object":for(var n=Object.create(null),r=0,o=t.children;r<o.length;r++){var s=o[r],i=s.children[1];i&&(n[s.children[0].value]=e(i))}return n;case"null":case"string":case"number":case"boolean":return t.value;default:return}},O=d,P=function(e,t){var n,o,s=r(e),i=[],a=0;do{switch(o=s.getPosition(),n=s.scan()){case 12:case 13:case 17:a!==o&&i.push(e.substring(a,o)),void 0!==t&&i.push(s.getTokenValue().replace(/[^\r\n]/g,t)),a=s.getPosition()}}while(17!==n);return i.join("")};function j(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function F(e,t,n){return a(e,t,n)}function E(e,t,n,r){return g(e,t,n,r.formattingOptions,r.getInsertionIndex)}function A(e,t){for(var n=t.length-1;n>=0;n--)e=v(e,t[n]);return e}},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";e.exports=function(){var e=n(21);function t(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}return function(n,r){return function(){for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];var a=r&&r.multiArgs,c=void 0;return r&&r.thisArg?c=r.thisArg:r&&(c=r),new e((function(e,r){s.push((function(t){if(t)return r(t);for(var n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];if(!1==!!a)return e(o[0]);e(o)}));var o=n.apply(c,s);t(o)&&e(o)}))}}}()},function(e,t){e.exports=require("events")},function(e,t,n){"undefined"==typeof process||"renderer"===process.type?e.exports=n(23):e.exports=n(25)},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,o=+new Date,s=o-(n||o);e.diff=s,e.prev=n,e.curr=o,n=o;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var o=t.formatters[r];if("function"==typeof o){var s=i[c];n=o.call(e,s),i.splice(c,1),c--}return n})),t.formatArgs.call(e,i);var u=r.log||t.log||console.log.bind(console);u.apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=o,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function o(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var s=t.instances[n];s.enabled=t.enabled(s.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(24),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const r=n(16),o=n(1),s=n(36),i=n(40),a=n(45),c=n(5),u=n(46);let l;function f(){u.invalidateHoverScriptsCache(),c.invalidateTasksCache(),l&&l.refresh()}function p(){const e=o.workspace.getConfiguration("http");r.configure(e.get("proxy",""),e.get("proxyStrictSSL",!0))}t.activate=async function(e){p(),e.subscriptions.push(o.workspace.onDidChangeConfiguration(e=>{(e.affectsConfiguration("http.proxy")||e.affectsConfiguration("http.proxyStrictSSL"))&&p()}));const t=function(){if(o.workspace.workspaceFolders)return o.workspace.workspaceFolders.some(e=>"file"===e.uri.scheme);return!1}();e.subscriptions.push(s.addJSONProviders(r.xhr,t)),l=function(e){if(o.workspace.workspaceFolders){let t=new a.NpmScriptsTreeDataProvider(e);const n=o.window.createTreeView("npm",{treeDataProvider:t,showCollapseAll:!0});return e.subscriptions.push(n),t}return}(e),e.subscriptions.push(o.workspace.onDidChangeConfiguration(e=>{(e.affectsConfiguration("npm.exclude")||e.affectsConfiguration("npm.autoDetect"))&&(c.invalidateTasksCache(),l&&l.refresh()),e.affectsConfiguration("npm.scriptExplorerAction")&&l&&l.refresh()})),function(e){if(o.workspace.workspaceFolders){let t=o.workspace.createFileSystemWatcher("**/package.json");t.onDidChange(e=>f()),t.onDidDelete(e=>f()),t.onDidCreate(e=>f()),e.subscriptions.push(t);let n=o.workspace.onDidChangeWorkspaceFolders(e=>f());e.subscriptions.push(n);let r=new c.NpmTaskProvider,s=o.tasks.registerTaskProvider("npm",r);return e.subscriptions.push(s),s}}(e),function(e){if(o.workspace.workspaceFolders){let t={language:"json",scheme:"file",pattern:"**/package.json"},n=new u.NpmScriptHoverProvider(e);return e.subscriptions.push(o.languages.registerHoverProvider(t,n)),n}}(e),e.subscriptions.push(o.commands.registerCommand("npm.runSelectedScript",i.runSelectedScript)),e.subscriptions.push(o.commands.registerCommand("npm.runScriptFromFolder",i.selectAndRunScriptFromFolder)),e.subscriptions.push(o.commands.registerCommand("npm.refresh",()=>{f()})),e.subscriptions.push(o.commands.registerCommand("npm.packageManager",e=>e instanceof o.Uri?c.getPackageManager(e):""))},t.deactivate=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(6),s=n(17),i=n(18),a=n(30),c=n(34),u=n(35);if(process.env.VSCODE_NLS_CONFIG){var l=process.env.VSCODE_NLS_CONFIG;u.config(JSON.parse(l))}var f=u.loadMessageBundle(),p=null,d=!0;function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){return Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}t.configure=function(e,t){p=e,d=t},t.xhr=function e(t){var n=function(e,t){void 0===t&&(t={});var n=r.parse(e),o=t.proxyUrl||function(e){if("http:"===e.protocol)return process.env.HTTP_PROXY||process.env.http_proxy||null;if("https:"===e.protocol)return process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy||null;return null}(n);if(!o)return null;var s=r.parse(o);if(!/^https?:$/.test(s.protocol))return null;var c={host:s.hostname,port:Number(s.port),auth:s.auth,rejectUnauthorized:"boolean"!=typeof t.strictSSL||t.strictSSL};return"http:"===n.protocol?new i(c):new a(c)}(t.url,{proxyUrl:p,strictSSL:d});return t=h({},t),"number"!=typeof(t=h(t,{agent:n,strictSSL:d})).followRedirects&&(t.followRedirects=5),function e(t){var n;return new Promise((function(i,a){var c=r.parse(t.url),u={hostname:c.hostname,port:c.port?parseInt(c.port):"https:"===c.protocol?443:80,path:c.path,method:t.type||"GET",headers:t.headers,agent:t.agent,rejectUnauthorized:"boolean"!=typeof t.strictSSL||t.strictSSL};t.user&&t.password&&(u.auth=t.user+":"+t.password);var l=function(r){r.statusCode>=300&&r.statusCode<400&&t.followRedirects&&t.followRedirects>0&&r.headers.location?i(e(h({},t,{url:r.headers.location,followRedirects:t.followRedirects-1}))):i({req:n,res:r})};(n="https:"===c.protocol?o.request(u,l):s.request(u,l)).on("error",a),t.timeout&&n.setTimeout(t.timeout),t.data&&n.write(t.data),n.end()}))}(t).then((function(n){return new Promise((function(r,o){var s=n.res,i=s,a=s.headers&&s.headers["content-encoding"],u=!1;if("gzip"===a){var l=c.createGunzip();s.pipe(l),i=l}else if("deflate"===a){var p=c.createInflate();s.pipe(p),i=p}var d=[];i.on("data",(function(e){return d.push(e)})),i.on("end",(function(){if(!u){if(u=!0,t.followRedirects>0&&(s.statusCode>=300&&s.statusCode<=303||307===s.statusCode)){var n=s.headers.location;if(n)return void e({type:t.type,url:n,user:t.user,password:t.password,responseType:t.responseType,headers:t.headers,timeout:t.timeout,followRedirects:t.followRedirects-1,data:t.data}).then(r,o)}var i={responseText:d.join(""),status:s.statusCode,headers:s.headers||{}};s.statusCode>=200&&s.statusCode<300||1223===s.statusCode?r(i):o(i)}})),i.on("error",(function(e){var n={responseText:f("error","Unable to access {0}. Error: {1}",t.url,e.message),status:500,headers:void 0};u=!0,o(n)}))}))}),(function(e){var r;return r=n?f("error.cannot.connect.proxy","Unable to connect to {0} through a proxy . Error: {1}",t.url,e.message):f("error.cannot.connect","Unable to connect to {0}. Error: {1}",t.url,e.message),Promise.reject({responseText:r,status:404})}))},t.getErrorStatusDescription=function(e){if(!(e<400))switch(e){case 400:return f("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return f("status.401","Unauthorized. The server is refusing to respond.");case 403:return f("status.403","Forbidden. The server is refusing to respond.");case 404:return f("status.404","Not Found. The requested location could not be found.");case 405:return f("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return f("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return f("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return f("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return f("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return f("status.410","Gone. The requested page is no longer available.");case 411:return f("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return f("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return f("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return f("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return f("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return f("status.500","Internal Server Error.");case 501:return f("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return f("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return f("status.416","HTTP status code {0}",e)}}},function(e,t){e.exports=require("http")},function(e,t,n){var r=n(9),o=n(10),s=n(3),i=n(19),a=n(4).inherits,c=n(13)("http-proxy-agent");function u(e){if(!(this instanceof u))return new u(e);if("string"==typeof e&&(e=s.parse(e)),!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");c("creating new HttpProxyAgent instance: %o",e),i.call(this,e);var t=Object.assign({},e);this.secureProxy=!!t.protocol&&/^https:?$/i.test(t.protocol),t.host=t.hostname||t.host,t.port=+t.port||(this.secureProxy?443:80),t.host&&t.path&&(delete t.path,delete t.pathname),this.proxy=t}e.exports=u,a(u,i),u.prototype.callback=function(e,t,n){var i=this.proxy,a=s.parse(e.path);null==a.protocol&&(a.protocol="http:"),null==a.hostname&&(a.hostname=t.hostname||t.host),null==a.port&&(a.port=t.port),80==a.port&&delete a.port;var u,l=s.format(a);if(e.path=l,i.auth&&e.setHeader("Proxy-Authorization","Basic "+Buffer.from(i.auth).toString("base64")),u=this.secureProxy?o.connect(i):r.connect(i),e._header&&(c("regenerating stored HTTP header string for request"),e._header=null,e._implicitHeader(),e.output&&e.output.length>0)){c("patching connection write() output buffer with updated header");var f=e.output[0],p=f.indexOf("\r\n\r\n")+4;e.output[0]=e._header+f.substring(p),c("output buffer: %o",e.output)}n(null,u)}},function(e,t,n){"use strict";n(20);const r=n(4).inherits,o=n(11),s=n(12).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);s.call(this),this._promisifiedCallback=!1;let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,s),i.prototype.callback=function(e,t){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let s;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const a=this.timeout;function c(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function u(e){i||(null!=s&&(clearTimeout(s),s=null),c(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=o(this.callback,this),this._promisifiedCallback=!0),a>0&&(s=setTimeout((function(){s=null,i=!0;const e=new Error('A "socket" was not created for HTTP request before '+a+"ms");e.code="ETIMEOUT",c(e)}),a));try{Promise.resolve(this.callback(e,r)).then((function(t){var n;if(!i)if(null!=s&&(clearTimeout(s),s=null),(n=t)&&"function"==typeof n.addRequest)t.addRequest(e,r);else if(t)e.onSocket(t);else{c(new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``))}}),u)}catch(e){Promise.reject(e).catch(u)}}},function(e,t,n){"use strict";const r=n(3),o=n(6);var s;o.request=(s=o.request,function(e,t){let n;return n="string"==typeof e?r.parse(e):Object.assign({},e),null==n.port&&(n.port=443),n.secureEndpoint=!0,s.call(o,n,t)}),o.get=function(e,t){const n=o.request(e,t);return n.end(),n}},function(e,t,n){"use strict";var r;e.exports=(r=void 0,r=void 0!==global?global:void 0!==window&&window.document?window:self,function(){if(!r.hasOwnProperty("Promise"))return!1;var e,t=r.Promise;return!!(t.hasOwnProperty("resolve")&&t.hasOwnProperty("reject")&&t.hasOwnProperty("all")&&t.hasOwnProperty("race")&&(e=void 0,new r.Promise((function(t){e=t}))&&"function"==typeof e))}()?r.Promise:n(22).Promise)},function(e,t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,r=void 0,o=void 0,s=function(e,t){p[n]=e,p[n+1]=t,2===(n+=2)&&(o?o(d):b())},i="undefined"!=typeof window?window:void 0,a=i||{},c=a.MutationObserver||a.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(d,1)}}var p=new Array(1e3);function d(){for(var e=0;e<n;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;n=0}var h,g,m,v,b=void 0;function y(e,t){var n=this,r=new this.constructor(C);void 0===r[w]&&I(r);var o=n._state;if(o){var i=arguments[o-1];s((function(){return _(o,r,i,n._result)}))}else E(n,r,e,t);return r}function k(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(C);return O(t,e),t}u?b=function(){return process.nextTick(d)}:c?(g=0,m=new c(d),v=document.createTextNode(""),m.observe(v,{characterData:!0}),b=function(){v.data=g=++g%2}):l?((h=new MessageChannel).port1.onmessage=d,b=function(){return h.port2.postMessage(0)}):b=void 0===i?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(d)}:f()}catch(e){return f()}}():f();var w=Math.random().toString(36).substring(2);function C(){}var S={error:null};function T(e){try{return e.then}catch(e){return S.error=e,S}}function x(t,n,r){n.constructor===t.constructor&&r===y&&n.constructor.resolve===k?function(e,t){1===t._state?j(e,t._result):2===t._state?F(e,t._result):E(t,void 0,(function(t){return O(e,t)}),(function(t){return F(e,t)}))}(t,n):r===S?(F(t,S.error),S.error=null):void 0===r?j(t,n):e(r)?function(e,t,n){s((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?O(e,n):j(e,n))}),(function(t){r||(r=!0,F(e,t))}),e._label);!r&&o&&(r=!0,F(e,o))}),e)}(t,n,r):j(t,n)}function O(e,t){var n,r;e===t?F(e,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=t),null===n||"object"!==r&&"function"!==r?j(e,t):x(e,t,T(t)))}function P(e){e._onerror&&e._onerror(e._result),A(e)}function j(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(A,e))}function F(e,t){void 0===e._state&&(e._state=2,e._result=t,s(P,e))}function E(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=n,o[i+2]=r,0===i&&e._state&&s(A,e)}function A(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,s=e._result,i=0;i<t.length;i+=3)r=t[i],o=t[i+n],r?_(n,r,o,s):o(s);e._subscribers.length=0}}function _(t,n,r,o){var s=e(r),i=void 0,a=void 0,c=void 0,u=void 0;if(s){if((i=function(e,t){try{return e(t)}catch(e){return S.error=e,S}}(r,o))===S?(u=!0,a=i.error,i.error=null):c=!0,n===i)return void F(n,new TypeError("A promises callback cannot return that same promise."))}else i=o,c=!0;void 0!==n._state||(s&&c?O(n,i):u?F(n,a):1===t?j(n,i):2===t&&F(n,i))}var N=0;function I(e){e[w]=N++,e._state=void 0,e._result=void 0,e._subscribers=[]}var R=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(C),this.promise[w]||I(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?j(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&j(this.promise,this._result))):F(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===k){var o=T(e);if(o===y&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===M){var s=new n(C);x(s,e,o),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?F(r,n):this._result[t]=n),0===this._remaining&&j(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;E(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),M=function(){function e(t){this[w]=N++,this._result=this._state=void 0,this._subscribers=[],C!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t((function(t){O(e,t)}),(function(t){F(e,t)}))}catch(t){F(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},e}();return M.prototype.then=y,M.all=function(e){return new R(this,e).promise},M.race=function(e){var n=this;return t(e)?new n((function(t,r){for(var o=e.length,s=0;s<o;s++)n.resolve(e[s]).then(t,r)})):new n((function(e,t){return t(new TypeError("You must pass an array to race."))}))},M.resolve=k,M.reject=function(e){var t=new this(C);return F(t,e),t},M._setScheduler=function(e){o=e},M._setAsap=function(e){s=e},M._asap=s,M.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=M},M.Promise=M,M},e.exports=r()},function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(14)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(s=o))})),e.splice(s,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},function(e,t){var n=1e3,r=6e4,o=60*r,s=24*o;function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var a,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"days":case"day":case"d":return i*s;case"hours":case"hour":case"hrs":case"hr":case"h":return i*o;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?i(a=e,s,"day")||i(a,o,"hour")||i(a,r,"minute")||i(a,n,"second")||a+" ms":function(e){if(e>=s)return Math.round(e/s)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(26),o=n(4);(t=e.exports=n(14)).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return process.stderr.write(o.format.apply(o,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var r=this.color,o="[3"+(r<8?r:"8;5;"+r),s="  "+o+";1m"+n+" [0m";e[0]=s+e[0].split("\n").join("\n"+s),e.push(o+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=i,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{var s=n(27);s&&s.level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}function i(){return process.env.DEBUG}t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)},t.enable(i())},function(e,t){e.exports=require("tty")},function(e,t,n){"use strict";const r=n(28),o=n(29),{env:s}=process;let i;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(0===i)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&void 0===i)return 0;const t=i||0;if("dumb"===s.TERM)return t;if("win32"===process.platform){const e=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in s)||"codeship"===s.CI_NAME?1:t;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:t}(e))}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?i=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(i=1),"FORCE_COLOR"in s&&(i=!0===s.FORCE_COLOR||"true"===s.FORCE_COLOR?1:!1===s.FORCE_COLOR||"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";e.exports=(e,t)=>{t=t||process.argv;const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return-1!==r&&(-1===o||r<o)}},function(e,t,n){var r=n(9),o=n(10),s=n(3),i=n(31),a=n(32),c=n(4).inherits,u=n(13)("https-proxy-agent");function l(e){if(!(this instanceof l))return new l(e);if("string"==typeof e&&(e=s.parse(e)),!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");u("creating new HttpsProxyAgent instance: %o",e),a.call(this,e);var t=Object.assign({},e);this.secureProxy=!!t.protocol&&/^https:?$/i.test(t.protocol),t.host=t.hostname||t.host,t.port=+t.port||(this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in t)&&(t.ALPNProtocols=["http 1.1"]),t.host&&t.path&&(delete t.path,delete t.pathname),this.proxy=t,this.defaultPort=443}function f(e){e.resume()}e.exports=l,c(l,a),l.prototype.callback=function(e,t,n){var s,a=this.proxy;s=this.secureProxy?o.connect(a):r.connect(a);var c=[],l=0;function p(){var i=s.read();i?function(i){c.push(i),l+=i.length;var a=Buffer.concat(c,l),h=a.toString("ascii");if(!~h.indexOf("\r\n\r\n"))return u("have not received end of HTTP headers yet..."),void p();var g=h.substring(0,h.indexOf("\r\n")),m=+g.split(" ")[1];if(u("got proxy server response: %o",g),200==m){var b=s;c=a=null,t.secureEndpoint&&(u("upgrading proxy-connected socket to TLS connection: %o",t.host),t.socket=s,t.servername=t.servername||t.host,t.host=null,t.hostname=null,t.port=null,b=o.connect(t)),d(),e.once("socket",f),n(null,b)}else d(),s.destroy(),(s=new r.Socket).readable=!0,c=a,e.once("socket",v),n(null,s)}(i):s.once("readable",p)}function d(){s.removeListener("end",g),s.removeListener("error",m),s.removeListener("close",h),s.removeListener("readable",p)}function h(e){u("onclose had error %o",e)}function g(){u("onend")}function m(e){d(),n(e)}function v(e){u("replaying proxy buffer for failed request"),i(e.listenerCount("data")>0),e.push(c),c=null}s.on("error",m),s.on("close",h),s.on("end",g),p();var b="CONNECT "+(t.host+":"+t.port)+" HTTP/1.1\r\n",y=Object.assign({},a.headers);a.auth&&(y["Proxy-Authorization"]="Basic "+Buffer.from(a.auth).toString("base64"));var k,w,C=t.host;k=t.port,w=t.secureEndpoint,Boolean(!w&&80===k||w&&443===k)||(C+=":"+t.port),y.Host=C,y.Connection="close",Object.keys(y).forEach((function(e){b+=e+": "+y[e]+"\r\n"})),s.write(b+"\r\n")}},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";n(33);const r=n(4).inherits,o=n(11),s=n(12).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);s.call(this),this._promisifiedCallback=!1;let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,s),i.prototype.callback=function(e,t){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let s;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const a=this.timeout,c=this.freeSocket;function u(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function l(e){i||(null!=s&&(clearTimeout(s),s=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=o(this.callback,this),this._promisifiedCallback=!0),a>0&&(s=setTimeout((function(){s=null,i=!0;const e=new Error('A "socket" was not created for HTTP request before '+a+"ms");e.code="ETIMEOUT",u(e)}),a));try{Promise.resolve(this.callback(e,r)).then((function(t){var n;if(!i)if(null!=s&&(clearTimeout(s),s=null),(n=t)&&"function"==typeof n.addRequest)t.addRequest(e,r);else if(t){t.on("free",(function(){c(t,r)})),e.onSocket(t)}else{u(new Error("no Duplex stream was returned to agent-base for `"+e.method+" "+e.path+"`"))}}),l)}catch(e){Promise.reject(e).catch(l)}},i.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){"use strict";const r=n(3),o=n(6),s="__agent_base_https_request_patched__";var i;o.request[s]||(o.request=(i=o.request,function(e,t){let n;return n="string"==typeof e?r.parse(e):Object.assign({},e),null==n.port&&(n.port=443),n.secureEndpoint=!0,i.call(o,n,t)}),o.request[s]=!0),o.get=function(e,t,n){let s;"string"==typeof e&&t&&"function"!=typeof t?s=Object.assign({},r.parse(e),t):t||n?n||(s=e,n=t):s=e;const i=o.request(s,n);return i.end(),i}},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,s,i,a,c,u=n(0),l=n(7),f=Object.prototype.toString;function p(e){return void 0!==e}function d(e){return"[object Number]"===f.call(e)}function h(e){return"[object String]"===f.call(e)}function g(e){return JSON.parse(l.readFileSync(e,"utf8"))}function m(e,t){return c&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,n){var r=n[0],o=t[r],s=e;return"string"==typeof o?s=o:"number"!=typeof o&&"boolean"!=typeof o&&null!=o||(s=String(o)),s}))}function v(e){return function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return d(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):m(e[t],r):h(n)?(console.warn("Message "+n+" didn't get externalized correctly."),m(n,r)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function b(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return m(t,n)}function y(e,t){return i[e]=t,t}function k(e,t){var n,r,o,s=u.join(a.cacheRoot,e.id+"-"+e.hash+".json"),i=!1,c=!1;try{return n=JSON.parse(l.readFileSync(s,{encoding:"utf8",flag:"r"})),r=s,o=new Date,l.utimes(r,o,o,(function(){})),n}catch(e){if("ENOENT"===e.code)c=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),l.unlink(s,(function(e){e&&console.error("Deleting corrupted bundle "+s+" failed.")})),i=!0}}if(!(n=function(e,t){var n=a.translationsConfig[e.id];if(n){var r=g(n).contents,o=g(u.join(t,"nls.metadata.json")),s=Object.create(null);for(var i in o){var c=o[i],l=r[e.outDir+"/"+i];if(l){for(var f=[],p=0;p<c.keys.length;p++){var d=c.keys[p],m=l[h(d)?d:d.key];void 0===m&&(m=c.messages[p]),f.push(m)}s[i]=f}else s[i]=c.messages}return s}}(e,t))||i)return n;if(c)try{l.writeFileSync(s,JSON.stringify(n),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return n;throw e}return n}function w(e){try{return function(e){var t=g(u.join(e,"nls.metadata.json")),n=Object.create(null);for(var r in t){var o=t[r];n[r]=o.messages}return n}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function C(e,t){var n;if(!0===a.languagePackSupport&&void 0!==a.cacheRoot&&void 0!==a.languagePackId&&void 0!==a.translationsConfigFile&&void 0!==a.translationsConfig)try{n=k(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!n){if(a.languagePackSupport)return w(t);var r=function(e){for(var t=a.language;t;){var n=u.join(e,"nls.bundle."+t+".json");if(l.existsSync(n))return n;var r=t.lastIndexOf("-");t=r>0?t.substring(0,r):void 0}if(void 0===t){n=u.join(e,"nls.bundle.json");if(l.existsSync(n))return n}}(t);if(r)try{return g(r)}catch(e){console.log("Loading in the box message bundle failed.",e)}n=w(t)}return n}function S(e){if(!e)return b;var t=u.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),a.messageFormat===r.both||a.messageFormat===r.bundle){var n=function(e){for(var t,n=u.dirname(e);t=u.join(n,"nls.metadata.header.json"),!l.existsSync(t);){var r=u.dirname(n);if(r===n){t=void 0;break}n=r}return t}(e);if(n){var o=u.dirname(n),s=i[o];if(void 0===s)try{var f=JSON.parse(l.readFileSync(n,"utf8"));try{var d=C(f,o);s=y(o,d?{header:f,nlsBundle:d}:null)}catch(e){console.error("Failed to load nls bundle",e),s=y(o,null)}}catch(e){console.error("Failed to read header file",e),s=y(o,null)}if(s){var h=e.substr(o.length+1).replace(/\\/g,"/"),m=s.nlsBundle[h];return void 0===m?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):v(m)}}}if(a.messageFormat===r.both||a.messageFormat===r.file)try{var k=g(function(e){var t;if(a.cacheLanguageResolution&&t)t=t;else{if(c||!a.language)t=".nls.json";else for(var n=a.language;n;){var r=".nls."+n+".json";if(l.existsSync(e+r)){t=r;break}var o=n.lastIndexOf("-");o>0?n=n.substring(0,o):(t=".nls.json",n=null)}a.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(k)?v(k):p(k.messages)&&p(k.keys)?v(k.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(r=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(o=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&p(t.key)&&p(t.comment)}}(s||(s={})),function(){if(a={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:r.bundle},h(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages["*"];h(n)&&(t=n)}if(h(e.locale)&&(a.locale=e.locale.toLowerCase()),void 0===t?a.language=a.locale:"en"!==t&&(a.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(a.languagePackSupport=e._languagePackSupport),h(e._cacheRoot)&&(a.cacheRoot=e._cacheRoot),h(e._languagePackId)&&(a.languagePackId=e._languagePackId),h(e._translationsConfigFile)){a.translationsConfigFile=e._translationsConfigFile;try{a.translationsConfig=g(a.translationsConfigFile)}catch(t){if(e._corruptedFile){var o=u.dirname(e._corruptedFile);l.exists(o,(function(t){t&&l.writeFile(e._corruptedFile,"corrupted","utf8",(function(e){console.error(e)}))}))}}}}catch(e){}c="pseudo"===a.locale,void 0,i=Object.create(null)}(),t.loadMessageBundle=S,t.config=function(e){return e&&(h(e.locale)&&(a.locale=e.locale.toLowerCase(),a.language=a.locale,void 0,i=Object.create(null)),void 0!==e.messageFormat&&(a.messageFormat=e.messageFormat),e.bundleFormat===o.standalone&&!0===a.languagePackSupport&&(a.languagePackSupport=!1)),c="pseudo"===a.locale,S}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xhrDisabled=t.JSONCompletionItemProvider=t.JSONHoverProvider=t.addJSONProviders=void 0;const r=n(8),o=n(0),s=n(37),i=n(38),a=n(1);t.addJSONProviders=function(e,t){const n=[new i.PackageJSONContribution(e,t),new s.BowerJSONContribution(e)],r=[];return n.forEach(e=>{const t=e.getDocumentSelector();r.push(a.languages.registerCompletionItemProvider(t,new u(e),'"',":")),r.push(a.languages.registerHoverProvider(t,new c(e)))}),a.Disposable.from(...r)};class c{constructor(e){this.jsonContribution=e}provideHover(e,t,n){const s=o.basename(e.fileName),i=e.offsetAt(t),c=r.getLocation(e.getText(),i);if(!c.previousNode)return null;const u=c.previousNode;if(u&&u.offset<=i&&i<=u.offset+u.length){const t=this.jsonContribution.getInfoContribution(s,c);if(t)return t.then(t=>({contents:t||[],range:new a.Range(e.positionAt(u.offset),e.positionAt(u.offset+u.length))}))}return null}}t.JSONHoverProvider=c;class u{constructor(e){this.jsonContribution=e}resolveCompletionItem(e,t){if(this.jsonContribution.resolveSuggestion){const t=this.jsonContribution.resolveSuggestion(e);if(t)return t}return Promise.resolve(e)}provideCompletionItems(e,t,n){const s=o.basename(e.fileName),i=this.getCurrentWord(e,t);let c;const u=[];let l=!1;const f=e.offsetAt(t),p=r.getLocation(e.getText(),f),d=p.previousNode;c=d&&d.offset<=f&&f<=d.offset+d.length&&("property"===d.type||"string"===d.type||"number"===d.type||"boolean"===d.type||"null"===d.type)?new a.Range(e.positionAt(d.offset),e.positionAt(d.offset+d.length)):new a.Range(e.positionAt(f-i.length),t);const h={},g={add:e=>{h[e.label]||(h[e.label]=!0,e.range={replacing:c,inserting:new a.Range(c.start,c.start)},u.push(e))},setAsIncomplete:()=>l=!0,error:e=>console.error(e),log:e=>console.log(e)};let m=null;if(p.isAtPropertyKey){const n=r.createScanner(e.getText(),!0),o=!p.previousNode||!this.hasColonAfter(n,p.previousNode.offset+p.previousNode.length),a=this.isLast(n,e.offsetAt(t));m=this.jsonContribution.collectPropertySuggestions(s,p,i,o,a,g)}else m=0===p.path.length?this.jsonContribution.collectDefaultSuggestions(s,g):this.jsonContribution.collectValueSuggestions(s,p,g);return m?m.then(()=>u.length>0?new a.CompletionList(u,l):null):null}getCurrentWord(e,t){let n=t.character-1;const r=e.lineAt(t.line).text;for(;n>=0&&-1===' \t\n\r\v":{[,'.indexOf(r.charAt(n));)n--;return r.substring(n+1,t.character)}isLast(e,t){e.setPosition(t);let n=e.scan();return 10===n&&2===e.getTokenError()&&(n=e.scan()),2===n||17===n}hasColonAfter(e,t){return e.setPosition(t),6===e.scan()}}t.JSONCompletionItemProvider=u;t.xhrDisabled=()=>Promise.reject({responseText:"Use of online resources is disabled."})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BowerJSONContribution=void 0;const r=n(1),o=n(2).loadMessageBundle(n(0).join(__dirname,"features/bowerJSONContribution.ts"));t.BowerJSONContribution=class{constructor(e){this.topRanked=["twitter","bootstrap","angular-1.1.6","angular-latest","angulerjs","d3","myjquery","jq","abcdef1234567890","jQuery","jquery-1.11.1","jquery","sushi-vanilla-x-data","font-awsome","Font-Awesome","font-awesome","fontawesome","html5-boilerplate","impress.js","homebrew","backbone","moment1","momentjs","moment","linux","animate.css","animate-css","reveal.js","jquery-file-upload","blueimp-file-upload","threejs","express","chosen","normalize-css","normalize.css","semantic","semantic-ui","Semantic-UI","modernizr","underscore","underscore1","material-design-icons","ionic","chartjs","Chart.js","nnnick-chartjs","select2-ng","select2-dist","phantom","skrollr","scrollr","less.js","leancss","parser-lib","hui","bootstrap-languages","async","gulp","jquery-pjax","coffeescript","hammer.js","ace","leaflet","jquery-mobile","sweetalert","typeahead.js","soup","typehead.js","sails","codeigniter2"],this.xhr=e}getDocumentSelector(){return[{language:"json",scheme:"*",pattern:"**/bower.json"},{language:"json",scheme:"*",pattern:"**/.bower.json"}]}isEnabled(){return!!r.workspace.getConfiguration("npm").get("fetchOnlinePackageInfo")}collectDefaultSuggestions(e,t){const n=new r.CompletionItem(o(0,null));return n.kind=r.CompletionItemKind.Class,n.insertText=new r.SnippetString(JSON.stringify({name:"${1:name}",description:"${2:description}",authors:["${3:author}"],version:"${4:1.0.0}",main:"${5:pathToMain}",dependencies:{}},null,"\t")),t.add(n),Promise.resolve(null)}collectPropertySuggestions(e,t,n,s,i,a){if(!this.isEnabled())return null;if(t.matches(["dependencies"])||t.matches(["devDependencies"])){if(n.length>0){const e="https://registry.bower.io/packages/search/"+encodeURIComponent(n);return this.xhr({url:e,agent:"Visual Studio Code"}).then(e=>{if(200!==e.status)return a.error(o(1,null,e.responseText)),0;try{const t=JSON.parse(e.responseText);if(Array.isArray(t)){const e=t;for(const t of e){const e=t.name,n=t.description||"",o=(new r.SnippetString).appendText(JSON.stringify(e));s&&(o.appendText(": ").appendPlaceholder("latest"),i||o.appendText(","));const c=new r.CompletionItem(e);c.kind=r.CompletionItemKind.Property,c.insertText=o,c.filterText=JSON.stringify(e),c.documentation=n,a.add(c)}a.setAsIncomplete()}}catch(e){}},e=>(a.error(o(2,null,e.responseText)),0))}return this.topRanked.forEach(e=>{const t=(new r.SnippetString).appendText(JSON.stringify(e));s&&(t.appendText(": ").appendPlaceholder("latest"),i||t.appendText(","));const n=new r.CompletionItem(e);n.kind=r.CompletionItemKind.Property,n.insertText=t,n.filterText=JSON.stringify(e),n.documentation="",a.add(n)}),a.setAsIncomplete(),Promise.resolve(null)}return null}collectValueSuggestions(e,t,n){if(!this.isEnabled())return null;if(t.matches(["dependencies","*"])||t.matches(["devDependencies","*"])){const e=new r.CompletionItem(o(3,null));e.insertText=new r.SnippetString('"${1:latest}"'),e.filterText='""',e.kind=r.CompletionItemKind.Value,e.documentation="The latest version of the package",n.add(e)}return null}resolveSuggestion(e){return e.kind===r.CompletionItemKind.Property&&""===e.documentation?this.getInfo(e.label).then(t=>t?(e.documentation=t,e):null):null}getInfo(e){const t="https://registry.bower.io/packages/"+encodeURIComponent(e);return this.xhr({url:t,agent:"Visual Studio Code"}).then(e=>{try{const t=JSON.parse(e.responseText);if(t&&t.url){let e=t.url;return 0===e.indexOf("git://")&&(e=e.substring(6)),e.length>=4&&".git"===e.substr(e.length-4)&&(e=e.substring(0,e.length-4)),e}}catch(e){}},()=>{})}getInfoContribution(e,t){if(!this.isEnabled())return null;if(t.matches(["dependencies","*"])||t.matches(["devDependencies","*"])){const e=t.path[t.path.length-1];if("string"==typeof e)return this.getInfo(e).then(e=>{if(e){const t=new r.MarkdownString;return t.appendText(e),[t]}return null})}return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PackageJSONContribution=void 0;const r=n(1),o=n(39),s=n(2).loadMessageBundle(n(0).join(__dirname,"features/packageJSONContribution.ts"));t.PackageJSONContribution=class{constructor(e,t){this.xhr=e,this.canRunNPM=t,this.mostDependedOn=["lodash","async","underscore","request","commander","express","debug","chalk","colors","q","coffee-script","mkdirp","optimist","through2","yeoman-generator","moment","bluebird","glob","gulp-util","minimist","cheerio","pug","redis","node-uuid","socket","io","uglify-js","winston","through","fs-extra","handlebars","body-parser","rimraf","mime","semver","mongodb","jquery","grunt","connect","yosay","underscore","string","xml2js","ejs","mongoose","marked","extend","mocha","superagent","js-yaml","xtend","shelljs","gulp","yargs","browserify","minimatch","react","less","prompt","inquirer","ws","event-stream","inherits","mysql","esprima","jsdom","stylus","when","readable-stream","aws-sdk","concat-stream","chai","Thenable","wrench"],this.knownScopes=["@types","@angular","@babel","@nuxtjs","@vue","@bazel"]}getDocumentSelector(){return[{language:"json",scheme:"*",pattern:"**/package.json"}]}collectDefaultSuggestions(e,t){const n=new r.CompletionItem(s(0,null));return n.kind=r.CompletionItemKind.Module,n.insertText=new r.SnippetString(JSON.stringify({name:"${1:name}",description:"${2:description}",authors:"${3:author}",version:"${4:1.0.0}",main:"${5:pathToMain}",dependencies:{}},null,"\t")),t.add(n),Promise.resolve(null)}isEnabled(){return this.canRunNPM||this.onlineEnabled()}onlineEnabled(){return!!r.workspace.getConfiguration("npm").get("fetchOnlinePackageInfo")}collectPropertySuggestions(e,t,n,o,i,a){if(!this.isEnabled())return null;if(t.matches(["dependencies"])||t.matches(["devDependencies"])||t.matches(["optionalDependencies"])||t.matches(["peerDependencies"])){let e;if(n.length>0){if("@"===n[0]){if(-1!==n.indexOf("/"))return this.collectScopedPackages(n,o,i,a);for(let e of this.knownScopes){const t=new r.CompletionItem(e);t.kind=r.CompletionItemKind.Property,t.insertText=(new r.SnippetString).appendText(`"${e}/`).appendTabstop().appendText('"'),t.filterText=JSON.stringify(e),t.documentation="",t.command={title:"",command:"editor.action.triggerSuggest"},a.add(t)}a.setAsIncomplete()}return e="https://api.npms.io/v2/search/suggestions?size=40&q="+encodeURIComponent(n),this.xhr({url:e,agent:"Visual Studio Code"}).then(e=>{if(200!==e.status)return a.error(s(1,null,e.responseText)),0;try{const t=JSON.parse(e.responseText);if(t&&Array.isArray(t)){const e=t;for(const t of e)this.processPackage(t.package,o,i,a);40===e.length&&a.setAsIncomplete()}}catch(e){}},e=>(a.error(s(2,null,e.responseText)),0))}return this.mostDependedOn.forEach(e=>{const t=(new r.SnippetString).appendText(JSON.stringify(e));o&&(t.appendText(': "').appendTabstop().appendText('"'),i||t.appendText(","));const n=new r.CompletionItem(e);n.kind=r.CompletionItemKind.Property,n.insertText=t,n.filterText=JSON.stringify(e),n.documentation="",a.add(n)}),this.collectScopedPackages(n,o,i,a),a.setAsIncomplete(),Promise.resolve(null)}return null}collectScopedPackages(e,t,n,r){let o=e.split("/");if(2===o.length&&o[0].length>1){let e=o[0].substr(1),i=o[1];i.length<4&&(i="");let a=`https://api.npms.io/v2/search?q=scope:${e}%20${i}&size=250`;return this.xhr({url:a,agent:"Visual Studio Code"}).then(e=>{if(200===e.status)try{const o=JSON.parse(e.responseText);if(o&&Array.isArray(o.results)){const e=o.results;for(let o of e)this.processPackage(o.package,t,n,r);250===e.length&&r.setAsIncomplete()}}catch(e){}else r.error(s(3,null,e.responseText));return null})}return Promise.resolve(null)}async collectValueSuggestions(e,t,n){if(!this.isEnabled())return null;if(t.matches(["dependencies","*"])||t.matches(["devDependencies","*"])||t.matches(["optionalDependencies","*"])||t.matches(["peerDependencies","*"])){const e=t.path[t.path.length-1];if("string"==typeof e){const t=await this.fetchPackageInfo(e);if(t&&t.version){let e=JSON.stringify(t.version),o=new r.CompletionItem(e);o.kind=r.CompletionItemKind.Property,o.insertText=e,o.documentation=s(4,null),n.add(o),e=JSON.stringify("^"+t.version),o=new r.CompletionItem(e),o.kind=r.CompletionItemKind.Property,o.insertText=e,o.documentation=s(5,null),n.add(o),e=JSON.stringify("~"+t.version),o=new r.CompletionItem(e),o.kind=r.CompletionItemKind.Property,o.insertText=e,o.documentation=s(6,null),n.add(o)}}}return null}getDocumentation(e,t,n){const o=new r.MarkdownString;return e&&o.appendText(e),t&&(o.appendText("\n\n"),o.appendText(s(7,null,t))),n&&(o.appendText("\n\n"),o.appendText(n)),o}resolveSuggestion(e){return e.kind!==r.CompletionItemKind.Property||e.documentation?null:this.fetchPackageInfo(e.label).then(t=>t?(e.documentation=this.getDocumentation(t.description,t.version,t.homepage),e):null)}isValidNPMName(e){if(!e||e.length>214||e.match(/^[_.]/))return!1;const t=e.match(/^(?:@([^/]+?)[/])?([^/]+?)$/);if(t){const e=t[1];if(e&&encodeURIComponent(e)!==e)return!1;const n=t[2];return encodeURIComponent(n)===n}return!1}async fetchPackageInfo(e){if(!this.isValidNPMName(e))return;let t;return this.canRunNPM&&(t=await this.npmView(e)),!t&&this.onlineEnabled()&&(t=await this.npmjsView(e)),t}npmView(e){return new Promise((t,n)=>{const r=["view","--json",e,"description","dist-tags.latest","homepage","version"];o.execFile("win32"===process.platform?"npm.cmd":"npm",r,(e,n)=>{if(!e)try{const e=JSON.parse(n);return void t({description:e.description,version:e["dist-tags.latest"]||e.version,homepage:e.homepage})}catch(e){}t(void 0)})})}async npmjsView(e){var t,n;const r="https://api.npms.io/v2/package/"+encodeURIComponent(e);try{const e=await this.xhr({url:r,agent:"Visual Studio Code"}),o=JSON.parse(e.responseText),s=null===(t=null==o?void 0:o.collected)||void 0===t?void 0:t.metadata;if(s)return{description:s.description||"",version:s.version,homepage:(null===(n=s.links)||void 0===n?void 0:n.homepage)||""}}catch(e){}}getInfoContribution(e,t){if(!this.isEnabled())return null;if(t.matches(["dependencies","*"])||t.matches(["devDependencies","*"])||t.matches(["optionalDependencies","*"])||t.matches(["peerDependencies","*"])){const e=t.path[t.path.length-1];if("string"==typeof e)return this.fetchPackageInfo(e).then(e=>e?[this.getDocumentation(e.description,e.version,e.homepage)]:null)}return null}processPackage(e,t,n,o){var s;if(e&&e.name){const i=e.name,a=(new r.SnippetString).appendText(JSON.stringify(i));t&&(a.appendText(': "'),e.version?a.appendVariable("version",e.version):a.appendTabstop(),a.appendText('"'),n||a.appendText(","));const c=new r.CompletionItem(i);c.kind=r.CompletionItemKind.Property,c.insertText=a,c.filterText=JSON.stringify(i),c.documentation=this.getDocumentation(e.description,e.version,null===(s=null==e?void 0:e.links)||void 0===s?void 0:s.homepage),o.add(c)}}}},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAndRunScriptFromFolder=t.runSelectedScript=void 0;const r=n(2),o=n(1),s=n(5),i=r.loadMessageBundle(n(0).join(__dirname,"commands.ts"));t.runSelectedScript=function(){let e=o.window.activeTextEditor;if(!e)return;let t=e.document,n=t.getText(),r=e.selection,a=t.offsetAt(r.anchor),c=s.findScriptAtPosition(n,a);if(c)s.runScript(c,t);else{let e=i(0,null);o.window.showErrorMessage(e)}},t.selectAndRunScriptFromFolder=async function(e){let t=await s.detectNpmScriptsForFolder(e);if(t&&t.length>0){const e=o.window.createQuickPick();e.title="Run NPM script in Folder",e.placeholder="Select an npm script",e.items=t;const n=[];let r=new Promise(t=>{n.push(e.onDidAccept(()=>{n.forEach(e=>e.dispose()),t(e.selectedItems[0])})),n.push(e.onDidHide(()=>{n.forEach(e=>e.dispose()),t(void 0)}))});e.show();let s=await r;e.dispose(),s&&o.tasks.executeTask(s.task)}else o.window.showInformationMessage("No npm scripts found in "+e.fsPath,{modal:!0})}},function(e,t,n){e.exports=l,l.Minimatch=f;var r={sep:"/"};try{r=n(0)}catch(e){}var o=l.GLOBSTAR=f.GLOBSTAR={},s=n(42),i={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var c=/\/+/;function u(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function l(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new f(t,n).match(e))}function f(e,t){if(!(this instanceof f))return new f(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function p(e,t){if(t||(t=this instanceof f?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:s(e)}l.filter=function(e,t){return t=t||{},function(n,r,o){return l(n,e,t)}},l.defaults=function(e){if(!e||!Object.keys(e).length)return l;var t=l,n=function(n,r,o){return t.minimatch(n,r,u(e,o))};return n.Minimatch=function(n,r){return new t.Minimatch(n,u(e,r))},n},f.defaults=function(e){return e&&Object.keys(e).length?l.defaults(e).Minimatch:f},f.prototype.debug=function(){},f.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(c)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},f.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var o=0,s=e.length;o<s&&"!"===e.charAt(o);o++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},l.braceExpand=function(e,t){return p(e,t)},f.prototype.braceExpand=p,f.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return o;if(""===e)return"";var r,s="",c=!!n.nocase,u=!1,l=[],f=[],p=!1,h=-1,g=-1,m="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function b(){if(r){switch(r){case"*":s+="[^/]*?",c=!0;break;case"?":s+="[^/]",c=!0;break;default:s+="\\"+r}v.debug("clearStateChar %j %j",r,s),r=!1}}for(var y,k=0,w=e.length;k<w&&(y=e.charAt(k));k++)if(this.debug("%s\t%s %s %j",e,k,s,y),u&&a[y])s+="\\"+y,u=!1;else switch(y){case"/":return!1;case"\\":b(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,k,s,y),p){this.debug("  in class"),"!"===y&&k===g+1&&(y="^"),s+=y;continue}v.debug("call clearStateChar %j",r),b(),r=y,n.noext&&b();continue;case"(":if(p){s+="(";continue}if(!r){s+="\\(";continue}l.push({type:r,start:k-1,reStart:s.length,open:i[r].open,close:i[r].close}),s+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,s),r=!1;continue;case")":if(p||!l.length){s+="\\)";continue}b(),c=!0;var C=l.pop();s+=C.close,"!"===C.type&&f.push(C),C.reEnd=s.length;continue;case"|":if(p||!l.length||u){s+="\\|",u=!1;continue}b(),s+="|";continue;case"[":if(b(),p){s+="\\"+y;continue}p=!0,g=k,h=s.length,s+=y;continue;case"]":if(k===g+1||!p){s+="\\"+y,u=!1;continue}if(p){var S=e.substring(g+1,k);try{RegExp("["+S+"]")}catch(e){var T=this.parse(S,d);s=s.substr(0,h)+"\\["+T[0]+"\\]",c=c||T[1],p=!1;continue}}c=!0,p=!1,s+=y;continue;default:b(),u?u=!1:!a[y]||"^"===y&&p||(s+="\\"),s+=y}p&&(S=e.substr(g+1),T=this.parse(S,d),s=s.substr(0,h)+"\\["+T[0],c=c||T[1]);for(C=l.pop();C;C=l.pop()){var x=s.slice(C.reStart+C.open.length);this.debug("setting tail",s,C),x=x.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",x,x,C,s);var O="*"===C.type?"[^/]*?":"?"===C.type?"[^/]":"\\"+C.type;c=!0,s=s.slice(0,C.reStart)+O+"\\("+x}b(),u&&(s+="\\\\");var P=!1;switch(s.charAt(0)){case".":case"[":case"(":P=!0}for(var j=f.length-1;j>-1;j--){var F=f[j],E=s.slice(0,F.reStart),A=s.slice(F.reStart,F.reEnd-8),_=s.slice(F.reEnd-8,F.reEnd),N=s.slice(F.reEnd);_+=N;var I=E.split("(").length-1,R=N;for(k=0;k<I;k++)R=R.replace(/\)[+*?]?/,"");var M="";""===(N=R)&&t!==d&&(M="$"),s=E+A+N+M+_}""!==s&&c&&(s="(?=.)"+s);P&&(s=m+s);if(t===d)return[s,c];if(!c)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var L=n.nocase?"i":"";try{var D=new RegExp("^"+s+"$",L)}catch(e){return new RegExp("$.")}return D._glob=e,D._src=s,D};var d={};l.makeRe=function(e,t){return new f(e,t||{}).makeRe()},f.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",s=e.map((function(e){return e.map((function(e){return e===o?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch(e){this.regexp=!1}return this.regexp},l.match=function(e,t,n){var r=new f(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},f.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(c),this.debug(this.pattern,"split",e);var o,s,i=this.set;for(this.debug(this.pattern,"set",i),s=e.length-1;s>=0&&!(o=e[s]);s--);for(s=0;s<i.length;s++){var a=i[s],u=e;if(n.matchBase&&1===a.length&&(u=[o]),this.matchOne(u,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},f.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,i=0,a=e.length,c=t.length;s<a&&i<c;s++,i++){this.debug("matchOne loop");var u,l=t[i],f=e[s];if(this.debug(t,l,f),!1===l)return!1;if(l===o){this.debug("GLOBSTAR",[t,l,f]);var p=s,d=i+1;if(d===c){for(this.debug("** at the end");s<a;s++)if("."===e[s]||".."===e[s]||!r.dot&&"."===e[s].charAt(0))return!1;return!0}for(;p<a;){var h=e[p];if(this.debug("\nglobstar while",e,p,t,d,h),this.matchOne(e.slice(p),t.slice(d),n))return this.debug("globstar found match!",p,a,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",e,p,t,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,d),p!==a))}if("string"==typeof l?(u=r.nocase?f.toLowerCase()===l.toLowerCase():f===l,this.debug("string match",l,f,u)):(u=f.match(l),this.debug("pattern match",l,f,u)),!u)return!1}if(s===a&&i===c)return!0;if(s===a)return n;if(i===c)return s===a-1&&""===e[s];throw new Error("wtf?")}},function(e,t,n){var r=n(43),o=n(44);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var s=[],i=o("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var c,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),m=u||f,v=i.body.indexOf(",")>=0;if(!m&&!v)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+a+i.post,e(t)):[t];if(m)c=i.body.split(/\.\./);else{if(1===(c=function e(t){if(!t)return[""];var n=[],r=o("{","}",t);if(!r)return t.split(",");var s=r.pre,i=r.body,a=r.post,c=s.split(",");c[c.length-1]+="{"+i+"}";var u=e(a);a.length&&(c[c.length-1]+=u.shift(),c.push.apply(c,u));return n.push.apply(n,c),n}(i.body)).length)if(1===(c=e(c[0],!1).map(p)).length)return(k=i.post.length?e(i.post,!1):[""]).map((function(e){return i.pre+c[0]+e}))}var b,y=i.pre,k=i.post.length?e(i.post,!1):[""];if(m){var w=l(c[0]),C=l(c[1]),S=Math.max(c[0].length,c[1].length),T=3==c.length?Math.abs(l(c[2])):1,x=h;C<w&&(T*=-1,x=g);var O=c.some(d);b=[];for(var P=w;x(P,C);P+=T){var j;if(f)"\\"===(j=String.fromCharCode(P))&&(j="");else if(j=String(P),O){var F=S-j.length;if(F>0){var E=new Array(F+1).join("0");j=P<0?"-"+E+j.slice(1):E+j}}b.push(j)}}else b=r(c,(function(t){return e(t,!1)}));for(var A=0;A<b.length;A++)for(var _=0;_<k.length;_++){var N=y+b[A]+k[_];(!n||m||N)&&s.push(N)}return s}(function(e){return e.split("\\\\").join(s).split("\\{").join(i).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(f)};var s="\0SLASH"+Math.random()+"\0",i="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function f(e){return e.split(s).join("\\").split(i).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function p(e){return"{"+e+"}"}function d(e){return/^-?0\d/.test(e)}function h(e,t){return e<=t}function g(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var r=[],o=0;o<e.length;o++){var s=t(e[o],o);n(s)?r.push.apply(r,s):r.push(s)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t,n){e instanceof RegExp&&(e=o(e,n)),t instanceof RegExp&&(t=o(t,n));var r=s(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function o(e,t){var n=t.match(e);return n?n[0]:null}function s(e,t,n){var r,o,s,i,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){for(r=[],s=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),u]:((o=r.pop())<s&&(s=o,i=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[s,i])}return a}e.exports=r,r.range=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NpmScriptsTreeDataProvider=void 0;const r=n(8),o=n(0),s=n(1),i=n(2),a=n(5),c=i.loadMessageBundle(n(0).join(__dirname,"npmView.ts"));class u extends s.TreeItem{constructor(e){super(e.name,s.TreeItemCollapsibleState.Expanded),this.packages=[],this.contextValue="folder",this.resourceUri=e.uri,this.workspaceFolder=e,this.iconPath=s.ThemeIcon.Folder}addPackage(e){this.packages.push(e)}}class l extends s.TreeItem{constructor(e,t){super(l.getLabel(e.label,t),s.TreeItemCollapsibleState.Expanded),this.scripts=[],this.folder=e,this.path=t,this.contextValue="packageJSON",this.resourceUri=t?s.Uri.file(o.join(e.resourceUri.fsPath,t,"package.json")):s.Uri.file(o.join(e.resourceUri.fsPath,"package.json")),this.iconPath=s.ThemeIcon.File}static getLabel(e,t){return t.length>0?o.join(t,"package.json"):"package.json"}addScript(e){this.scripts.push(e)}}class f extends s.TreeItem{constructor(e,t,n){super(n.name,s.TreeItemCollapsibleState.None);const r=s.workspace.getConfiguration("npm").get("scriptExplorerAction")||"open",o={open:{title:"Edit Script",command:"npm.openScript",arguments:[this]},run:{title:"Run Script",command:"npm.runScript",arguments:[this]}};this.contextValue="script",this.package=t,this.task=n,this.command=o[r],n.group&&n.group===s.TaskGroup.Clean?this.iconPath=new s.ThemeIcon("wrench-subaction"):this.iconPath=new s.ThemeIcon("wrench"),n.detail&&(this.tooltip=n.detail)}getFolder(){return this.package.folder.workspaceFolder}}class p extends s.TreeItem{constructor(e){super(e,s.TreeItemCollapsibleState.None),this.contextValue="noscripts"}}t.NpmScriptsTreeDataProvider=class{constructor(e){this.taskTree=null,this._onDidChangeTreeData=new s.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event;const t=e.subscriptions;this.extensionContext=e,t.push(s.commands.registerCommand("npm.runScript",this.runScript,this)),t.push(s.commands.registerCommand("npm.debugScript",this.debugScript,this)),t.push(s.commands.registerCommand("npm.openScript",this.openScript,this)),t.push(s.commands.registerCommand("npm.runInstall",this.runInstall,this))}async runScript(e){s.tasks.executeTask(e.task)}async debugScript(e){a.startDebugging(e.task.definition.script,o.dirname(e.package.resourceUri.fsPath),e.getFolder())}findScript(e,t){let n=0,o=!1,s={onError:()=>n,onObjectEnd(){o&&(o=!1)},onObjectProperty(e,r,s){if("scripts"===e)o=!0,t||(n=r);else if(o&&t){let o=a.getTaskName(e,t.task.definition.path);t.task.name===o&&(n=r)}}};return r.visit(e.getText(),s),n}async runInstall(e){let t=void 0;if(e instanceof l&&(t=e.resourceUri),!t)return;let n=a.createTask("install","install",e.folder.workspaceFolder,t,void 0,[]);s.tasks.executeTask(n)}async openScript(e){let t=void 0;if(e instanceof l?t=e.resourceUri:e instanceof f&&(t=e.package.resourceUri),!t)return;let n=await s.workspace.openTextDocument(t),r=this.findScript(n,e instanceof f?e:void 0),o=n.positionAt(r);await s.window.showTextDocument(n,{preserveFocus:!0,selection:new s.Selection(o,o)})}refresh(){this.taskTree=null,this._onDidChangeTreeData.fire(null)}getTreeItem(e){return e}getParent(e){return e instanceof u?null:e instanceof l?e.folder:e instanceof f?e.package:null}async getChildren(e){if(!this.taskTree){let e=await s.tasks.fetchTasks({type:"npm"});if(e&&(this.taskTree=this.buildTaskTree(e),0===this.taskTree.length)){let e=c(0,null);a.isAutoDetectionEnabled()||(e=c(1,null)),this.taskTree=[new p(e)]}}return e instanceof u?e.packages:e instanceof l?e.scripts:e instanceof f||e instanceof p?[]:!e&&this.taskTree?this.taskTree:[]}isInstallTask(e){return a.getTaskName("install",e.definition.path)===e.name}buildTaskTree(e){let t=new Map,n=new Map,r=null,s=null;return e.forEach(e=>{if(a.isWorkspaceFolder(e.scope)&&!this.isInstallTask(e)){r=t.get(e.scope.name),r||(r=new u(e.scope),t.set(e.scope.name,r));let i=e.definition,a=i.path?i.path:"",c=o.join(e.scope.name,a);s=n.get(c),s||(s=new l(r,a),r.addPackage(s),n.set(c,s));let p=new f(this.extensionContext,s,e);s.addScript(p)}}),1===t.size?[...n.values()]:[...t.values()]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NpmScriptHoverProvider=t.invalidateHoverScriptsCache=void 0;const r=n(1),o=n(5),s=n(2),i=n(0),a=s.loadMessageBundle(n(0).join(__dirname,"scriptHover.ts"));let c=void 0,u=void 0;function l(e){e?e.uri===c&&(c=void 0):c=void 0}t.invalidateHoverScriptsCache=l;t.NpmScriptHoverProvider=class{constructor(e){e.subscriptions.push(r.commands.registerCommand("npm.runScriptFromHover",this.runScriptFromHover,this)),e.subscriptions.push(r.commands.registerCommand("npm.debugScriptFromHover",this.debugScriptFromHover,this)),e.subscriptions.push(r.workspace.onDidChangeTextDocument(e=>{l(e.document)}))}provideHover(e,t,n){let s=void 0;return c&&c.fsPath===e.uri.fsPath||(u=o.findAllScriptRanges(e.getText()),c=e.uri),u.forEach((n,o)=>{let i=e.positionAt(n[0]),a=e.positionAt(n[0]+n[1]);if(new r.Range(i,a).contains(t)){let t=new r.MarkdownString;t.isTrusted=!0,t.appendMarkdown(this.createRunScriptMarkdown(o,e.uri)),t.appendMarkdown(this.createDebugScriptMarkdown(o,e.uri)),s=new r.Hover(t)}}),s}createRunScriptMarkdown(e,t){let n={documentUri:t,script:e};return this.createMarkdownLink(a(0,null),"npm.runScriptFromHover",n,a(1,null))}createDebugScriptMarkdown(e,t){const n={documentUri:t,script:e};return this.createMarkdownLink(a(2,null),"npm.debugScriptFromHover",n,a(3,null),"|")}createMarkdownLink(e,t,n,r,o){let s="";return o&&(s=` ${o} `),`${s}[${e}](command:${t}?${encodeURIComponent(JSON.stringify(n))} "${r}")`}runScriptFromHover(e){let t=e.script,n=e.documentUri,s=r.workspace.getWorkspaceFolder(n);if(s){let e=o.createTask(t,"run "+t,s,n);r.tasks.executeTask(e)}}debugScriptFromHover(e){let t=e.script,n=e.documentUri,s=r.workspace.getWorkspaceFolder(n);s&&o.startDebugging(t,i.dirname(n.fsPath),s)}}}]));
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/undefined/extensions/npm/dist/npmMain.js.map