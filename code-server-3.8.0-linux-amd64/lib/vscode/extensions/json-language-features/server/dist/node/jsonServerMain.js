!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=33)}([function(e,t,n){"use strict";var r,o,i,s,a,c,u,l,f,d,h,p,m,g,v,y,b,C,x,w,T;n.r(t),n.d(t,"Position",(function(){return r})),n.d(t,"Range",(function(){return o})),n.d(t,"Location",(function(){return i})),n.d(t,"LocationLink",(function(){return s})),n.d(t,"Color",(function(){return a})),n.d(t,"ColorInformation",(function(){return c})),n.d(t,"ColorPresentation",(function(){return u})),n.d(t,"FoldingRangeKind",(function(){return l})),n.d(t,"FoldingRange",(function(){return f})),n.d(t,"DiagnosticRelatedInformation",(function(){return d})),n.d(t,"DiagnosticSeverity",(function(){return h})),n.d(t,"DiagnosticTag",(function(){return p})),n.d(t,"DiagnosticCode",(function(){return m})),n.d(t,"Diagnostic",(function(){return g})),n.d(t,"Command",(function(){return v})),n.d(t,"TextEdit",(function(){return y})),n.d(t,"TextDocumentEdit",(function(){return b})),n.d(t,"CreateFile",(function(){return C})),n.d(t,"RenameFile",(function(){return x})),n.d(t,"DeleteFile",(function(){return w})),n.d(t,"WorkspaceEdit",(function(){return T})),n.d(t,"WorkspaceChange",(function(){return Q})),n.d(t,"TextDocumentIdentifier",(function(){return S})),n.d(t,"VersionedTextDocumentIdentifier",(function(){return k})),n.d(t,"TextDocumentItem",(function(){return R})),n.d(t,"MarkupKind",(function(){return _})),n.d(t,"MarkupContent",(function(){return P})),n.d(t,"CompletionItemKind",(function(){return E})),n.d(t,"InsertTextFormat",(function(){return O})),n.d(t,"CompletionItemTag",(function(){return D})),n.d(t,"InsertReplaceEdit",(function(){return M})),n.d(t,"CompletionItem",(function(){return A})),n.d(t,"CompletionList",(function(){return N})),n.d(t,"MarkedString",(function(){return q})),n.d(t,"Hover",(function(){return F})),n.d(t,"ParameterInformation",(function(){return j})),n.d(t,"SignatureInformation",(function(){return I})),n.d(t,"DocumentHighlightKind",(function(){return L})),n.d(t,"DocumentHighlight",(function(){return W})),n.d(t,"SymbolKind",(function(){return V})),n.d(t,"SymbolTag",(function(){return $})),n.d(t,"SymbolInformation",(function(){return U})),n.d(t,"DocumentSymbol",(function(){return H})),n.d(t,"CodeActionKind",(function(){return z})),n.d(t,"CodeActionContext",(function(){return B})),n.d(t,"CodeAction",(function(){return K})),n.d(t,"CodeLens",(function(){return J})),n.d(t,"FormattingOptions",(function(){return G})),n.d(t,"DocumentLink",(function(){return X})),n.d(t,"SelectionRange",(function(){return Y})),n.d(t,"EOL",(function(){return te})),n.d(t,"TextDocument",(function(){return ee})),function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return ne.objectLiteral(t)&&ne.number(t.line)&&ne.number(t.character)}}(r||(r={})),function(e){e.create=function(e,t,n,o){if(ne.number(e)&&ne.number(t)&&ne.number(n)&&ne.number(o))return{start:r.create(e,t),end:r.create(n,o)};if(r.is(e)&&r.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+o+"]")},e.is=function(e){var t=e;return ne.objectLiteral(t)&&r.is(t.start)&&r.is(t.end)}}(o||(o={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return ne.defined(t)&&o.is(t.range)&&(ne.string(t.uri)||ne.undefined(t.uri))}}(i||(i={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return ne.defined(t)&&o.is(t.targetRange)&&ne.string(t.targetUri)&&(o.is(t.targetSelectionRange)||ne.undefined(t.targetSelectionRange))&&(o.is(t.originSelectionRange)||ne.undefined(t.originSelectionRange))}}(s||(s={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return ne.number(t.red)&&ne.number(t.green)&&ne.number(t.blue)&&ne.number(t.alpha)}}(a||(a={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return o.is(t.range)&&a.is(t.color)}}(c||(c={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return ne.string(t.label)&&(ne.undefined(t.textEdit)||y.is(t))&&(ne.undefined(t.additionalTextEdits)||ne.typedArray(t.additionalTextEdits,y.is))}}(u||(u={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(l||(l={})),function(e){e.create=function(e,t,n,r,o){var i={startLine:e,endLine:t};return ne.defined(n)&&(i.startCharacter=n),ne.defined(r)&&(i.endCharacter=r),ne.defined(o)&&(i.kind=o),i},e.is=function(e){var t=e;return ne.number(t.startLine)&&ne.number(t.startLine)&&(ne.undefined(t.startCharacter)||ne.number(t.startCharacter))&&(ne.undefined(t.endCharacter)||ne.number(t.endCharacter))&&(ne.undefined(t.kind)||ne.string(t.kind))}}(f||(f={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return ne.defined(t)&&i.is(t.location)&&ne.string(t.message)}}(d||(d={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(h||(h={})),function(e){e.Unnecessary=1,e.Deprecated=2}(p||(p={})),function(e){e.is=function(e){var t=e;return null!=t&&(ne.number(t.value)||ne.string(t.value))&&ne.string(t.target)}}(m||(m={})),function(e){e.create=function(e,t,n,r,o,i){var s={range:e,message:t};return ne.defined(n)&&(s.severity=n),ne.defined(r)&&(s.code=r),ne.defined(o)&&(s.source=o),ne.defined(i)&&(s.relatedInformation=i),s},e.is=function(e){var t=e;return ne.defined(t)&&o.is(t.range)&&ne.string(t.message)&&(ne.number(t.severity)||ne.undefined(t.severity))&&(ne.number(t.code)||ne.string(t.code)||ne.undefined(t.code))&&(ne.string(t.source)||ne.undefined(t.source))&&(ne.undefined(t.relatedInformation)||ne.typedArray(t.relatedInformation,d.is))}}(g||(g={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o={title:e,command:t};return ne.defined(n)&&n.length>0&&(o.arguments=n),o},e.is=function(e){var t=e;return ne.defined(t)&&ne.string(t.title)&&ne.string(t.command)}}(v||(v={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return ne.objectLiteral(t)&&ne.string(t.newText)&&o.is(t.range)}}(y||(y={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return ne.defined(t)&&k.is(t.textDocument)&&Array.isArray(t.edits)}}(b||(b={})),function(e){e.create=function(e,t){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&ne.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||ne.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||ne.boolean(t.options.ignoreIfExists)))}}(C||(C={})),function(e){e.create=function(e,t,n){var r={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(r.options=n),r},e.is=function(e){var t=e;return t&&"rename"===t.kind&&ne.string(t.oldUri)&&ne.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||ne.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||ne.boolean(t.options.ignoreIfExists)))}}(x||(x={})),function(e){e.create=function(e,t){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&ne.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||ne.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||ne.boolean(t.options.ignoreIfNotExists)))}}(w||(w={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return ne.string(e.kind)?C.is(e)||x.is(e)||w.is(e):b.is(e)})))}}(T||(T={}));var S,k,R,_,P,E,O,D,M,A,N,q,F,j,I,L,W,V,$,U,H,z,B,K,J,G,X,Y,Z=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(y.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(y.replace(e,t))},e.prototype.delete=function(e){this.edits.push(y.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),Q=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach((function(e){if(b.is(e)){var n=new Z(e.edits);t._textEditChanges[e.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new Z(e.changes[n]);t._textEditChanges[n]=r})))}return Object.defineProperty(e.prototype,"edit",{get:function(){return void 0===this._workspaceEdit?{documentChanges:[]}:this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(k.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:o=[]};this._workspaceEdit.documentChanges.push(n),r=new Z(o),this._textEditChanges[t.uri]=r}return r}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var o=[];this._workspaceEdit.changes[e]=o,r=new Z(o),this._textEditChanges[e]=r}return r},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(C.create(e,t))},e.prototype.renameFile=function(e,t,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(x.create(e,t,n))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(w.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return ne.defined(t)&&ne.string(t.uri)}}(S||(S={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return ne.defined(t)&&ne.string(t.uri)&&(null===t.version||ne.number(t.version))}}(k||(k={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return ne.defined(t)&&ne.string(t.uri)&&ne.string(t.languageId)&&ne.number(t.version)&&ne.string(t.text)}}(R||(R={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(_||(_={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(_||(_={})),function(e){e.is=function(e){var t=e;return ne.objectLiteral(e)&&_.is(t.kind)&&ne.string(t.value)}}(P||(P={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(E||(E={})),function(e){e.PlainText=1,e.Snippet=2}(O||(O={})),function(e){e.Deprecated=1}(D||(D={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&ne.string(t.newText)&&o.is(t.insert)&&o.is(t.replace)}}(M||(M={})),function(e){e.create=function(e){return{label:e}}}(A||(A={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(N||(N={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return ne.string(t)||ne.objectLiteral(t)&&ne.string(t.language)&&ne.string(t.value)}}(q||(q={})),function(e){e.is=function(e){var t=e;return!!t&&ne.objectLiteral(t)&&(P.is(t.contents)||q.is(t.contents)||ne.typedArray(t.contents,q.is))&&(void 0===e.range||o.is(e.range))}}(F||(F={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(j||(j={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o={label:e};return ne.defined(t)&&(o.documentation=t),ne.defined(n)?o.parameters=n:o.parameters=[],o}}(I||(I={})),function(e){e.Text=1,e.Read=2,e.Write=3}(L||(L={})),function(e){e.create=function(e,t){var n={range:e};return ne.number(t)&&(n.kind=t),n}}(W||(W={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(V||(V={})),function(e){e.Deprecated=1}($||($={})),function(e){e.create=function(e,t,n,r,o){var i={name:e,kind:t,location:{uri:r,range:n}};return o&&(i.containerName=o),i}}(U||(U={})),function(e){e.create=function(e,t,n,r,o,i){var s={name:e,detail:t,kind:n,range:r,selectionRange:o};return void 0!==i&&(s.children=i),s},e.is=function(e){var t=e;return t&&ne.string(t.name)&&ne.number(t.kind)&&o.is(t.range)&&o.is(t.selectionRange)&&(void 0===t.detail||ne.string(t.detail))&&(void 0===t.deprecated||ne.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(H||(H={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(z||(z={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return ne.defined(t)&&ne.typedArray(t.diagnostics,g.is)&&(void 0===t.only||ne.typedArray(t.only,ne.string))}}(B||(B={})),function(e){e.create=function(e,t,n){var r={title:e};return v.is(t)?r.command=t:r.edit=t,void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&ne.string(t.title)&&(void 0===t.diagnostics||ne.typedArray(t.diagnostics,g.is))&&(void 0===t.kind||ne.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||v.is(t.command))&&(void 0===t.isPreferred||ne.boolean(t.isPreferred))&&(void 0===t.edit||T.is(t.edit))}}(K||(K={})),function(e){e.create=function(e,t){var n={range:e};return ne.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return ne.defined(t)&&o.is(t.range)&&(ne.undefined(t.command)||v.is(t.command))}}(J||(J={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return ne.defined(t)&&ne.number(t.tabSize)&&ne.boolean(t.insertSpaces)}}(G||(G={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return ne.defined(t)&&o.is(t.range)&&(ne.undefined(t.target)||ne.string(t.target))}}(X||(X={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return void 0!==n&&o.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(Y||(Y={}));var ee,te=["\n","\r\n","\r"];!function(e){e.create=function(e,t,n,r){return new re(e,t,n,r)},e.is=function(e){var t=e;return!!(ne.defined(t)&&ne.string(t.uri)&&(ne.undefined(t.languageId)||ne.string(t.languageId))&&ne.number(t.lineCount)&&ne.func(t.getText)&&ne.func(t.positionAt)&&ne.func(t.offsetAt))},e.applyEdits=function(e,t){for(var n=e.getText(),r=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0,o=t.slice(0,r),i=t.slice(r);e(o,n),e(i,n);var s=0,a=0,c=0;for(;s<o.length&&a<i.length;){var u=n(o[s],i[a]);t[c++]=u<=0?o[s++]:i[a++]}for(;s<o.length;)t[c++]=o[s++];for(;a<i.length;)t[c++]=i[a++];return t}(t,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=n.length,i=r.length-1;i>=0;i--){var s=r[i],a=e.offsetAt(s.range.start),c=e.offsetAt(s.range.end);if(!(c<=o))throw new Error("Overlapping edit");n=n.substring(0,a)+s.newText+n.substring(c,n.length),o=a}return n}}(ee||(ee={}));var ne,re=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var o=t.charAt(r);n="\r"===o||"\n"===o,"\r"===o&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,o=t.length;if(0===o)return r.create(0,e);for(;n<o;){var i=Math.floor((n+o)/2);t[i]>e?o=i:n=i+1}var s=n-1;return r.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(ne||(ne={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);class o extends r.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=o;class i extends r.RequestType{constructor(e){super(e)}}t.ProtocolRequestType=i;class s extends r.NotificationType{constructor(e){super(e)}}t.ProtocolNotificationType=s;class a extends r.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(35);r.default.install();const o=n(20),i=n(11),s=n(23),a=n(41),c=n(15);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(20));class u extends o.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),o.Disposable.create(()=>this.process.off("message",e))}}t.IPCMessageReader=u;class l extends o.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}t.IPCMessageWriter=l;class f extends o.ReadableStreamMessageReader{constructor(e,t="utf-8"){super(r.default().stream.asReadableStream(e),t)}}t.SocketMessageReader=f;class d extends o.WriteableStreamMessageWriter{constructor(e,t){super(r.default().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=d;class h extends o.ReadableStreamMessageReader{constructor(e,t){super(r.default().stream.asReadableStream(e),t)}}t.StreamMessageReader=h;class p extends o.WriteableStreamMessageWriter{constructor(e,t){super(r.default().stream.asWritableStream(e),t)}}t.StreamMessageWriter=p,t.generateRandomPipeName=function(){const e=a.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:i.join(s.tmpdir(),`vscode-${e}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let n;const r=new Promise((e,t)=>{n=e});return new Promise((o,i)=>{let s=c.createServer(e=>{s.close(),n([new f(e,t),new d(e,t)])});s.on("error",i),s.listen(e,()=>{s.removeListener("error",i),o({onConnected:()=>r})})})},t.createServerPipeTransport=function(e,t="utf-8"){const n=c.createConnection(e);return[new f(n,t),new d(n,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let n;const r=new Promise((e,t)=>{n=e});return new Promise((o,i)=>{const s=c.createServer(e=>{s.close(),n([new f(e,t),new d(e,t)])});s.on("error",i),s.listen(e,"127.0.0.1",()=>{s.removeListener("error",i),o({onConnected:()=>r})})})},t.createServerSocketTransport=function(e,t="utf-8"){const n=c.createConnection(e,"127.0.0.1");return[new f(n,t),new d(n,t)]},t.createMessageConnection=function(e,t,n,r){n||(n=o.NullLogger);const i=void 0!==(s=e).listen&&void 0===s.read?e:new h(e);var s;const a=function(e){return void 0!==e.write&&void 0===e.end}(t)?t:new p(t);return o.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),o.createMessageConnection(i,a,n,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=void 0;var r=n(11),o=n(12),i=n(26),s=n(27),a=n(27);Object.defineProperty(t,"MessageFormat",{enumerable:!0,get:function(){return a.MessageFormat}}),Object.defineProperty(t,"BundleFormat",{enumerable:!0,get:function(){return a.BundleFormat}});var c,u,l=Object.prototype.toString;function f(e){return"[object Number]"===l.call(e)}function d(e){return"[object String]"===l.call(e)}function h(e){return JSON.parse(o.readFileSync(e,"utf8"))}function p(e){return function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return f(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):s.format(e[t],r):d(n)?(console.warn("Message "+n+" didn't get externalized correctly."),s.format(n,r)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function m(e,t){return c[e]=t,t}function g(e,t){var n,i,s,a=r.join(u.cacheRoot,e.id+"-"+e.hash+".json"),c=!1,l=!1;try{return n=JSON.parse(o.readFileSync(a,{encoding:"utf8",flag:"r"})),i=a,s=new Date,o.utimes(i,s,s,(function(){})),n}catch(e){if("ENOENT"===e.code)l=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),o.unlink(a,(function(e){e&&console.error("Deleting corrupted bundle "+a+" failed.")})),c=!0}}if(!(n=function(e,t){var n=u.translationsConfig[e.id];if(n){var o=h(n).contents,i=h(r.join(t,"nls.metadata.json")),s=Object.create(null);for(var a in i){var c=i[a],l=o[e.outDir+"/"+a];if(l){for(var f=[],p=0;p<c.keys.length;p++){var m=c.keys[p],g=l[d(m)?m:m.key];void 0===g&&(g=c.messages[p]),f.push(g)}s[a]=f}else s[a]=c.messages}return s}}(e,t))||c)return n;if(l)try{o.writeFileSync(a,JSON.stringify(n),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return n;throw e}return n}function v(e){try{return function(e){var t=h(r.join(e,"nls.metadata.json")),n=Object.create(null);for(var o in t){var i=t[o];n[o]=i.messages}return n}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function y(e,t){var n;if(!0===u.languagePackSupport&&void 0!==u.cacheRoot&&void 0!==u.languagePackId&&void 0!==u.translationsConfigFile&&void 0!==u.translationsConfig)try{n=g(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!n){if(u.languagePackSupport)return v(t);var i=function(e){for(var t=u.language;t;){var n=r.join(e,"nls.bundle."+t+".json");if(o.existsSync(n))return n;var i=t.lastIndexOf("-");t=i>0?t.substring(0,i):void 0}if(void 0===t){n=r.join(e,"nls.bundle.json");if(o.existsSync(n))return n}}(t);if(i)try{return h(i)}catch(e){console.log("Loading in the box message bundle failed.",e)}n=v(t)}return n}function b(e){if(!e)return s.localize;var t=r.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),u.messageFormat===s.MessageFormat.both||u.messageFormat===s.MessageFormat.bundle){var n=function(e){for(var t,n=r.dirname(e);t=r.join(n,"nls.metadata.header.json"),!o.existsSync(t);){var i=r.dirname(n);if(i===n){t=void 0;break}n=i}return t}(e);if(n){var i=r.dirname(n),a=c[i];if(void 0===a)try{var l=JSON.parse(o.readFileSync(n,"utf8"));try{var f=y(l,i);a=m(i,f?{header:l,nlsBundle:f}:null)}catch(e){console.error("Failed to load nls bundle",e),a=m(i,null)}}catch(e){console.error("Failed to read header file",e),a=m(i,null)}if(a){var d=e.substr(i.length+1).replace(/\\/g,"/"),g=a.nlsBundle[d];return void 0===g?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):p(g)}}}if(u.messageFormat===s.MessageFormat.both||u.messageFormat===s.MessageFormat.file)try{var v=h(function(e){var t;if(u.cacheLanguageResolution&&t)t=t;else{if(s.isPseudo||!u.language)t=".nls.json";else for(var n=u.language;n;){var r=".nls."+n+".json";if(o.existsSync(e+r)){t=r;break}var i=n.lastIndexOf("-");i>0?n=n.substring(0,i):(t=".nls.json",n=null)}u.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(v)?p(v):s.isDefined(v.messages)&&s.isDefined(v.keys)?p(v.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}function C(e){return e&&(d(e.locale)&&(u.locale=e.locale.toLowerCase(),u.language=u.locale,c=Object.create(null)),void 0!==e.messageFormat&&(u.messageFormat=e.messageFormat),e.bundleFormat===s.BundleFormat.standalone&&!0===u.languagePackSupport&&(u.languagePackSupport=!1)),s.setPseudo("pseudo"===u.locale),b}!function(){if(u={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:s.MessageFormat.bundle},d(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages["*"];d(n)&&(t=n)}if(d(e.locale)&&(u.locale=e.locale.toLowerCase()),void 0===t?u.language=u.locale:"en"!==t&&(u.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(u.languagePackSupport=e._languagePackSupport),d(e._cacheRoot)&&(u.cacheRoot=e._cacheRoot),d(e._languagePackId)&&(u.languagePackId=e._languagePackId),d(e._translationsConfigFile)){u.translationsConfigFile=e._translationsConfigFile;try{u.translationsConfig=h(u.translationsConfigFile)}catch(t){if(e._corruptedFile){var i=r.dirname(e._corruptedFile);o.exists(i,(function(t){t&&o.writeFile(e._corruptedFile,"corrupted","utf8",(function(e){console.error(e)}))}))}}}}catch(e){}s.setPseudo("pseudo"===u.locale),c=Object.create(null)}(),t.loadMessageBundle=b,t.config=C,i.default.install(Object.freeze({loadMessageBundle:b,config:C}))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const o=n(18);r(n(18)),r(n(42)),t.createProtocolConnection=function(e,t,n,r){return o.createMessageConnection(e,t,n,r)}},function(e,t,n){"use strict";let r;function o(){if(void 0===r)throw new Error("No runtime abstraction layer installed");return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");r=e}}(o||(o={})),t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"URI",(function(){return h})),n.d(t,"uriToFsPath",(function(){return b}));var r,o,i,s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});if("object"==typeof process)i="win32"===process.platform;else if("object"==typeof navigator){var a=navigator.userAgent;i=a.indexOf("Windows")>=0}var c=/^\w[\w\d+.-]*$/,u=/^\//,l=/^\/\//;var f="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,h=function(){function e(e,t,n,r,o,i){void 0===i&&(i=!1),"object"==typeof e?(this.scheme=e.scheme||"",this.authority=e.authority||"",this.path=e.path||"",this.query=e.query||"",this.fragment=e.fragment||""):(this.scheme=function(e,t){return e||t?e:"file"}(e,i),this.authority=t||"",this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==f&&(t=f+t):t=f}return t}(this.scheme,n||""),this.query=r||"",this.fragment=o||"",function(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+e.authority+'", path: "'+e.path+'", query: "'+e.query+'", fragment: "'+e.fragment+'"}');if(e.scheme&&!c.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!u.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,i))}return e.isUri=function(t){return t instanceof e||!!t&&("string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme&&"function"==typeof t.fsPath&&"function"==typeof t.with&&"function"==typeof t.toString)},Object.defineProperty(e.prototype,"fsPath",{get:function(){return b(this,!1)},enumerable:!0,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,o=e.query,i=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=""),void 0===n?n=this.authority:null===n&&(n=""),void 0===r?r=this.path:null===r&&(r=""),void 0===o?o=this.query:null===o&&(o=""),void 0===i?i=this.fragment:null===i&&(i=""),t===this.scheme&&n===this.authority&&r===this.path&&o===this.query&&i===this.fragment?this:new m(t,n,r,o,i)},e.parse=function(e,t){void 0===t&&(t=!1);var n=d.exec(e);return n?new m(n[2]||"",w(n[4]||""),w(n[5]||""),w(n[7]||""),w(n[9]||""),t):new m("","","","","")},e.file=function(e){var t="";if(i&&(e=e.replace(/\\/g,f)),e[0]===f&&e[1]===f){var n=e.indexOf(f,2);-1===n?(t=e.substring(2),e=f):(t=e.substring(2,n),e=e.substring(n)||f)}return new m("file",t,e,"","")},e.from=function(e){return new m(e.scheme,e.authority,e.path,e.query,e.fragment)},e.prototype.toString=function(e){return void 0===e&&(e=!1),C(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var n=new m(t);return n._formatted=t.external,n._fsPath=t._sep===p?t.fsPath:null,n}return t},e}(),p=i?1:void 0,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return s(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?C(this,!0):(this._formatted||(this._formatted=C(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=p),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(h),g=((o={})[58]="%3A",o[47]="%2F",o[63]="%3F",o[35]="%23",o[91]="%5B",o[93]="%5D",o[64]="%40",o[33]="%21",o[36]="%24",o[38]="%26",o[39]="%27",o[40]="%28",o[41]="%29",o[42]="%2A",o[43]="%2B",o[44]="%2C",o[59]="%3B",o[61]="%3D",o[32]="%20",o);function v(e,t){for(var n=void 0,r=-1,o=0;o<e.length;o++){var i=e.charCodeAt(o);if(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||45===i||46===i||95===i||126===i||t&&47===i)-1!==r&&(n+=encodeURIComponent(e.substring(r,o)),r=-1),void 0!==n&&(n+=e.charAt(o));else{void 0===n&&(n=e.substr(0,o));var s=g[i];void 0!==s?(-1!==r&&(n+=encodeURIComponent(e.substring(r,o)),r=-1),n+=s):-1===r&&(r=o)}}return-1!==r&&(n+=encodeURIComponent(e.substring(r))),void 0!==n?n:e}function y(e){for(var t=void 0,n=0;n<e.length;n++){var r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=g[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function b(e,t){var n;return n=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,i&&(n=n.replace(/\//g,"\\")),n}function C(e,t){var n=t?y:v,r="",o=e.scheme,i=e.authority,s=e.path,a=e.query,c=e.fragment;if(o&&(r+=o,r+=":"),(i||"file"===o)&&(r+=f,r+=f),i){var u=i.indexOf("@");if(-1!==u){var l=i.substr(0,u);i=i.substr(u+1),-1===(u=l.indexOf(":"))?r+=n(l,!1):(r+=n(l.substr(0,u),!1),r+=":",r+=n(l.substr(u+1),!1)),r+="@"}-1===(u=(i=i.toLowerCase()).indexOf(":"))?r+=n(i,!1):(r+=n(i.substr(0,u),!1),r+=i.substr(u))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2))(d=s.charCodeAt(1))>=65&&d<=90&&(s="/"+String.fromCharCode(d+32)+":"+s.substr(3));else if(s.length>=2&&58===s.charCodeAt(1)){var d;(d=s.charCodeAt(0))>=65&&d<=90&&(s=String.fromCharCode(d+32)+":"+s.substr(2))}r+=n(s,!0)}return a&&(r+="?",r+=n(a,!1)),c&&(r+="#",r+=t?c:v(c,!1)),r}var x=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(e){return e.match(x)?e.replace(x,(function(e){return function e(t){try{return decodeURIComponent(t)}catch(n){return t.length>3?t.substr(0,3)+e(t.substr(3)):t}}(e)})):e}},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function o(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=o,t.stringArray=function(e){return o(e)&&e.every(e=>r(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class o{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,o=this._callbacks.length;r<o;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),o=this._contexts.slice(0);for(let i=0,s=n.length;i<s;i++)try{t.push(n[i].apply(o[i],e))}catch(e){r.default().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new o),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=i,i._noop=function(){}},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),o=n(17),i=n(61),s=n(63);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(64)),function(e){e.uriToFilePath=i.uriToFilePath,e.resolveGlobalNodePath=i.resolveGlobalNodePath,e.resolveGlobalYarnPath=i.resolveGlobalYarnPath,e.resolve=i.resolve,e.resolveModulePath=i.resolveModulePath}(t.Files||(t.Files={}));let a=!1,c=void 0;!function(){function e(e){try{let t=parseInt(e);isNaN(t)||(c=setInterval(()=>{try{process.kill(t,0)}catch(e){process.exit(a?0:1)}},3e3))}catch(e){}}for(let t=2;t<process.argv.length;t++){let n=process.argv[t];if("--clientProcessId"===n&&t+1<process.argv.length)return void e(process.argv[t+1]);{let t=n.split("=");"--clientProcessId"===t[0]&&e(t[1])}}}();const u={initialize:e=>{const t=e.processId;r.number(t)&&void 0===c&&setInterval(()=>{try{process.kill(t,0)}catch(e){process.exit(a?0:1)}},3e3)},get shutdownReceived(){return a},set shutdownReceived(e){a=e},exit:e=>{process.exit(e)}};t.createConnection=function(e,t,n,i){let c,l,f,d;return void 0!==e&&"features"===e.__brand&&(c=e,e=t,t=n,n=i),s.ConnectionStrategy.is(e)||s.ConnectionOptions.is(e)?d=e:(l=e,f=t,d=n),function(e,t,n,i){if(!e&&!t&&process.argv.length>2){let n=void 0,r=void 0,o=process.argv.slice(2);for(let i=0;i<o.length;i++){let a=o[i];if("--node-ipc"===a){e=new s.IPCMessageReader(process),t=new s.IPCMessageWriter(process);break}if("--stdio"===a){e=process.stdin,t=process.stdout;break}if("--socket"===a){n=parseInt(o[i+1]);break}if("--pipe"===a){r=o[i+1];break}var c=a.split("=");if("--socket"===c[0]){n=parseInt(c[1]);break}if("--pipe"===c[0]){r=c[1];break}}if(n){let r=s.createServerSocketTransport(n);e=r[0],t=r[1]}else if(r){let n=s.createServerPipeTransport(r);e=n[0],t=n[1]}}var l="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+l);if(!t)throw new Error("Connection output stream is not set. "+l);if(r.func(e.read)&&r.func(e.on)){let t=e;t.on("end",()=>{process.exit(a?0:1)}),t.on("close",()=>{process.exit(a?0:1)})}return o.createConnection(r=>s.createProtocolConnection(e,t,r,n),u,i)}(l,f,d,c)}},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function o(e){return"function"==typeof e}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=o,t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&o(e.then)}},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("https")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(14),i=n(24),s=n(57),a=n(58),c=n(59),u=n(60);function l(e){if(null!==e)return e}t.TextDocuments=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new r.Emitter,this._onDidOpen=new r.Emitter,this._onDidClose=new r.Emitter,this._onDidSave=new r.Emitter,this._onWillSave=new r.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=r.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(e=>{let t=e.textDocument,n=this._configuration.create(t.uri,t.languageId,t.version,t.text);this._documents[t.uri]=n;let r=Object.freeze({document:n});this._onDidOpen.fire(r),this._onDidChangeContent.fire(r)}),e.onDidChangeTextDocument(e=>{let t=e.textDocument,n=e.contentChanges;if(0===n.length)return;let r=this._documents[t.uri];const{version:o}=t;if(null==o)throw new Error(`Received document change event for ${t.uri} without valid version identifier`);r=this._configuration.update(r,n,o),this._documents[t.uri]=r,this._onDidChangeContent.fire(Object.freeze({document:r}))}),e.onDidCloseTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&(delete this._documents[e.textDocument.uri],this._onDidClose.fire(Object.freeze({document:t})))}),e.onWillSaveTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&this._onWillSave.fire(Object.freeze({document:t,reason:e.reason}))}),e.onWillSaveTextDocumentWaitUntil((e,t)=>{let n=this._documents[e.textDocument.uri];return n&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:n,reason:e.reason}),t):[]}),e.onDidSaveTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&this._onDidSave.fire(Object.freeze({document:t}))})}};t.ErrorMessageTracker=class{constructor(){this._messages=Object.create(null)}add(e){let t=this._messages[e];t||(t=0),t++,this._messages[e]=t}sendErrors(e){Object.keys(this._messages).forEach(t=>{e.window.showErrorMessage(t)})}};class f{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(r.MessageType.Error,e)}warn(e){this.send(r.MessageType.Warning,e)}info(e){this.send(r.MessageType.Info,e)}log(e){this.send(r.MessageType.Log,e)}send(e,t){this._rawConnection&&this._rawConnection.sendNotification(r.LogMessageNotification.type,{type:e,message:t})}}const d=s.ProgressFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...t){let n={type:r.MessageType.Error,message:e,actions:t};return this.connection.sendRequest(r.ShowMessageRequest.type,n).then(l)}showWarningMessage(e,...t){let n={type:r.MessageType.Warning,message:e,actions:t};return this.connection.sendRequest(r.ShowMessageRequest.type,n).then(l)}showInformationMessage(e,...t){let n={type:r.MessageType.Info,message:e,actions:t};return this.connection.sendRequest(r.ShowMessageRequest.type,n).then(l)}});!function(e){e.create=function(){return new h}}(t.BulkRegistration||(t.BulkRegistration={}));class h{constructor(){this._registrations=[],this._registered=new Set}add(e,t){const n=o.string(e)?e:e.method;if(this._registered.has(n))throw new Error(n+" is already added to this registration");const r=i.generateUuid();this._registrations.push({id:r,method:n,registerOptions:t||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}}!function(e){e.create=function(){return new p(void 0,[])}}(t.BulkUnregistration||(t.BulkUnregistration={}));class p{constructor(e,t){this._connection=e,this._unregistrations=new Map,t.forEach(e=>{this._unregistrations.set(e.method,e)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let t of this._unregistrations.values())e.push(t);let t={unregisterations:e};this._connection.sendRequest(r.UnregistrationRequest.type,t).then(void 0,e=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){const t=o.string(e)?e:e.method,n=this._unregistrations.get(t);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(r.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(t)},e=>{this._connection.console.info(`Unregistering request handler for ${n.id} failed.`)}),!0}}class m{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,t,n){return e instanceof h?this.registerMany(e):e instanceof p?this.registerSingle1(e,t,n):this.registerSingle2(e,t)}registerSingle1(e,t,n){const s=o.string(t)?t:t.method,a=i.generateUuid();let c={registrations:[{id:a,method:s,registerOptions:n||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(r.RegistrationRequest.type,c).then(t=>(e.add({id:a,method:s}),e),e=>(this.connection.console.info(`Registering request handler for ${s} failed.`),Promise.reject(e)))}registerSingle2(e,t){const n=o.string(e)?e:e.method,s=i.generateUuid();let a={registrations:[{id:s,method:n,registerOptions:t||{}}]};return this.connection.sendRequest(r.RegistrationRequest.type,a).then(e=>r.Disposable.create(()=>{this.unregisterSingle(s,n)}),e=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(e)))}unregisterSingle(e,t){let n={unregisterations:[{id:e,method:t}]};return this.connection.sendRequest(r.UnregistrationRequest.type,n).then(void 0,t=>{this.connection.console.info(`Unregistering request handler for ${e} failed.`)})}registerMany(e){let t=e.asRegistrationParams();return this.connection.sendRequest(r.RegistrationRequest.type,t).then(()=>new p(this._connection,t.registrations.map(e=>({id:e.id,method:e.method}))),e=>(this.connection.console.info("Bulk registration failed."),Promise.reject(e)))}}const g=c.WorkspaceFoldersFeature(a.ConfigurationFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){let t=(n=e)&&n.edit?e:{edit:e};var n;return this.connection.sendRequest(r.ApplyWorkspaceEditRequest.type,t)}}));class v{constructor(){this._trace=r.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,t){this._trace!==r.Trace.Off&&this.connection.sendNotification(r.LogTraceNotification.type,{message:e,verbose:this._trace===r.Trace.Verbose?t:void 0})}}class y{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(r.TelemetryEventNotification.type,e)}}class b{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return s.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,t){return s.attachPartialResult(this.connection,t)}}t._LanguagesImpl=b;const C=u.CallHierarchyFeature(b);function x(e,t){return function(n){return t(e(n))}}function w(e,t){return function(n){return t(e(n))}}function T(e,t){return function(n){return t(e(n))}}function S(e,t){return function(n){return t(e(n))}}function k(e,t){return function(n){return t(e(n))}}function R(e,t){return function(n){return t(e(n))}}t.combineConsoleFeatures=x,t.combineTelemetryFeatures=w,t.combineTracerFeatures=T,t.combineClientFeatures=S,t.combineWindowFeatures=k,t.combineWorkspaceFeatures=R,t.combineLanguagesFeatures=function(e,t){return function(n){return t(e(n))}},t.combineFeatures=function(e,t){function n(e,t,n){return e&&t?n(e,t):e||t}return{__brand:"features",console:n(e.console,t.console,x),tracer:n(e.tracer,t.tracer,T),telemetry:n(e.telemetry,t.telemetry,w),client:n(e.client,t.client,S),window:n(e.window,t.window,k),workspace:n(e.workspace,t.workspace,R)}},t.createConnection=function(e,t,n){const i=n&&n.console?new(n.console(f)):new f,a=e(i);i.rawAttach(a);const c=n&&n.tracer?new(n.tracer(v)):new v,u=n&&n.telemetry?new(n.telemetry(y)):new y,l=n&&n.client?new(n.client(m)):new m,h=n&&n.window?new(n.window(d)):new d,p=n&&n.workspace?new(n.workspace(g)):new g,b=n&&n.languages?new(n.languages(C)):new C,x=[i,c,u,l,h,p,b];function w(e){return e instanceof Promise?e:o.thenable(e)?new Promise((t,n)=>{e.then(e=>t(e),e=>n(e))}):Promise.resolve(e)}let T=void 0,S=void 0,k=void 0,R={listen:()=>a.listen(),sendRequest:(e,...t)=>a.sendRequest(o.string(e)?e:e.method,...t),onRequest:(e,t)=>a.onRequest(e,t),sendNotification:(e,t)=>{const n=o.string(e)?e:e.method;1===arguments.length?a.sendNotification(n):a.sendNotification(n,t)},onNotification:(e,t)=>a.onNotification(e,t),onProgress:a.onProgress,sendProgress:a.sendProgress,onInitialize:e=>S=e,onInitialized:e=>a.onNotification(r.InitializedNotification.type,e),onShutdown:e=>T=e,onExit:e=>k=e,get console(){return i},get telemetry(){return u},get tracer(){return c},get client(){return l},get window(){return h},get workspace(){return p},get languages(){return b},onDidChangeConfiguration:e=>a.onNotification(r.DidChangeConfigurationNotification.type,e),onDidChangeWatchedFiles:e=>a.onNotification(r.DidChangeWatchedFilesNotification.type,e),__textDocumentSync:void 0,onDidOpenTextDocument:e=>a.onNotification(r.DidOpenTextDocumentNotification.type,e),onDidChangeTextDocument:e=>a.onNotification(r.DidChangeTextDocumentNotification.type,e),onDidCloseTextDocument:e=>a.onNotification(r.DidCloseTextDocumentNotification.type,e),onWillSaveTextDocument:e=>a.onNotification(r.WillSaveTextDocumentNotification.type,e),onWillSaveTextDocumentWaitUntil:e=>a.onRequest(r.WillSaveTextDocumentWaitUntilRequest.type,e),onDidSaveTextDocument:e=>a.onNotification(r.DidSaveTextDocumentNotification.type,e),sendDiagnostics:e=>a.sendNotification(r.PublishDiagnosticsNotification.type,e),onHover:e=>a.onRequest(r.HoverRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),void 0)),onCompletion:e=>a.onRequest(r.CompletionRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onCompletionResolve:e=>a.onRequest(r.CompletionResolveRequest.type,e),onSignatureHelp:e=>a.onRequest(r.SignatureHelpRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),void 0)),onDeclaration:e=>a.onRequest(r.DeclarationRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onDefinition:e=>a.onRequest(r.DefinitionRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onTypeDefinition:e=>a.onRequest(r.TypeDefinitionRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onImplementation:e=>a.onRequest(r.ImplementationRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onReferences:e=>a.onRequest(r.ReferencesRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onDocumentHighlight:e=>a.onRequest(r.DocumentHighlightRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onDocumentSymbol:e=>a.onRequest(r.DocumentSymbolRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onWorkspaceSymbol:e=>a.onRequest(r.WorkspaceSymbolRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onCodeAction:e=>a.onRequest(r.CodeActionRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onCodeLens:e=>a.onRequest(r.CodeLensRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onCodeLensResolve:e=>a.onRequest(r.CodeLensResolveRequest.type,(t,n)=>e(t,n)),onDocumentFormatting:e=>a.onRequest(r.DocumentFormattingRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),void 0)),onDocumentRangeFormatting:e=>a.onRequest(r.DocumentRangeFormattingRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),void 0)),onDocumentOnTypeFormatting:e=>a.onRequest(r.DocumentOnTypeFormattingRequest.type,(t,n)=>e(t,n)),onRenameRequest:e=>a.onRequest(r.RenameRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),void 0)),onPrepareRename:e=>a.onRequest(r.PrepareRenameRequest.type,(t,n)=>e(t,n)),onDocumentLinks:e=>a.onRequest(r.DocumentLinkRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onDocumentLinkResolve:e=>a.onRequest(r.DocumentLinkResolveRequest.type,(t,n)=>e(t,n)),onDocumentColor:e=>a.onRequest(r.DocumentColorRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onColorPresentation:e=>a.onRequest(r.ColorPresentationRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onFoldingRanges:e=>a.onRequest(r.FoldingRangeRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onSelectionRanges:e=>a.onRequest(r.SelectionRangeRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),s.attachPartialResult(a,t))),onExecuteCommand:e=>a.onRequest(r.ExecuteCommandRequest.type,(t,n)=>e(t,n,s.attachWorkDone(a,t),void 0)),dispose:()=>a.dispose()};for(let e of x)e.attach(R);return a.onRequest(r.InitializeRequest.type,e=>{t.initialize(e),o.string(e.trace)&&(c.trace=r.Trace.fromString(e.trace));for(let t of x)t.initialize(e.capabilities);if(S){return w(S(e,(new r.CancellationTokenSource).token,s.attachWorkDone(a,e),void 0)).then(e=>{if(e instanceof r.ResponseError)return e;let t=e;t||(t={capabilities:{}});let n=t.capabilities;n||(n={},t.capabilities=n),void 0===n.textDocumentSync||null===n.textDocumentSync?n.textDocumentSync=o.number(R.__textDocumentSync)?R.__textDocumentSync:r.TextDocumentSyncKind.None:o.number(n.textDocumentSync)||o.number(n.textDocumentSync.change)||(n.textDocumentSync.change=o.number(R.__textDocumentSync)?R.__textDocumentSync:r.TextDocumentSyncKind.None);for(let e of x)e.fillServerCapabilities(n);return t})}{let e={capabilities:{textDocumentSync:r.TextDocumentSyncKind.None}};for(let t of x)t.fillServerCapabilities(e.capabilities);return e}}),a.onRequest(r.ShutdownRequest.type,()=>(t.shutdownReceived=!0,T?T((new r.CancellationTokenSource).token):void 0)),a.onNotification(r.ExitNotification.type,()=>{try{k&&k()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),a.onNotification(r.SetTraceNotification.type,e=>{c.trace=r.Trace.fromString(e.value)}),R}},function(e,t,n){"use strict";e.exports=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(21);t.RequestType=r.RequestType,t.RequestType0=r.RequestType0,t.RequestType1=r.RequestType1,t.RequestType2=r.RequestType2,t.RequestType3=r.RequestType3,t.RequestType4=r.RequestType4,t.RequestType5=r.RequestType5,t.RequestType6=r.RequestType6,t.RequestType7=r.RequestType7,t.RequestType8=r.RequestType8,t.RequestType9=r.RequestType9,t.ResponseError=r.ResponseError,t.ErrorCodes=r.ErrorCodes,t.NotificationType=r.NotificationType,t.NotificationType0=r.NotificationType0,t.NotificationType1=r.NotificationType1,t.NotificationType2=r.NotificationType2,t.NotificationType3=r.NotificationType3,t.NotificationType4=r.NotificationType4,t.NotificationType5=r.NotificationType5,t.NotificationType6=r.NotificationType6,t.NotificationType7=r.NotificationType7,t.NotificationType8=r.NotificationType8,t.NotificationType9=r.NotificationType9;const o=n(19);t.Disposable=o.Disposable;const i=n(10);t.Event=i.Event,t.Emitter=i.Emitter;const s=n(22);t.CancellationTokenSource=s.CancellationTokenSource,t.CancellationToken=s.CancellationToken;const a=n(36);t.MessageReader=a.MessageReader,t.AbstractMessageReader=a.AbstractMessageReader,t.ReadableStreamMessageReader=a.ReadableStreamMessageReader;const c=n(37);t.MessageWriter=c.MessageWriter,t.AbstractMessageWriter=c.AbstractMessageWriter,t.WriteableStreamMessageWriter=c.WriteableStreamMessageWriter;const u=n(39);t.ConnectionStrategy=u.ConnectionStrategy,t.ConnectionOptions=u.ConnectionOptions,t.NullLogger=u.NullLogger,t.createMessageConnection=u.createMessageConnection,t.ProgressType=u.ProgressType,t.Trace=u.Trace,t.TraceFormat=u.TraceFormat,t.SetTraceNotification=u.SetTraceNotification,t.LogTraceNotification=u.LogTraceNotification,t.ConnectionErrors=u.ConnectionErrors,t.ConnectionError=u.ConnectionError,t.CancellationReceiverStrategy=u.CancellationReceiverStrategy,t.CancellationSenderStrategy=u.CancellationSenderStrategy,t.CancellationStrategy=u.CancellationStrategy;const l=n(5);t.RAL=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);var o;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2}(o=t.ErrorCodes||(t.ErrorCodes={}));class i extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:o.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,i.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=i;class s{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageSignature=s;t.RequestType0=class extends s{constructor(e){super(e,0)}};t.RequestType=class extends s{constructor(e){super(e,1)}};t.RequestType1=class extends s{constructor(e){super(e,1)}};t.RequestType2=class extends s{constructor(e){super(e,2)}};t.RequestType3=class extends s{constructor(e){super(e,3)}};t.RequestType4=class extends s{constructor(e){super(e,4)}};t.RequestType5=class extends s{constructor(e){super(e,5)}};t.RequestType6=class extends s{constructor(e){super(e,6)}};t.RequestType7=class extends s{constructor(e){super(e,7)}};t.RequestType8=class extends s{constructor(e){super(e,8)}};t.RequestType9=class extends s{constructor(e){super(e,9)}};t.NotificationType=class extends s{constructor(e){super(e,1),this._=void 0}};t.NotificationType0=class extends s{constructor(e){super(e,0)}};t.NotificationType1=class extends s{constructor(e){super(e,1)}};t.NotificationType2=class extends s{constructor(e){super(e,2)}};t.NotificationType3=class extends s{constructor(e){super(e,3)}};t.NotificationType4=class extends s{constructor(e){super(e,4)}};t.NotificationType5=class extends s{constructor(e){super(e,5)}};t.NotificationType6=class extends s{constructor(e){super(e,6)}};t.NotificationType7=class extends s{constructor(e){super(e,7)}};t.NotificationType8=class extends s{constructor(e){super(e,8)}};t.NotificationType9=class extends s{constructor(e){super(e,9)}},t.isRequestMessage=function(e){const t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){const t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=n(9),i=n(10);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||o.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const a=Object.freeze((function(e,t){const n=r.default().timer.setTimeout(e.bind(t),0);return{dispose(){r.default().timer.clearTimeout(n)}}}));class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=s.None}}},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class o extends r{constructor(){super([o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),"-",o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),"-","4",o._randomHex(),o._randomHex(),o._randomHex(),"-",o._oneOf(o._timeHighBits),o._randomHex(),o._randomHex(),o._randomHex(),"-",o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return o._oneOf(o._chars)}}function i(){return new o}o._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],o._timeHighBits=["8","9","a","b"],t.empty=new r("00000000-0000-0000-0000-000000000000"),t.v4=i;const s=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function a(e){return s.test(e)}t.isUUID=a,t.parse=function(e){if(!a(e))throw new Error("invalid uuid");return new r(e)},t.generateUuid=function(){return i().asHex()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runSafe=t.runSafeAsync=t.formatError=void 0;const r=n(13);function o(e,t){if(t instanceof Error){let n=t;return`${e}: ${n.message}\n${n.stack}`}return"string"==typeof t?`${e}: ${t}`:t?`${e}: ${t.toString()}`:e}function i(){return console.log("cancelled"),new r.ResponseError(r.ErrorCodes.RequestCancelled,"Request cancelled")}t.formatError=o,t.runSafeAsync=function(e,t,n,r){return new Promise(s=>{setImmediate(()=>(r.isCancellationRequested&&s(i()),e().then(e=>{r.isCancellationRequested?s(i()):s(e)},e=>{console.error(o(n,e)),s(t)})))})},t.runSafe=function(e,t,n,r){return new Promise(s=>{setImmediate(()=>{if(r.isCancellationRequested)s(i());else try{let t=e();if(r.isCancellationRequested)return void s(i());s(t)}catch(e){console.error(o(n,e)),s(t)}})})}},function(e,t,n){"use strict";var r;function o(){if(void 0===r)throw new Error("No runtime abstraction layer installed");return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");r=e}}(o||(o={})),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=t.localize=t.format=t.setPseudo=t.isPseudo=t.isDefined=t.BundleFormat=t.MessageFormat=void 0;var r,o=n(26);function i(e){return void 0!==e}function s(e,n){return t.isPseudo&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===n.length?e:e.replace(/\{(\d+)\}/g,(function(e,t){var r=t[0],o=n[r],i=e;return"string"==typeof o?i=o:"number"!=typeof o&&"boolean"!=typeof o&&null!=o||(i=String(o)),i}))}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&i(t.key)&&i(t.comment)}}(r||(r={})),t.isDefined=i,t.isPseudo=!1,t.setPseudo=function(e){t.isPseudo=e},t.format=s,t.localize=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return s(t,n)},t.loadMessageBundle=function(e){return o.default().loadMessageBundle(e)},t.config=function(e){return o.default().config(e)}},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";e.exports=function(){var e=n(74);function t(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}return function(n,r){return function(){for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];var a=r&&r.multiArgs,c=void 0;return r&&r.thisArg?c=r.thisArg:r&&(c=r),new e((function(e,r){i.push((function(t){if(t)return r(t);for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];if(!1==!!a)return e(o[0]);e(o)}));var o=n.apply(c,i);t(o)&&e(o)}))}}}()},function(e,t){e.exports=require("events")},function(e,t,n){"undefined"==typeof process||"renderer"===process.type?e.exports=n(76):e.exports=n(78)},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,o=+new Date,i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var o=t.formatters[r];if("function"==typeof o){var i=s[c];n=o.call(e,i),s.splice(c,1),c--}return n})),t.formatArgs.call(e,s);var u=r.log||t.log||console.log.bind(console);u.apply(e,s)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=o,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function o(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var i=t.instances[n];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(77),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34),o=n(25),i=n(66),s=n(69),a=n(6),c=n(12),u=r.createConnection();console.log=u.console.log.bind(u.console),console.error=u.console.error.bind(u.console),process.on("unhandledRejection",e=>{u.console.error(o.formatError("Unhandled exception",e))}),i.startServer(u,{file:{getContent:(e,t)=>new Promise((n,r)=>{const o=a.URI.parse(e);c.readFile(o.fsPath,t,(e,t)=>{if(e)return r(e);n(t.toString())})})},http:{getContent:(e,t)=>s.xhr({url:e,followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate"}}).then(e=>e.responseText,e=>Promise.reject(e.responseText||s.getErrorStatusDescription(e.status)||e.toString()))},configureHttpRequests:s.configure})},function(e,t,n){"use strict";e.exports=n(13)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=n(19),i=n(7),s=Buffer.from("\r","ascii")[0],a=Buffer.from("\n","ascii")[0];class c{constructor(e="utf-8"){this._encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(8192)}get encoding(){return this._encoding}append(e){let t;if(t="string"==typeof e?Buffer.from(e,this._encoding):e,this.buffer.length-this.index>=t.length)this.buffer.set(t,this.index);else{var n=8192*(Math.ceil((this.index+t.length)/8192)+1);0===this.index?(this.buffer=Buffer.allocUnsafe(n),this.buffer.set(t)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],n)}this.index+=t.length}tryReadHeaders(){let e=0;for(;e+3<this.index&&(this.buffer[e]!==s||this.buffer[e+1]!==a||this.buffer[e+2]!==s||this.buffer[e+3]!==a);)e++;if(e+3>=this.index)return;const t=new Map;this.buffer.toString("ascii",0,e).split("\r\n").forEach(e=>{let n=e.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let r=e.substr(0,n),o=e.substr(n+1).trim();t.set(r,o)});let n=e+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,t}tryReadBody(e){if(this.index<e)return;const t=Buffer.alloc(e);this.buffer.copy(t,0,0,e);const n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t}get numberOfBytes(){return this.index}}class u{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),o.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),o.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),o.Disposable.create(()=>this.stream.off("data",e))}}class l{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),o.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),o.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,r)=>{const o=e=>{null==e?n():r(e)};"string"==typeof e?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}}const f=Object.freeze({messageBuffer:Object.freeze({create:e=>new c(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new i.TextDecoder(t.charset).decode(e)))})}),stream:Object.freeze({asReadableStream:e=>new u(e),asWritableStream:e=>new l(e)}),console:console,timer:Object.freeze({setTimeout:(e,t,...n)=>setTimeout(e,t,...n),clearTimeout(e){clearTimeout(e)},setImmediate:(e,...t)=>setImmediate(e,...t),clearImmediate(e){clearImmediate(e)}})});function d(){return f}!function(e){e.install=function(){r.default.install(f)}}(d||(d={})),t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=n(9),i=n(10);var s;!function(e){e.is=function(e){let t=e;return t&&o.func(t.listen)&&o.func(t.dispose)&&o.func(t.onError)&&o.func(t.onClose)&&o.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class a{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter,this.partialMessageEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error("Reader received error. Reason: "+(o.string(e.message)?e.message:"unknown"))}}t.AbstractMessageReader=a,function(e){e.fromOptions=function(e){var t;let n,o;const i=new Map;let s;const a=new Map;if(void 0===e||"string"==typeof e)n=null!=e?e:"utf-8";else{if(n=null!==(t=e.charset)&&void 0!==t?t:"utf-8",void 0!==e.contentDecoder&&(o=e.contentDecoder,i.set(o.name,o)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)i.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(s=e.contentTypeDecoder,a.set(s.name,s)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)a.set(t.name,t)}return void 0===s&&(s=r.default().applicationJson.decoder,a.set(s.name,s)),{charset:n,contentDecoder:o,contentDecoders:i,contentTypeDecoder:s,contentTypeDecoders:a}}}(s||(s={}));t.ReadableStreamMessageReader=class extends a{constructor(e,t){super(),this.readable=e,this.options=s.fromOptions(t),this.buffer=r.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData(e=>{this.onData(e)});return this.readable.onError(e=>this.fireError(e)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then(e=>{this.options.contentTypeDecoder.decode(e,this.options).then(e=>{this.callback(e)},e=>{this.fireError(e)})},e=>{this.fireError(e)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(r.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=r.default().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=n(9),i=n(38),s=n(10);var a;!function(e){e.is=function(e){let t=e;return t&&o.func(t.dispose)&&o.func(t.onClose)&&o.func(t.onError)&&o.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class c{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error("Writer received error. Reason: "+(o.string(e.message)?e.message:"unknown"))}}t.AbstractMessageWriter=c,function(e){e.fromOptions=function(e){var t,n;return void 0===e||"string"==typeof e?{charset:null!=e?e:"utf-8",contentTypeEncoder:r.default().applicationJson.encoder}:{charset:null!==(t=e.charset)&&void 0!==t?t:"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:null!==(n=e.contentTypeEncoder)&&void 0!==n?n:r.default().applicationJson.encoder}}}(a||(a={}));t.WriteableStreamMessageWriter=class extends c{constructor(e,t){super(),this.writable=e,this.options=a.fromOptions(t),this.errorCount=0,this.writeSemaphore=new i.Semaphore(1),this.writable.onError(e=>this.fireError(e)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.options.contentTypeEncoder.encode(e,this.options).then(e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e).then(t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)},e=>{throw this.fireError(e),e})}doWrite(e,t,n){return this.writeSemaphore.lock(async()=>{try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){this.handleError(t,e)}})}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&r.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then(t=>{this._active--,e.resolve(t),this.runNext()},t=>{this._active--,e.reject(t),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=n(9),i=n(21),s=n(40),a=n(10),c=n(22);var u,l,f,d,h,p,m,g,v,y,b,C;!function(e){e.type=new i.NotificationType("$/cancelRequest")}(u||(u={})),function(e){e.type=new i.NotificationType("$/progress")}(l||(l={}));t.ProgressType=class{constructor(){}},t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(f=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){if(!o.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(f=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(d=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new i.NotificationType("$/setTraceNotification")}(h=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new i.NotificationType("$/logTraceNotification")}(p=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(m=t.ConnectionErrors||(t.ConnectionErrors={}));class x extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,x.prototype)}}t.ConnectionError=x,function(e){e.is=function(e){const t=e;return t&&o.func(t.cancelUndispatched)}}(g=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function(e){const t=e;return t&&o.func(t.createCancellationTokenSource)}}(v=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation(e,t){e.sendNotification(u.type,{id:t})},cleanup(e){}}),e.is=function(e){const t=e;return t&&o.func(t.sendCancellation)&&o.func(t.cleanup)}}(y=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:v.Message,sender:y.Message}),e.is=function(e){const t=e;return t&&v.is(t.receiver)&&y.is(t.sender)}}(b=t.CancellationStrategy||(t.CancellationStrategy={})),function(e){e.is=function(e){const t=e;return t&&(b.is(t.cancellationStrategy)||g.is(t.connectionStrategy))}}(t.ConnectionOptions||(t.ConnectionOptions={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(C||(C={})),t.createMessageConnection=function(e,n,g,v){const y=void 0!==g?g:t.NullLogger;let w=0,T=0,S=0,k=void 0;const R=Object.create(null);let _=void 0;const P=Object.create(null),E=new Map;let O,D,M=new s.LinkedMap,A=Object.create(null),N=Object.create(null),q=f.Off,F=d.Text,j=C.New;const I=new a.Emitter,L=new a.Emitter,W=new a.Emitter,V=new a.Emitter,$=new a.Emitter,U=v&&v.cancellationStrategy?v.cancellationStrategy:b.Message;function H(e){return"req-"+e.toString()}function z(e,t){var n;i.isRequestMessage(t)?e.set(H(t.id),t):i.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++S).toString():"res-"+n.toString(),t):e.set("not-"+(++T).toString(),t)}function B(e){}function K(){return j===C.Listening}function J(){return j===C.Closed}function G(){return j===C.Disposed}function X(){j!==C.New&&j!==C.Listening||(j=C.Closed,L.fire(void 0))}function Y(){O||0===M.size||(O=r.default().timer.setImmediate(()=>{O=void 0,function(){if(0===M.size)return;const e=M.shift();try{i.isRequestMessage(e)?function(e){if(G())return;function t(t,r,o){const s={jsonrpc:"2.0",id:e.id};t instanceof i.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,Q(s,r,o),n.write(s)}function r(t,r,o){const i={jsonrpc:"2.0",id:e.id,error:t.toJson()};Q(i,r,o),n.write(i)}!function(e){if(q===f.Off||!D)return;if(F===d.Text){let t=void 0;q===f.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),D.log(`Received request '${e.method} - (${e.id})'.`,t)}else ee("receive-request",e)}(e);const s=R[e.method];let a,c;s&&(a=s.type,c=s.handler);const u=Date.now();if(c||k){const s=String(e.id),l=U.receiver.createCancellationTokenSource(s);N[s]=l;try{let f;f=void 0===e.params||void 0!==a&&0===a.numberOfParams?c?c(l.token):k(e.method,l.token):o.array(e.params)&&(void 0===a||a.numberOfParams>1)?c?c(...e.params,l.token):k(e.method,...e.params,l.token):c?c(e.params,l.token):k(e.method,e.params,l.token);const d=f;f?d.then?d.then(n=>{delete N[s],t(n,e.method,u)},t=>{delete N[s],t instanceof i.ResponseError?r(t,e.method,u):t&&o.string(t.message)?r(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):r(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}):(delete N[s],t(f,e.method,u)):(delete N[s],function(t,r,o){void 0===t&&(t=null);const i={jsonrpc:"2.0",id:e.id,result:t};Q(i,r,o),n.write(i)}(f,e.method,u))}catch(n){delete N[s],n instanceof i.ResponseError?t(n,e.method,u):n&&o.string(n.message)?r(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,u):r(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else r(new i.ResponseError(i.ErrorCodes.MethodNotFound,"Unhandled method "+e.method),e.method,u)}(e):i.isNotificationMessage(e)?function(e){if(G())return;let t,n=void 0;if(e.method===u.type.method)t=e=>{const t=e.id,n=N[String(t)];n&&n.cancel()};else{const r=P[e.method];r&&(t=r.handler,n=r.type)}if(t||_)try{!function(e){if(q===f.Off||!D||e.method===p.type.method)return;if(F===d.Text){let t=void 0;q===f.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),D.log(`Received notification '${e.method}'.`,t)}else ee("receive-notification",e)}(e),void 0===e.params||void 0!==n&&0===n.numberOfParams?t?t():_(e.method):o.array(e.params)&&(void 0===n||n.numberOfParams>1)?t?t(...e.params):_(e.method,...e.params):t?t(e.params):_(e.method,e.params)}catch(t){t.message?y.error(`Notification handler '${e.method}' failed with message: ${t.message}`):y.error(`Notification handler '${e.method}' failed unexpectedly.`)}else W.fire(e)}(e):i.isResponseMessage(e)?function(e){if(G())return;if(null===e.id)e.error?y.error("Received response message without id: Error is: \n"+JSON.stringify(e.error,void 0,4)):y.error("Received response message without id. No further error information provided.");else{const t=String(e.id),n=A[t];if(function(e,t){if(q===f.Off||!D)return;if(F===d.Text){let n=void 0;if(q===f.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";D.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else D.log(`Received response ${e.id} without active response promise.`,n)}else ee("receive-response",e)}(e,n),n){delete A[t];try{if(e.error){const t=e.error;n.reject(new i.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?y.error(`Response handler '${n.method}' failed with message: ${e.message}`):y.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void y.error("Received empty message.");y.error("Received message which is neither a response nor a notification message:\n"+JSON.stringify(e,null,4));const t=e;if(o.string(t.id)||o.number(t.id)){const e=String(t.id),n=A[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{Y()}}()}))}e.onClose(X),e.onError((function(e){I.fire([e,void 0,void 0])})),n.onClose(X),n.onError((function(e){I.fire(e)}));const Z=e=>{try{if(i.isNotificationMessage(e)&&e.method===u.type.method){const t=H(e.params.id),r=M.get(t);if(i.isRequestMessage(r)){const o=null==v?void 0:v.connectionStrategy,i=o&&o.cancelUndispatched?o.cancelUndispatched(r,B):void 0;if(i&&(void 0!==i.error||void 0!==i.result))return M.delete(t),i.id=r.id,Q(i,e.method,Date.now()),void n.write(i)}}z(M,e)}finally{Y()}};function Q(e,t,n){if(q!==f.Off&&D)if(F===d.Text){let r=void 0;q===f.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),D.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else ee("send-response",e)}function ee(e,t){if(!D||q===f.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};D.log(n)}function te(){if(J())throw new x(m.Closed,"Connection is closed.");if(G())throw new x(m.Disposed,"Connection is disposed.")}function ne(e){return void 0===e?null:e}function re(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=null;break;case 1:n=ne(t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(ne(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const oe={sendNotification:(e,...t)=>{let r,i;if(te(),o.string(e))switch(r=e,t.length){case 0:i=null;break;case 1:i=t[0];break;default:i=t}else r=e.method,i=re(e,t);const s={jsonrpc:"2.0",method:r,params:i};!function(e){if(q!==f.Off&&D)if(F===d.Text){let t=void 0;q===f.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),D.log(`Sending notification '${e.method}'.`,t)}else ee("send-notification",e)}(s),n.write(s)},onNotification:(e,t)=>{te(),o.func(e)?_=e:t&&(o.string(e)?P[e]={type:void 0,handler:t}:P[e.method]={type:e,handler:t})},onProgress:(e,t,n)=>{if(E.has(t))throw new Error(`Progress handler for token ${t} already registered`);return E.set(t,n),{dispose:()=>{E.delete(t)}}},sendProgress:(e,t,n)=>{oe.sendNotification(l.type,{token:t,value:n})},onUnhandledProgress:V.event,sendRequest:(e,...t)=>{let r,s;te(),function(){if(!K())throw new Error("Call listen() first.")}();let a=void 0;if(o.string(e))switch(r=e,t.length){case 0:s=null;break;case 1:c.CancellationToken.is(t[0])?(s=null,a=t[0]):s=ne(t[0]);break;default:const e=t.length-1;c.CancellationToken.is(t[e])?(a=t[e],s=2===t.length?ne(t[0]):t.slice(0,e).map(e=>ne(e))):s=t.map(e=>ne(e))}else{r=e.method,s=re(e,t);const n=e.numberOfParams;a=c.CancellationToken.is(t[n])?t[n]:void 0}const u=w++;let l;a&&(l=a.onCancellationRequested(()=>{U.sender.sendCancellation(oe,u)}));return new Promise((e,t)=>{const o={jsonrpc:"2.0",id:u,method:r,params:s};let a={method:r,timerStart:Date.now(),resolve:t=>{e(t),U.sender.cleanup(u),null==l||l.dispose()},reject:e=>{t(e),U.sender.cleanup(u),null==l||l.dispose()}};!function(e){if(q!==f.Off&&D)if(F===d.Text){let t=void 0;q===f.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),D.log(`Sending request '${e.method} - (${e.id})'.`,t)}else ee("send-request",e)}(o);try{n.write(o)}catch(e){a.reject(new i.ResponseError(i.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&(A[String(u)]=a)})},onRequest:(e,t)=>{te(),o.func(e)?k=e:t&&(o.string(e)?R[e]={type:void 0,handler:t}:R[e.method]={type:e,handler:t})},trace:(e,t,n)=>{let r=!1,i=d.Text;void 0!==n&&(o.boolean(n)?r=n:(r=n.sendNotification||!1,i=n.traceFormat||d.Text)),q=e,F=i,D=q===f.Off?void 0:t,!r||J()||G()||oe.sendNotification(h.type,{value:f.toString(e)})},onError:I.event,onClose:L.event,onUnhandledNotification:W.event,onDispose:$.event,dispose:()=>{if(G())return;j=C.Disposed,$.fire(void 0);const t=new Error("Connection got disposed.");Object.keys(A).forEach(e=>{A[e].reject(t)}),A=Object.create(null),N=Object.create(null),M=new s.LinkedMap,o.func(n.dispose)&&n.dispose(),o.func(e.dispose)&&e.dispose()},listen:()=>{te(),function(){if(K())throw new x(m.AlreadyListening,"Connection is already listening")}(),j=C.Listening,e.listen(Z)},inspect:()=>{r.default().console.log("inspect")}};return oe.onNotification(p.type,e=>{q!==f.Off&&D&&D.log(e.message,q===f.Verbose?e.verbose:void 0)}),oe.onNotification(l.type,e=>{const t=E.get(e.token);t?t(e.value):V.fire(e)}),oe}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(r=t.Touch||(t.Touch={}));class o{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=r.None){const n=this._map.get(e);if(n)return t!==r.None&&this.touch(n,t),n.value}set(e,t,n=r.None){let o=this._map.get(e);if(o)o.value=t,n!==r.None&&this.touch(o,n);else{switch(o={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(o);break;case r.First:this.addItemFirst(o);break;case r.Last:default:this.addItemLast(o)}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.key,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.value,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:[n.key,n.value],done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=o;t.LRUCache=class extends o{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=r.AsNew){return super.get(e,t)}peek(e){return super.get(e,r.None)}set(e,t){return super.set(e,t,r.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(2)),r(n(0)),r(n(1)),r(n(43));var o=n(55);t.createProtocolConnection=o.createProtocolConnection;const i=n(56);!function(e){let t,n,r;e.SemanticTokenTypes=i.SemanticTokenTypes,e.SemanticTokenModifiers=i.SemanticTokenModifiers,e.SemanticTokens=i.SemanticTokens,function(e){e.method=i.SemanticTokensRequest.method,e.type=i.SemanticTokensRequest.type}(t=e.SemanticTokensRequest||(e.SemanticTokensRequest={})),function(e){e.method=i.SemanticTokensEditsRequest.method,e.type=i.SemanticTokensEditsRequest.type}(n=e.SemanticTokensEditsRequest||(e.SemanticTokensEditsRequest={})),function(e){e.method=i.SemanticTokensRangeRequest.method,e.type=i.SemanticTokensRangeRequest.type}(r=e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={}))}(t.Proposed||(t.Proposed={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(44),o=n(2),i=n(1),s=n(45);t.ImplementationRequest=s.ImplementationRequest;const a=n(46);t.TypeDefinitionRequest=a.TypeDefinitionRequest;const c=n(47);t.WorkspaceFoldersRequest=c.WorkspaceFoldersRequest,t.DidChangeWorkspaceFoldersNotification=c.DidChangeWorkspaceFoldersNotification;const u=n(48);t.ConfigurationRequest=u.ConfigurationRequest;const l=n(49);t.DocumentColorRequest=l.DocumentColorRequest,t.ColorPresentationRequest=l.ColorPresentationRequest;const f=n(50);t.FoldingRangeRequest=f.FoldingRangeRequest;const d=n(51);t.DeclarationRequest=d.DeclarationRequest;const h=n(52);t.SelectionRangeRequest=h.SelectionRangeRequest;const p=n(53);t.WorkDoneProgress=p.WorkDoneProgress,t.WorkDoneProgressCreateRequest=p.WorkDoneProgressCreateRequest,t.WorkDoneProgressCancelNotification=p.WorkDoneProgressCancelNotification;const m=n(54);var g,v;t.CallHierarchyIncomingCallsRequest=m.CallHierarchyIncomingCallsRequest,t.CallHierarchyOutgoingCallsRequest=m.CallHierarchyOutgoingCallsRequest,t.CallHierarchyPrepareRequest=m.CallHierarchyPrepareRequest,function(e){e.is=function(e){const t=e;return r.string(t.language)||r.string(t.scheme)||r.string(t.pattern)}}(g=t.DocumentFilter||(t.DocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!r.string(t)&&!g.is(t))return!1;return!0}}(v=t.DocumentSelector||(t.DocumentSelector={})),function(e){e.type=new i.ProtocolRequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new i.ProtocolRequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.hasId=function(e){const t=e;return t&&r.string(t.id)&&t.id.length>0}}(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})),function(e){e.is=function(e){const t=e;return t&&(null===t.documentSelector||v.is(t.documentSelector))}}(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})),function(e){e.is=function(e){const t=e;return r.objectLiteral(t)&&(void 0===t.workDoneProgress||r.boolean(t.workDoneProgress))},e.hasWorkDoneProgress=function(e){const t=e;return t&&r.boolean(t.workDoneProgress)}}(t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})),function(e){e.type=new i.ProtocolRequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new i.ProtocolNotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new i.ProtocolRequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new i.ProtocolNotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new i.ProtocolNotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new i.ProtocolNotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new i.ProtocolRequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new i.ProtocolNotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new i.ProtocolNotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.method="textDocument/didOpen",e.type=new i.ProtocolNotificationType(e.method)}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.method="textDocument/didChange",e.type=new i.ProtocolNotificationType(e.method)}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.method="textDocument/didClose",e.type=new i.ProtocolNotificationType(e.method)}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.method="textDocument/didSave",e.type=new i.ProtocolNotificationType(e.method)}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})),function(e){e.method="textDocument/willSave",e.type=new i.ProtocolNotificationType(e.method)}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.method="textDocument/willSaveWaitUntil",e.type=new i.ProtocolRequestType(e.method)}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new i.ProtocolNotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new i.ProtocolNotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.method="textDocument/completion",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.method="completionItem/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.method="textDocument/hover",e.type=new i.ProtocolRequestType(e.method)}(t.HoverRequest||(t.HoverRequest={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3}(t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})),function(e){e.method="textDocument/signatureHelp",e.type=new i.ProtocolRequestType(e.method)}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.method="textDocument/definition",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.method="textDocument/references",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.method="textDocument/documentHighlight",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.method="textDocument/documentSymbol",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.method="textDocument/codeAction",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.method="workspace/symbol",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.type=new i.ProtocolRequestType("textDocument/codeLens"),e.resultType=new o.ProgressType}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.type=new i.ProtocolRequestType("codeLens/resolve")}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.method="textDocument/documentLink",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.type=new i.ProtocolRequestType("documentLink/resolve")}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.method="textDocument/formatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.method="textDocument/rangeFormatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.method="textDocument/onTypeFormatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.method="textDocument/rename",e.type=new i.ProtocolRequestType(e.method)}(t.RenameRequest||(t.RenameRequest={})),function(e){e.method="textDocument/prepareRename",e.type=new i.ProtocolRequestType(e.method)}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new i.ProtocolRequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new i.ProtocolRequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function o(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=o,t.stringArray=function(e){return o(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(1);!function(e){e.method="textDocument/implementation",e.type=new o.ProtocolRequestType(e.method),e.resultType=new r.ProgressType}(t.ImplementationRequest||(t.ImplementationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(1);!function(e){e.method="textDocument/typeDefinition",e.type=new o.ProtocolRequestType(e.method),e.resultType=new r.ProgressType}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);!function(e){e.type=new r.ProtocolRequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new r.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);!function(e){e.type=new r.ProtocolRequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(1);!function(e){e.method="textDocument/documentColor",e.type=new o.ProtocolRequestType(e.method),e.resultType=new r.ProgressType}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new o.ProtocolRequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(1);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.method="textDocument/foldingRange",e.type=new o.ProtocolRequestType(e.method),e.resultType=new r.ProgressType}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(1);!function(e){e.method="textDocument/declaration",e.type=new o.ProtocolRequestType(e.method),e.resultType=new r.ProgressType}(t.DeclarationRequest||(t.DeclarationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(1);!function(e){e.method="textDocument/selectionRange",e.type=new o.ProtocolRequestType(e.method),e.resultType=new r.ProgressType}(t.SelectionRangeRequest||(t.SelectionRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(1);!function(e){e.type=new r.ProgressType}(t.WorkDoneProgress||(t.WorkDoneProgress={})),function(e){e.type=new o.ProtocolRequestType("window/workDoneProgress/create")}(t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})),function(e){e.type=new o.ProtocolNotificationType("window/workDoneProgress/cancel")}(t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);!function(e){e.method="textDocument/prepareCallHierarchy",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})),function(e){e.method="callHierarchy/incomingCalls",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})),function(e){e.method="callHierarchy/outgoingCalls",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.createProtocolConnection=function(e,t,n,o){return r.ConnectionStrategy.is(o)&&(o={connectionStrategy:o}),r.createMessageConnection(e,t,n,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);!function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.member="member",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator"}(t.SemanticTokenTypes||(t.SemanticTokenTypes={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(t.SemanticTokenModifiers||(t.SemanticTokenModifiers={})),function(e){e.is=function(e){const t=e;return void 0!==t&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(t.SemanticTokens||(t.SemanticTokens={})),function(e){e.method="textDocument/semanticTokens",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensRequest||(t.SemanticTokensRequest={})),function(e){e.method="textDocument/semanticTokens/edits",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensEditsRequest||(t.SemanticTokensEditsRequest={})),function(e){e.method="textDocument/semanticTokens/range",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(24);class i{constructor(e,t){this._connection=e,this._token=t,i.Instances.set(this._token,this)}begin(e,t,n,o){let i={kind:"begin",title:e,percentage:t,message:n,cancellable:o};this._connection.sendProgress(r.WorkDoneProgress.type,this._token,i)}report(e,t){let n={kind:"report"};"number"==typeof e?(n.percentage=e,void 0!==t&&(n.message=t)):n.message=e,this._connection.sendProgress(r.WorkDoneProgress.type,this._token,n)}done(){i.Instances.delete(this._token),this._connection.sendProgress(r.WorkDoneProgress.type,this._token,{kind:"end"})}}i.Instances=new Map;class s extends i{constructor(e,t){super(e,t),this._source=new r.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class a{constructor(){}begin(){}report(){}done(){}}class c extends a{constructor(){super(),this._source=new r.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}var u;t.attachWorkDone=function(e,t){if(void 0===t||void 0===t.workDoneToken)return new a;const n=t.workDoneToken;return delete t.workDoneToken,new i(e,n)},t.ProgressFeature=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(e){var t;!0===(null===(t=null==e?void 0:e.window)||void 0===t?void 0:t.workDoneProgress)&&(this._progressSupported=!0,this.connection.onNotification(r.WorkDoneProgressCancelNotification.type,e=>{let t=i.Instances.get(e.token);(t instanceof s||t instanceof c)&&t.cancel()}))}attachWorkDoneProgress(e){return void 0===e?new a:new i(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){const e=o.generateUuid();return this.connection.sendRequest(r.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new s(this.connection,e))}return Promise.resolve(new c)}},function(e){e.type=new r.ProgressType}(u||(u={}));class l{constructor(e,t){this._connection=e,this._token=t}report(e){this._connection.sendProgress(u.type,this._token,e)}}t.attachPartialResult=function(e,t){if(void 0===t||void 0===t.partialResultToken)return;const n=t.partialResultToken;return delete t.partialResultToken,new l(e,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(14);t.ConfigurationFeature=e=>class extends e{getConfiguration(e){return e?o.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let t={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(r.ConfigurationRequest.type,t).then(t=>Array.isArray(e)?t:t[0])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.WorkspaceFoldersFeature=e=>class extends e{initialize(e){let t=e.workspace;t&&t.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new r.Emitter,this.connection.onNotification(r.DidChangeWorkspaceFoldersNotification.type,e=>{this._onDidChangeWorkspaceFolders.fire(e.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(r.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(r.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(r.CallHierarchyPrepareRequest.type,(t,n)=>e(t,n,this.attachWorkDoneProgress(t),void 0))},onIncomingCalls:e=>{const t=r.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(t,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n)))},onOutgoingCalls:e=>{const t=r.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(t,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n)))}}}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(11),i=n(12),s=n(62);function a(){return"win32"===process.platform}function c(e,t,n,r){const a=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((c,u)=>{let l=process.env,f=Object.create(null);Object.keys(l).forEach(e=>f[e]=l[e]),t&&i.existsSync(t)&&(f.NODE_PATH?f.NODE_PATH=t+o.delimiter+f.NODE_PATH:f.NODE_PATH=t,r&&r("NODE_PATH value is: "+f.NODE_PATH)),f.ELECTRON_RUN_AS_NODE="1";try{let t=s.fork("",[],{cwd:n,env:f,execArgv:["-e",a]});if(void 0===t.pid)return void u(new Error(`Starting process to resolve node module  ${e} failed`));t.on("error",e=>{u(e)}),t.on("message",n=>{"r"===n.c&&(t.send({c:"e"}),n.s?c(n.r):u(new Error("Failed to resolve module: "+e)))});let r={c:"rs",a:e};t.send(r)}catch(e){u(e)}})}function u(e){let t="npm";const n=Object.create(null);Object.keys(process.env).forEach(e=>n[e]=process.env[e]),n.NO_UPDATE_NOTIFIER="true";const r={encoding:"utf8",env:n};a()&&(t="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let n=s.spawnSync(t,["config","get","prefix"],r).stdout;if(!n)return void(e&&e("'npm config get prefix' didn't return a value."));let c=n.trim();return e&&e("'npm config get prefix' value is: "+c),c.length>0?a()?o.join(c,"node_modules"):o.join(c,"lib","node_modules"):void 0}catch(e){return}finally{process.removeListener("SIGPIPE",i)}}var l;t.uriToFilePath=function(e){let t=r.parse(e);if("file:"!==t.protocol||!t.path)return;let n=t.path.split("/");for(var i=0,s=n.length;i<s;i++)n[i]=decodeURIComponent(n[i]);if("win32"===process.platform&&n.length>1){let e=n[0],t=n[1];0===e.length&&t.length>1&&":"===t[1]&&n.shift()}return o.normalize(n.join("/"))},t.resolve=c,t.resolveGlobalNodePath=u,t.resolveGlobalYarnPath=function(e){let t="yarn",n={encoding:"utf8"};a()&&(t="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=s.spawnSync(t,["global","dir","--json"],n),a=i.stdout;if(!a)return void(e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr)));let c=a.trim().split(/\r?\n/);for(let e of c)try{let t=JSON.parse(e);if("log"===t.type)return o.join(t.data,"node_modules")}catch(e){}return}catch(e){return}finally{process.removeListener("SIGPIPE",r)}},function(t){let n=void 0;function r(){return void 0!==n||(n="win32"!==process.platform&&(!i.existsSync(e.toUpperCase())||!i.existsSync(e.toLowerCase()))),n}t.isCaseSensitive=r,t.isParent=function(e,t){return r()?0===o.normalize(t).indexOf(o.normalize(e)):0===o.normalize(t).toLowerCase().indexOf(o.normalize(e).toLowerCase())}}(l=t.FileSystem||(t.FileSystem={})),t.resolveModulePath=function(e,t,n,r){return n?(o.isAbsolute(n)||(n=o.join(e,n)),c(t,n,n,r).then(e=>l.isParent(n,e)?e:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,n=>c(t,u(r),e,r))):c(t,u(r),e,r)}}).call(this,"/index.js")},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";e.exports=n(4)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const o=n(65);r(n(4)),r(n(17)),function(e){e.all={__brand:"features",languages:o.SemanticTokensFeature},e.SemanticTokensBuilder=o.SemanticTokensBuilder}(t.ProposedFeatures||(t.ProposedFeatures={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:e=>{const t=r.Proposed.SemanticTokensRequest.type;this.connection.onRequest(t,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n)))},onEdits:e=>{const t=r.Proposed.SemanticTokensEditsRequest.type;this.connection.onRequest(t,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n)))},onRange:e=>{const t=r.Proposed.SemanticTokensRangeRequest.type;this.connection.onRequest(t,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n)))}}}};t.SemanticTokensBuilder=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,t,n,r,o){let i=e,s=t;this._dataLen>0&&(i-=this._prevLine,0===i&&(s-=this._prevChar)),this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._data[this._dataLen++]=n,this._data[this._dataLen++]=r,this._data[this._dataLen++]=o,this._prevLine=e,this._prevChar=t}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){if(void 0!==this._prevData){const e=this._prevData.length,t=this._data.length;let n=0;for(;n<t&&n<e&&this._prevData[n]===this._data[n];)n++;if(n<t&&n<e){let r=0;for(;r<t&&r<e&&this._prevData[e-1-r]===this._data[t-1-r];)r++;const o=this._data.slice(n,t-r);return{resultId:this.id,edits:[{start:n,deleteCount:e-r-n,data:o}]}}return n<t?{resultId:this.id,edits:[{start:n,deleteCount:0,data:this._data.slice(n)}]}:n<e?{resultId:this.id,edits:[{start:n,deleteCount:e-n}]}:{resultId:this.id,edits:[]}}return this.build()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startServer=void 0;const r=n(13),o=n(25),i=n(88),s=n(67),a=n(68);var c,u,l,f,d;!function(e){e.type=new r.NotificationType("json/schemaAssociations")}(c||(c={})),function(e){e.type=new r.RequestType("vscode/content")}(u||(u={})),function(e){e.type=new r.NotificationType("json/schemaContent")}(l||(l={})),function(e){e.type=new r.NotificationType("json/resultLimitReached")}(f||(f={})),function(e){e.type=new r.RequestType("json/validate")}(d||(d={}));const h={resolveRelativePath:(e,t)=>{const n=t.substr(0,t.lastIndexOf("/")+1);return a.resolvePath(n,e)}};t.startServer=function(e,t){function n(n=["https","http","file"]){const r={};for(let e of n)"file"===e?r[e]=t.file:"http"!==e&&"https"!==e||(r[e]=t.http);return t=>{const n=t.substr(0,t.indexOf(":")),o=r[n];return o?o.getContent(t):e.sendRequest(u.type,t).then(e=>e,e=>Promise.reject(e.message))}}let p=i.getLanguageService({workspaceContext:h,contributions:[],clientCapabilities:i.ClientCapabilities.LATEST});const m=new r.TextDocuments(i.TextDocument);m.listen(e);let g=!1,v=!1,y=!1,b=Number.MAX_VALUE,C=Number.MAX_VALUE,x=Number.MAX_VALUE,w=Number.MAX_VALUE;e.onInitialize(e=>{var t,o,s,a,c,u;const l=null===(t=e.initializationOptions)||void 0===t?void 0:t.handledSchemaProtocols;function f(t,n){const r=t.split(".");let o=e.capabilities;for(let e=0;o&&e<r.length;e++){if(!o.hasOwnProperty(r[e]))return n;o=o[r[e]]}return o}p=i.getLanguageService({schemaRequestService:n(l),workspaceContext:h,contributions:[],clientCapabilities:e.capabilities}),g=f("textDocument.completion.completionItem.snippetSupport",!1),v=f("textDocument.rangeFormatting.dynamicRegistration",!1)&&"boolean"!=typeof(null===(o=e.initializationOptions)||void 0===o?void 0:o.provideFormatter),b=f("textDocument.foldingRange.rangeLimit",Number.MAX_VALUE),y=f("textDocument.documentSymbol.hierarchicalDocumentSymbolSupport",!1),w=(null===(c=null===(a=null===(s=e.initializationOptions)||void 0===s?void 0:s.customCapabilities)||void 0===a?void 0:a.rangeFormatting)||void 0===c?void 0:c.editLimit)||Number.MAX_VALUE;return{capabilities:{textDocumentSync:r.TextDocumentSyncKind.Incremental,completionProvider:g?{resolveProvider:!1,triggerCharacters:['"',":"]}:void 0,hoverProvider:!0,documentSymbolProvider:!0,documentRangeFormattingProvider:!0===(null===(u=e.initializationOptions)||void 0===u?void 0:u.provideFormatter),colorProvider:{},foldingRangeProvider:!0,selectionRangeProvider:!0,definitionProvider:!0}}});const T=function(){const t={};return{cancel(e){const n=t[e];n&&n.timeout&&(clearTimeout(n.timeout),delete t[e])},onResultLimitExceeded:(n,r,o)=>()=>{let i=t[n];if(i){if(!i.timeout)return;i.features[o]=o,i.timeout.refresh()}else i={features:{[o]:o}},i.timeout=setTimeout(()=>{e.sendNotification(f.type,`${a.basename(n)}: For performance reasons, ${Object.keys(i.features).join(" and ")} have been limited to ${r} items.`),i.timeout=void 0},2e3),t[n]=i}}}();let S=void 0,k=void 0,R=null;function _(){const e={validate:!0,allowComments:!0,schemas:new Array};if(k)if(Array.isArray(k))Array.prototype.push.apply(e.schemas,k);else for(const t in k){const n=k[t];Array.isArray(n)&&n.forEach(n=>{e.schemas.push({uri:n,fileMatch:[t]})})}S&&S.forEach((t,n)=>{let r=t.url;!r&&t.schema&&(r=t.schema.id||"vscode://schemas/custom/"+n),r&&e.schemas.push({uri:r,fileMatch:t.fileMatch,schema:t.schema})}),p.configure(e),m.all().forEach(O)}e.onDidChangeConfiguration(n=>{let o=n.settings;if(t.configureHttpRequests&&t.configureHttpRequests(o.http&&o.http.proxy,o.http&&o.http.proxyStrictSSL),S=o.json&&o.json.schemas,_(),C=Math.trunc(Math.max(o.json&&o.json.resultLimit||b,0)),x=Math.trunc(Math.max(o.json&&o.json.resultLimit||Number.MAX_VALUE,0)),v){o&&o.json&&o.json.format&&o.json.format.enable?R||(R=e.client.register(r.DocumentRangeFormattingRequest.type,{documentSelector:[{language:"json"},{language:"jsonc"}]})):R&&(R.then(e=>e.dispose()),R=null)}}),e.onNotification(c.type,e=>{k=e,_()}),e.onNotification(l.type,e=>{p.resetSchema(e)}),e.onRequest(d.type,e=>new Promise(t=>{const n=m.get(e);n?(_(),D(n,e=>{t(e)})):t([])})),m.onDidChangeContent(e=>{T.cancel(e.document.uri),O(e.document)}),m.onDidClose(t=>{T.cancel(t.document.uri),E(t.document),e.sendDiagnostics({uri:t.document.uri,diagnostics:[]})});const P={};function E(e){const t=P[e.uri];t&&(clearTimeout(t),delete P[e.uri])}function O(e){E(e),P[e.uri]=setTimeout(()=>{delete P[e.uri],D(e)},300)}function D(t,n){const r=r=>{e.sendDiagnostics({uri:t.uri,diagnostics:r}),n&&n(r)};if(0===t.getText().length)return void r([]);const i=A(t),s=t.version,a="jsonc"===t.languageId?{comments:"ignore",trailingCommas:"warning"}:{comments:"error",trailingCommas:"error"};p.doValidation(t,i,a).then(e=>{setImmediate(()=>{const n=m.get(t.uri);n&&n.version===s&&r(e)})},n=>{e.console.error(o.formatError("Error while validating "+t.uri,n))})}e.onDidChangeWatchedFiles(e=>{let t=!1;e.changes.forEach(e=>{p.resetSchema(e.uri)&&(t=!0)}),t&&m.all().forEach(O)});const M=s.getLanguageModelCache(10,60,e=>p.parseJSONDocument(e));function A(e){return M.get(e)}m.onDidClose(e=>{M.onDocumentRemoved(e.document)}),e.onShutdown(()=>{M.dispose()}),e.onCompletion((e,t)=>o.runSafeAsync(async()=>{const t=m.get(e.textDocument.uri);if(t){const n=A(t);return p.doComplete(t,e.position,n)}return null},null,"Error while computing completions for "+e.textDocument.uri,t)),e.onHover((e,t)=>o.runSafeAsync(async()=>{const t=m.get(e.textDocument.uri);if(t){const n=A(t);return p.doHover(t,e.position,n)}return null},null,"Error while computing hover for "+e.textDocument.uri,t)),e.onDocumentSymbol((e,t)=>o.runSafe(()=>{const t=m.get(e.textDocument.uri);if(t){const e=A(t),n=T.onResultLimitExceeded(t.uri,x,"document symbols");return y?p.findDocumentSymbols2(t,e,{resultLimit:x,onResultLimitExceeded:n}):p.findDocumentSymbols(t,e,{resultLimit:x,onResultLimitExceeded:n})}return[]},[],"Error while computing document symbols for "+e.textDocument.uri,t)),e.onDocumentRangeFormatting((e,t)=>o.runSafe(()=>{const t=m.get(e.textDocument.uri);if(t){const n=p.format(t,e.range,e.options);if(n.length>w){const e=i.TextDocument.applyEdits(t,n);return[r.TextEdit.replace(i.Range.create(i.Position.create(0,0),t.positionAt(t.getText().length)),e)]}return n}return[]},[],"Error while formatting range for "+e.textDocument.uri,t)),e.onDocumentColor((e,t)=>o.runSafeAsync(async()=>{const t=m.get(e.textDocument.uri);if(t){const e=T.onResultLimitExceeded(t.uri,x,"document colors"),n=A(t);return p.findDocumentColors(t,n,{resultLimit:x,onResultLimitExceeded:e})}return[]},[],"Error while computing document colors for "+e.textDocument.uri,t)),e.onColorPresentation((e,t)=>o.runSafe(()=>{const t=m.get(e.textDocument.uri);if(t){const n=A(t);return p.getColorPresentations(t,n,e.color,e.range)}return[]},[],"Error while computing color presentations for "+e.textDocument.uri,t)),e.onFoldingRanges((e,t)=>o.runSafe(()=>{const t=m.get(e.textDocument.uri);if(t){const e=T.onResultLimitExceeded(t.uri,C,"folding ranges");return p.getFoldingRanges(t,{rangeLimit:C,onRangeLimitExceeded:e})}return null},null,"Error while computing folding ranges for "+e.textDocument.uri,t)),e.onSelectionRanges((e,t)=>o.runSafe(()=>{const t=m.get(e.textDocument.uri);if(t){const n=A(t);return p.getSelectionRanges(t,e.positions,n)}return[]},[],"Error while computing selection ranges for "+e.textDocument.uri,t)),e.onDefinition((e,t)=>o.runSafeAsync(async()=>{const t=m.get(e.textDocument.uri);if(t){const n=A(t);return p.findDefinition(t,e.position,n)}return[]},[],"Error while computing definitions for "+e.textDocument.uri,t)),e.listen()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLanguageModelCache=void 0,t.getLanguageModelCache=function(e,t,n){let r={},o=0,i=void 0;return t>0&&(i=setInterval(()=>{let e=Date.now()-1e3*t,n=Object.keys(r);for(let t of n){r[t].cTime<e&&(delete r[t],o--)}},1e3*t)),{get(t){let i=t.version,s=t.languageId,a=r[t.uri];if(a&&a.version===i&&a.languageId===s)return a.cTime=Date.now(),a.languageModel;let c=n(t);if(r[t.uri]={languageModel:c,version:i,languageId:s,cTime:Date.now()},a||o++,o===e){let e=Number.MAX_VALUE,t=null;for(let n in r){let o=r[n];o.cTime<e&&(t=n,e=o.cTime)}t&&(delete r[t],o--)}return c},onDocumentRemoved(e){let t=e.uri;r[t]&&(delete r[t],o--)},dispose(){void 0!==i&&(clearInterval(i),i=void 0,r={},o=0)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinPath=t.normalizePath=t.resolvePath=t.isAbsolutePath=t.extname=t.basename=t.dirname=t.getScheme=void 0;const r=n(6);t.getScheme=function(e){return e.substr(0,e.indexOf(":"))},t.dirname=function(e){const t=e.lastIndexOf("/");return-1!==t?e.substr(0,t):""},t.basename=function(e){const t=e.lastIndexOf("/");return e.substr(t+1)};const o="/".charCodeAt(0),i=".".charCodeAt(0);function s(e){return e.charCodeAt(0)===o}function a(e){const t=[];for(const n of e)0===n.length||1===n.length&&n.charCodeAt(0)===i||(2===n.length&&n.charCodeAt(0)===i&&n.charCodeAt(1)===i?t.pop():t.push(n));e.length>1&&0===e[e.length-1].length&&t.push("");let n=t.join("/");return 0===e[0].length&&(n="/"+n),n}function c(e,...t){const n=r.URI.parse(e),o=n.path.split("/");for(let e of t)o.push(...e.split("/"));return n.with({path:a(o)}).toString()}t.extname=function(e){for(let t=e.length-1;t>=0;t--){const n=e.charCodeAt(t);if(n===i){if(t>0&&e.charCodeAt(t-1)!==o)return e.substr(t);break}if(n===o)break}return""},t.isAbsolutePath=s,t.resolvePath=function(e,t){if(s(t)){const n=r.URI.parse(e),o=t.split("/");return n.with({path:a(o)}).toString()}return c(e,t)},t.normalizePath=a,t.joinPath=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=n(16),i=n(70),s=n(71),a=n(82),c=n(86),u=n(87);if(process.env.VSCODE_NLS_CONFIG){var l=process.env.VSCODE_NLS_CONFIG;u.config(JSON.parse(l))}var f=u.loadMessageBundle(),d=null,h=!0;function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){return Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}t.configure=function(e,t){d=e,h=t},t.xhr=function e(t){var n=function(e,t){void 0===t&&(t={});var n=r.parse(e),o=t.proxyUrl||function(e){if("http:"===e.protocol)return process.env.HTTP_PROXY||process.env.http_proxy||null;if("https:"===e.protocol)return process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy||null;return null}(n);if(!o)return null;var i=r.parse(o);if(!/^https?:$/.test(i.protocol))return null;var c={host:i.hostname,port:Number(i.port),auth:i.auth,rejectUnauthorized:"boolean"!=typeof t.strictSSL||t.strictSSL};return"http:"===n.protocol?new s(c):new a(c)}(t.url,{proxyUrl:d,strictSSL:h});return t=p({},t),"number"!=typeof(t=p(t,{agent:n,strictSSL:h})).followRedirects&&(t.followRedirects=5),function e(t){var n;return new Promise((function(s,a){var c=r.parse(t.url),u={hostname:c.hostname,port:c.port?parseInt(c.port):"https:"===c.protocol?443:80,path:c.path,method:t.type||"GET",headers:t.headers,agent:t.agent,rejectUnauthorized:"boolean"!=typeof t.strictSSL||t.strictSSL};t.user&&t.password&&(u.auth=t.user+":"+t.password);var l=function(r){r.statusCode>=300&&r.statusCode<400&&t.followRedirects&&t.followRedirects>0&&r.headers.location?s(e(p({},t,{url:r.headers.location,followRedirects:t.followRedirects-1}))):s({req:n,res:r})};(n="https:"===c.protocol?o.request(u,l):i.request(u,l)).on("error",a),t.timeout&&n.setTimeout(t.timeout),t.data&&n.write(t.data),n.end()}))}(t).then((function(n){return new Promise((function(r,o){var i=n.res,s=i,a=i.headers&&i.headers["content-encoding"],u=!1;if("gzip"===a){var l=c.createGunzip();i.pipe(l),s=l}else if("deflate"===a){var d=c.createInflate();i.pipe(d),s=d}var h=[];s.on("data",(function(e){return h.push(e)})),s.on("end",(function(){if(!u){if(u=!0,t.followRedirects>0&&(i.statusCode>=300&&i.statusCode<=303||307===i.statusCode)){var n=i.headers.location;if(n)return void e({type:t.type,url:n,user:t.user,password:t.password,responseType:t.responseType,headers:t.headers,timeout:t.timeout,followRedirects:t.followRedirects-1,data:t.data}).then(r,o)}var s={responseText:h.join(""),status:i.statusCode,headers:i.headers||{}};i.statusCode>=200&&i.statusCode<300||1223===i.statusCode?r(s):o(s)}})),s.on("error",(function(e){var n={responseText:f("error","Unable to access {0}. Error: {1}",t.url,e.message),status:500,headers:void 0};u=!0,o(n)}))}))}),(function(e){var r;return r=n?f("error.cannot.connect.proxy","Unable to connect to {0} through a proxy . Error: {1}",t.url,e.message):f("error.cannot.connect","Unable to connect to {0}. Error: {1}",t.url,e.message),Promise.reject({responseText:r,status:404})}))},t.getErrorStatusDescription=function(e){if(!(e<400))switch(e){case 400:return f("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return f("status.401","Unauthorized. The server is refusing to respond.");case 403:return f("status.403","Forbidden. The server is refusing to respond.");case 404:return f("status.404","Not Found. The requested location could not be found.");case 405:return f("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return f("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return f("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return f("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return f("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return f("status.410","Gone. The requested page is no longer available.");case 411:return f("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return f("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return f("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return f("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return f("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return f("status.500","Internal Server Error.");case 501:return f("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return f("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return f("status.416","HTTP status code {0}",e)}}},function(e,t){e.exports=require("http")},function(e,t,n){var r=n(15),o=n(28),i=n(8),s=n(72),a=n(7).inherits,c=n(31)("http-proxy-agent");function u(e){if(!(this instanceof u))return new u(e);if("string"==typeof e&&(e=i.parse(e)),!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");c("creating new HttpProxyAgent instance: %o",e),s.call(this,e);var t=Object.assign({},e);this.secureProxy=!!t.protocol&&/^https:?$/i.test(t.protocol),t.host=t.hostname||t.host,t.port=+t.port||(this.secureProxy?443:80),t.host&&t.path&&(delete t.path,delete t.pathname),this.proxy=t}e.exports=u,a(u,s),u.prototype.callback=function(e,t,n){var s=this.proxy,a=i.parse(e.path);null==a.protocol&&(a.protocol="http:"),null==a.hostname&&(a.hostname=t.hostname||t.host),null==a.port&&(a.port=t.port),80==a.port&&delete a.port;var u,l=i.format(a);if(e.path=l,s.auth&&e.setHeader("Proxy-Authorization","Basic "+Buffer.from(s.auth).toString("base64")),u=this.secureProxy?o.connect(s):r.connect(s),e._header&&(c("regenerating stored HTTP header string for request"),e._header=null,e._implicitHeader(),e.output&&e.output.length>0)){c("patching connection write() output buffer with updated header");var f=e.output[0],d=f.indexOf("\r\n\r\n")+4;e.output[0]=e._header+f.substring(d),c("output buffer: %o",e.output)}n(null,u)}},function(e,t,n){"use strict";n(73);const r=n(7).inherits,o=n(29),i=n(30).EventEmitter;function s(e,t){if(!(this instanceof s))return new s(e,t);i.call(this);let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=s,r(s,i),s.prototype.callback=function(e,t){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},s.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let i;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let s=!1;const a=this.timeout;function c(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function u(e){s||(null!=i&&clearTimeout(i),c(e))}this.callback.length>=3&&(this.callback=o(this.callback,this)),a>0&&(i=setTimeout((function(){s=!0;const e=new Error('A "socket" was not created for HTTP request before '+a+"ms");e.code="ETIMEOUT",c(e)}),a));try{Promise.resolve(this.callback(e,r)).then((function(t){if(!s)if(null!=i&&clearTimeout(i),t)e.onSocket(t);else{c(new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``))}}),u)}catch(e){Promise.reject(e).catch(u)}}},function(e,t,n){"use strict";const r=n(8),o=n(16);var i;o.request=(i=o.request,function(e,t){let n;return n="string"==typeof e?r.parse(e):Object.assign({},e),null==n.port&&(n.port=443),n.secureEndpoint=!0,i.call(o,n,t)}),o.get=function(e,t){const n=o.request(e,t);return n.end(),n}},function(e,t,n){"use strict";var r;e.exports=(r=void 0,r=void 0!==global?global:void 0!==window&&window.document?window:self,function(){if(!r.hasOwnProperty("Promise"))return!1;var e,t=r.Promise;return!!(t.hasOwnProperty("resolve")&&t.hasOwnProperty("reject")&&t.hasOwnProperty("all")&&t.hasOwnProperty("race")&&(e=void 0,new r.Promise((function(t){e=t}))&&"function"==typeof e))}()?r.Promise:n(75).Promise)},function(e,t,n){var r;
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.1
 */r=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,o=void 0,i=void 0,s=function(e,t){h[r]=e,h[r+1]=t,2===(r+=2)&&(i?i(p):b())},a="undefined"!=typeof window?window:void 0,c=a||{},u=c.MutationObserver||c.WebKitMutationObserver,l="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var e=setTimeout;return function(){return e(p,1)}}var h=new Array(1e3);function p(){for(var e=0;e<r;e+=2)(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0;r=0}var m,g,v,y,b=void 0;function C(e,t){var n=arguments,r=this,o=new this.constructor(T);void 0===o[w]&&j(o);var i,a=r._state;return a?(i=n[a-1],s((function(){return q(a,o,i,r._result)}))):D(r,o,e,t),o}function x(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(T);return _(t,e),t}l?b=function(){return process.nextTick(p)}:u?(g=0,v=new u(p),y=document.createTextNode(""),v.observe(y,{characterData:!0}),b=function(){y.data=g=++g%2}):f?((m=new MessageChannel).port1.onmessage=p,b=function(){return m.port2.postMessage(0)}):b=void 0===a?function(){try{var e=n(!function(){var e=new Error("Cannot find module 'vertx'");throw e.code="MODULE_NOT_FOUND",e}());return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(p)}:d()}catch(e){return d()}}():d();var w=Math.random().toString(36).substring(16);function T(){}var S=new A;function k(e){try{return e.then}catch(e){return S.error=e,S}}function R(t,n,r){n.constructor===t.constructor&&r===C&&n.constructor.resolve===x?function(e,t){1===t._state?E(e,t._result):2===t._state?O(e,t._result):D(t,void 0,(function(t){return _(e,t)}),(function(t){return O(e,t)}))}(t,n):r===S?(O(t,S.error),S.error=null):void 0===r?E(t,n):e(r)?function(e,t,n){s((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?_(e,n):E(e,n))}),(function(t){r||(r=!0,O(e,t))}),e._label);!r&&o&&(r=!0,O(e,o))}),e)}(t,n,r):E(t,n)}function _(e,t){var n,r;e===t?O(e,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=t),null===n||"object"!==r&&"function"!==r?E(e,t):R(e,t,k(t)))}function P(e){e._onerror&&e._onerror(e._result),M(e)}function E(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(M,e))}function O(e,t){void 0===e._state&&(e._state=2,e._result=t,s(P,e))}function D(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=n,o[i+2]=r,0===i&&e._state&&s(M,e)}function M(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)r=t[s],o=t[s+n],r?q(n,r,o,i):o(i);e._subscribers.length=0}}function A(){this.error=null}var N=new A;function q(t,n,r,o){var i=e(r),s=void 0,a=void 0,c=void 0,u=void 0;if(i){if((s=function(e,t){try{return e(t)}catch(e){return N.error=e,N}}(r,o))===N?(u=!0,a=s.error,s.error=null):c=!0,n===s)return void O(n,new TypeError("A promises callback cannot return that same promise."))}else s=o,c=!0;void 0!==n._state||(i&&c?_(n,s):u?O(n,a):1===t?E(n,s):2===t&&O(n,s))}var F=0;function j(e){e[w]=F++,e._state=void 0,e._result=void 0,e._subscribers=[]}function I(e,n){this._instanceConstructor=e,this.promise=new e(T),this.promise[w]||j(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&E(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}function L(e){this[w]=F++,this._result=this._state=void 0,this._subscribers=[],T!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof L?function(e,t){try{t((function(t){_(e,t)}),(function(t){O(e,t)}))}catch(t){O(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return I.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},I.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===x){var o=k(e);if(o===C&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===L){var i=new n(T);R(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},I.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?O(r,n):this._result[t]=n),0===this._remaining&&E(r,this._result)},I.prototype._willSettleAt=function(e,t){var n=this;D(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},L.all=function(e){return new I(this,e).promise},L.race=function(e){var n=this;return t(e)?new n((function(t,r){for(var o=e.length,i=0;i<o;i++)n.resolve(e[i]).then(t,r)})):new n((function(e,t){return t(new TypeError("You must pass an array to race."))}))},L.resolve=x,L.reject=function(e){var t=new this(T);return O(t,e),t},L._setScheduler=function(e){i=e},L._setAsap=function(e){s=e},L._asap=s,L.prototype={constructor:L,then:C,catch:function(e){return this.then(null,e)}},L.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=L},L.Promise=L,L},e.exports=r()},function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(32)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},function(e,t){var n=1e3,r=6e4,o=60*r,i=24*o;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var a,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?s(a=e,i,"day")||s(a,o,"hour")||s(a,r,"minute")||s(a,n,"second")||a+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(79),o=n(7);(t=e.exports=n(32)).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return process.stderr.write(o.format.apply(o,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var r=this.color,o="[3"+(r<8?r:"8;5;"+r),i="  "+o+";1m"+n+" [0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push(o+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=s,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{var i=n(80);i&&i.level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}function s(){return process.env.DEBUG}t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)},t.enable(s())},function(e,t){e.exports=require("tty")},function(e,t,n){"use strict";const r=n(23),o=n(81),{env:i}=process;let s;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(0===s)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&void 0===s)return 0;const t=s||0;if("dumb"===i.TERM)return t;if("win32"===process.platform){const e=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in i)||"codeship"===i.CI_NAME?1:t;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:t}(e))}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?s=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(s=1),"FORCE_COLOR"in i&&(s=!0===i.FORCE_COLOR||"true"===i.FORCE_COLOR?1:!1===i.FORCE_COLOR||"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,n){"use strict";e.exports=(e,t)=>{t=t||process.argv;const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return-1!==r&&(-1===o||r<o)}},function(e,t,n){var r=n(15),o=n(28),i=n(8),s=n(83),a=n(84),c=n(7).inherits,u=n(31)("https-proxy-agent");function l(e){if(!(this instanceof l))return new l(e);if("string"==typeof e&&(e=i.parse(e)),!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");u("creating new HttpsProxyAgent instance: %o",e),a.call(this,e);var t=Object.assign({},e);this.secureProxy=!!t.protocol&&/^https:?$/i.test(t.protocol),t.host=t.hostname||t.host,t.port=+t.port||(this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in t)&&(t.ALPNProtocols=["http 1.1"]),t.host&&t.path&&(delete t.path,delete t.pathname),this.proxy=t,this.defaultPort=443}function f(e){e.resume()}e.exports=l,c(l,a),l.prototype.callback=function(e,t,n){var i,a=this.proxy;i=this.secureProxy?o.connect(a):r.connect(a);var c=[],l=0;function d(){var s=i.read();s?function(s){c.push(s),l+=s.length;var a=Buffer.concat(c,l),p=a.toString("ascii");if(!~p.indexOf("\r\n\r\n"))return u("have not received end of HTTP headers yet..."),void d();var m=p.substring(0,p.indexOf("\r\n")),g=+m.split(" ")[1];if(u("got proxy server response: %o",m),200==g){var y=i;c=a=null,t.secureEndpoint&&(u("upgrading proxy-connected socket to TLS connection: %o",t.host),t.socket=i,t.servername=t.servername||t.host,t.host=null,t.hostname=null,t.port=null,y=o.connect(t)),h(),e.once("socket",f),n(null,y)}else h(),i.destroy(),(i=new r.Socket).readable=!0,c=a,e.once("socket",v),n(null,i)}(s):i.once("readable",d)}function h(){i.removeListener("end",m),i.removeListener("error",g),i.removeListener("close",p),i.removeListener("readable",d)}function p(e){u("onclose had error %o",e)}function m(){u("onend")}function g(e){h(),n(e)}function v(e){u("replaying proxy buffer for failed request"),s(e.listenerCount("data")>0),e.push(c),c=null}i.on("error",g),i.on("close",p),i.on("end",m),d();var y="CONNECT "+(t.host+":"+t.port)+" HTTP/1.1\r\n",b=Object.assign({},a.headers);a.auth&&(b["Proxy-Authorization"]="Basic "+Buffer.from(a.auth).toString("base64"));var C,x,w=t.host;C=t.port,x=t.secureEndpoint,Boolean(!x&&80===C||x&&443===C)||(w+=":"+t.port),b.Host=w,b.Connection="close",Object.keys(b).forEach((function(e){y+=e+": "+b[e]+"\r\n"})),i.write(y+"\r\n")}},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";n(85);const r=n(7).inherits,o=n(29),i=n(30).EventEmitter;function s(e,t){if(!(this instanceof s))return new s(e,t);i.call(this),this._promisifiedCallback=!1;let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=s,r(s,i),s.prototype.callback=function(e,t){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},s.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let i;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let s=!1;const a=this.timeout,c=this.freeSocket;function u(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function l(e){s||(null!=i&&(clearTimeout(i),i=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=o(this.callback,this),this._promisifiedCallback=!0),a>0&&(i=setTimeout((function(){i=null,s=!0;const e=new Error('A "socket" was not created for HTTP request before '+a+"ms");e.code="ETIMEOUT",u(e)}),a));try{Promise.resolve(this.callback(e,r)).then((function(t){var n;if(!s)if(null!=i&&(clearTimeout(i),i=null),(n=t)&&"function"==typeof n.addRequest)t.addRequest(e,r);else if(t){t.on("free",(function(){c(t,r)})),e.onSocket(t)}else{u(new Error("no Duplex stream was returned to agent-base for `"+e.method+" "+e.path+"`"))}}),l)}catch(e){Promise.reject(e).catch(l)}},s.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){"use strict";const r=n(8),o=n(16),i="__agent_base_https_request_patched__";var s;o.request[i]||(o.request=(s=o.request,function(e,t){let n;return n="string"==typeof e?r.parse(e):Object.assign({},e),null==n.port&&(n.port=443),n.secureEndpoint=!0,s.call(o,n,t)}),o.request[i]=!0),o.get=function(e,t,n){let i;"string"==typeof e&&t&&"function"!=typeof t?i=Object.assign({},r.parse(e),t):t||n?n||(i=e,n=t):i=e;const s=o.request(i,n);return s.end(),s}},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i,s,a,c,u=n(11),l=n(12),f=Object.prototype.toString;function d(e){return void 0!==e}function h(e){return"[object Number]"===f.call(e)}function p(e){return"[object String]"===f.call(e)}function m(e){return JSON.parse(l.readFileSync(e,"utf8"))}function g(e,t){return c&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,n){var r=n[0],o=t[r],i=e;return"string"==typeof o?i=o:"number"!=typeof o&&"boolean"!=typeof o&&null!=o||(i=String(o)),i}))}function v(e){return function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return h(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):g(e[t],r):p(n)?(console.warn("Message "+n+" didn't get externalized correctly."),g(n,r)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function y(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return g(t,n)}function b(e,t){return s[e]=t,t}function C(e,t){var n,r,o,i=u.join(a.cacheRoot,e.id+"-"+e.hash+".json"),s=!1,c=!1;try{return n=JSON.parse(l.readFileSync(i,{encoding:"utf8",flag:"r"})),r=i,o=new Date,l.utimes(r,o,o,(function(){})),n}catch(e){if("ENOENT"===e.code)c=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),l.unlink(i,(function(e){e&&console.error("Deleting corrupted bundle "+i+" failed.")})),s=!0}}if(!(n=function(e,t){var n=a.translationsConfig[e.id];if(n){var r=m(n).contents,o=m(u.join(t,"nls.metadata.json")),i=Object.create(null);for(var s in o){var c=o[s],l=r[e.outDir+"/"+s];if(l){for(var f=[],d=0;d<c.keys.length;d++){var h=c.keys[d],g=l[p(h)?h:h.key];void 0===g&&(g=c.messages[d]),f.push(g)}i[s]=f}else i[s]=c.messages}return i}}(e,t))||s)return n;if(c)try{l.writeFileSync(i,JSON.stringify(n),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return n;throw e}return n}function x(e){try{return function(e){var t=m(u.join(e,"nls.metadata.json")),n=Object.create(null);for(var r in t){var o=t[r];n[r]=o.messages}return n}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function w(e,t){var n;if(!0===a.languagePackSupport&&void 0!==a.cacheRoot&&void 0!==a.languagePackId&&void 0!==a.translationsConfigFile&&void 0!==a.translationsConfig)try{n=C(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!n){if(a.languagePackSupport)return x(t);var r=function(e){for(var t=a.language;t;){var n=u.join(e,"nls.bundle."+t+".json");if(l.existsSync(n))return n;var r=t.lastIndexOf("-");t=r>0?t.substring(0,r):void 0}if(void 0===t){n=u.join(e,"nls.bundle.json");if(l.existsSync(n))return n}}(t);if(r)try{return m(r)}catch(e){console.log("Loading in the box message bundle failed.",e)}n=x(t)}return n}function T(e){if(!e)return y;var t=u.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),a.messageFormat===r.both||a.messageFormat===r.bundle){var n=function(e){for(var t,n=u.dirname(e);t=u.join(n,"nls.metadata.header.json"),!l.existsSync(t);){var r=u.dirname(n);if(r===n){t=void 0;break}n=r}return t}(e);if(n){var o=u.dirname(n),i=s[o];if(void 0===i)try{var f=JSON.parse(l.readFileSync(n,"utf8"));try{var h=w(f,o);i=b(o,h?{header:f,nlsBundle:h}:null)}catch(e){console.error("Failed to load nls bundle",e),i=b(o,null)}}catch(e){console.error("Failed to read header file",e),i=b(o,null)}if(i){var p=e.substr(o.length+1).replace(/\\/g,"/"),g=i.nlsBundle[p];return void 0===g?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):v(g)}}}if(a.messageFormat===r.both||a.messageFormat===r.file)try{var C=m(function(e){var t;if(a.cacheLanguageResolution&&t)t=t;else{if(c||!a.language)t=".nls.json";else for(var n=a.language;n;){var r=".nls."+n+".json";if(l.existsSync(e+r)){t=r;break}var o=n.lastIndexOf("-");o>0?n=n.substring(0,o):(t=".nls.json",n=null)}a.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(C)?v(C):d(C.messages)&&d(C.keys)?v(C.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(r=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(o=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&d(t.key)&&d(t.comment)}}(i||(i={})),function(){if(a={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:r.bundle},p(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages["*"];p(n)&&(t=n)}if(p(e.locale)&&(a.locale=e.locale.toLowerCase()),void 0===t?a.language=a.locale:"en"!==t&&(a.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(a.languagePackSupport=e._languagePackSupport),p(e._cacheRoot)&&(a.cacheRoot=e._cacheRoot),p(e._languagePackId)&&(a.languagePackId=e._languagePackId),p(e._translationsConfigFile)){a.translationsConfigFile=e._translationsConfigFile;try{a.translationsConfig=m(a.translationsConfigFile)}catch(t){e._corruptedFile&&l.writeFile(e._corruptedFile,"corrupted","utf8",(function(e){console.error(e)}))}}}catch(e){}c="pseudo"===a.locale,void 0,s=Object.create(null)}(),t.loadMessageBundle=T,t.config=function(e){return e&&(p(e.locale)&&(a.locale=e.locale.toLowerCase(),a.language=a.locale,void 0,s=Object.create(null)),void 0!==e.messageFormat&&(a.messageFormat=e.messageFormat),e.bundleFormat===o.standalone&&!0===a.languagePackSupport&&(a.languagePackSupport=!1)),c="pseudo"===a.locale,T}},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=!1);var n=e.length,r=0,a="",c=0,u=16,l=0,f=0,d=0,h=0,p=0;function m(t,n){for(var o=0,i=0;o<t||!n;){var s=e.charCodeAt(r);if(s>=48&&s<=57)i=16*i+s-48;else if(s>=65&&s<=70)i=16*i+s-65+10;else{if(!(s>=97&&s<=102))break;i=16*i+s-97+10}r++,o++}return o<t&&(i=-1),i}function g(){if(a="",p=0,c=r,f=l,h=d,r>=n)return c=n,u=17;var t=e.charCodeAt(r);if(o(t)){do{r++,a+=String.fromCharCode(t),t=e.charCodeAt(r)}while(o(t));return u=15}if(i(t))return r++,a+=String.fromCharCode(t),13===t&&10===e.charCodeAt(r)&&(r++,a+="\n"),l++,d=r,u=14;switch(t){case 123:return r++,u=1;case 125:return r++,u=2;case 91:return r++,u=3;case 93:return r++,u=4;case 58:return r++,u=6;case 44:return r++,u=5;case 34:return r++,a=function(){for(var t="",o=r;;){if(r>=n){t+=e.substring(o,r),p=2;break}var s=e.charCodeAt(r);if(34===s){t+=e.substring(o,r),r++;break}if(92!==s){if(s>=0&&s<=31){if(i(s)){t+=e.substring(o,r),p=2;break}p=6}r++}else{if(t+=e.substring(o,r),++r>=n){p=2;break}switch(e.charCodeAt(r++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=m(4,!0);a>=0?t+=String.fromCharCode(a):p=4;break;default:p=5}o=r}}return t}(),u=10;case 47:var g=r-1;if(47===e.charCodeAt(r+1)){for(r+=2;r<n&&!i(e.charCodeAt(r));)r++;return a=e.substring(g,r),u=12}if(42===e.charCodeAt(r+1)){r+=2;for(var y=n-1,b=!1;r<y;){var C=e.charCodeAt(r);if(42===C&&47===e.charCodeAt(r+1)){r+=2,b=!0;break}r++,i(C)&&(13===C&&10===e.charCodeAt(r)&&r++,l++,d=r)}return b||(r++,p=1),a=e.substring(g,r),u=13}return a+=String.fromCharCode(t),r++,u=16;case 45:if(a+=String.fromCharCode(t),++r===n||!s(e.charCodeAt(r)))return u=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=function(){var t=r;if(48===e.charCodeAt(r))r++;else for(r++;r<e.length&&s(e.charCodeAt(r));)r++;if(r<e.length&&46===e.charCodeAt(r)){if(!(++r<e.length&&s(e.charCodeAt(r))))return p=3,e.substring(t,r);for(r++;r<e.length&&s(e.charCodeAt(r));)r++}var n=r;if(r<e.length&&(69===e.charCodeAt(r)||101===e.charCodeAt(r)))if((++r<e.length&&43===e.charCodeAt(r)||45===e.charCodeAt(r))&&r++,r<e.length&&s(e.charCodeAt(r))){for(r++;r<e.length&&s(e.charCodeAt(r));)r++;n=r}else p=3;return e.substring(t,n)}(),u=11;default:for(;r<n&&v(t);)r++,t=e.charCodeAt(r);if(c!==r){switch(a=e.substring(c,r)){case"true":return u=8;case"false":return u=9;case"null":return u=7}return u=16}return a+=String.fromCharCode(t),r++,u=16}}function v(e){if(o(e)||i(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){r=e,a="",c=0,u=16,p=0},getPosition:function(){return r},scan:t?function(){var e;do{e=g()}while(e>=12&&e<=15);return e}:g,getToken:function(){return u},getTokenValue:function(){return a},getTokenOffset:function(){return c},getTokenLength:function(){return r-c},getTokenStartLine:function(){return f},getTokenStartCharacter:function(){return c-h},getTokenError:function(){return p}}}function o(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function i(e){return 10===e||13===e||8232===e||8233===e}function s(e){return e>=48&&e<=57}function a(e,t,n){var o,i,s,a,l;if(t){for(a=t.offset,l=a+t.length,s=a;s>0&&!u(e,s-1);)s--;for(var f=l;f<e.length&&!u(e,f);)f++;i=e.substring(s,f),o=function(e,t){var n=0,r=0,o=t.tabSize||4;for(;n<e.length;){var i=e.charAt(n);if(" "===i)r++;else{if("\t"!==i)break;r+=o}n++}return Math.floor(r/o)}(i,n)}else i=e,o=0,s=0,a=0,l=e.length;var d,h=function(e,t){for(var n=0;n<t.length;n++){var r=t.charAt(n);if("\r"===r)return n+1<t.length&&"\n"===t.charAt(n+1)?"\r\n":"\r";if("\n"===r)return"\n"}return e&&e.eol||"\n"}(n,e),p=!1,m=0;d=n.insertSpaces?c(" ",n.tabSize||4):"\t";var g=r(i,!1),v=!1;function y(){return h+c(d,o+m)}function b(){var e=g.scan();for(p=!1;15===e||14===e;)p=p||14===e,e=g.scan();return v=16===e||0!==g.getTokenError(),e}var C=[];function x(t,n,r){!v&&n<l&&r>a&&e.substring(n,r)!==t&&C.push({offset:n,length:r-n,content:t})}var w=b();if(17!==w){var T=g.getTokenOffset()+s;x(c(d,o),s,T)}for(;17!==w;){for(var S=g.getTokenOffset()+g.getTokenLength()+s,k=b(),R="";!p&&(12===k||13===k);){x(" ",S,g.getTokenOffset()+s),S=g.getTokenOffset()+g.getTokenLength()+s,R=12===k?y():"",k=b()}if(2===k)1!==w&&(m--,R=y());else if(4===k)3!==w&&(m--,R=y());else{switch(w){case 3:case 1:m++,R=y();break;case 5:case 12:R=y();break;case 13:R=p?y():" ";break;case 6:R=" ";break;case 10:if(6===k){R="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===k||13===k?R=" ":5!==k&&17!==k&&(v=!0);break;case 16:v=!0}!p||12!==k&&13!==k||(R=y())}x(R,S,g.getTokenOffset()+s),w=k}return C}function c(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}function u(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var l;function f(e,t,n){void 0===n&&(n=l.DEFAULT);var o=r(e,!1);function i(e){return e?function(){return e(o.getTokenOffset(),o.getTokenLength(),o.getTokenStartLine(),o.getTokenStartCharacter())}:function(){return!0}}function s(e){return e?function(t){return e(t,o.getTokenOffset(),o.getTokenLength(),o.getTokenStartLine(),o.getTokenStartCharacter())}:function(){return!0}}var a=i(t.onObjectBegin),c=s(t.onObjectProperty),u=i(t.onObjectEnd),f=i(t.onArrayBegin),d=i(t.onArrayEnd),h=s(t.onLiteralValue),p=s(t.onSeparator),m=i(t.onComment),g=s(t.onError),v=n&&n.disallowComments,y=n&&n.allowTrailingComma;function b(){for(;;){var e=o.scan();switch(o.getTokenError()){case 4:C(14);break;case 5:C(15);break;case 3:C(13);break;case 1:v||C(11);break;case 2:C(12);break;case 6:C(16)}switch(e){case 12:case 13:v?C(10):m();break;case 16:C(1);break;case 15:case 14:break;default:return e}}}function C(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),g(e),t.length+n.length>0)for(var r=o.getToken();17!==r;){if(-1!==t.indexOf(r)){b();break}if(-1!==n.indexOf(r))break;r=b()}}function x(e){var t=o.getTokenValue();return e?h(t):c(t),b(),!0}function w(){switch(o.getToken()){case 3:return function(){f(),b();for(var e=!1;4!==o.getToken()&&17!==o.getToken();){if(5===o.getToken()){if(e||C(4,[],[]),p(","),b(),4===o.getToken()&&y)break}else e&&C(6,[],[]);w()||C(4,[],[4,5]),e=!0}return d(),4!==o.getToken()?C(8,[4],[]):b(),!0}();case 1:return function(){a(),b();for(var e=!1;2!==o.getToken()&&17!==o.getToken();){if(5===o.getToken()){if(e||C(4,[],[]),p(","),b(),2===o.getToken()&&y)break}else e&&C(6,[],[]);(10!==o.getToken()?(C(3,[],[2,5]),0):(x(!1),6===o.getToken()?(p(":"),b(),w()||C(4,[],[2,5])):C(5,[],[2,5]),1))||C(4,[],[2,5]),e=!0}return u(),2!==o.getToken()?C(7,[2],[]):b(),!0}();case 10:return x(!0);default:return function(){switch(o.getToken()){case 11:var e=o.getTokenValue(),t=Number(e);isNaN(t)&&(C(2),t=0),h(t);break;case 7:h(null);break;case 8:h(!0);break;case 9:h(!1);break;default:return!1}return b(),!0}()}}return b(),17===o.getToken()?!!n.allowEmptyContent||(C(4,[],[]),!1):w()?(17!==o.getToken()&&C(9,[],[]),!0):(C(4,[],[]),!1)}n.r(t),n.d(t,"TextDocument",(function(){return x})),n.d(t,"Range",(function(){return S.Range})),n.d(t,"TextEdit",(function(){return S.TextEdit})),n.d(t,"Color",(function(){return S.Color})),n.d(t,"ColorInformation",(function(){return S.ColorInformation})),n.d(t,"ColorPresentation",(function(){return S.ColorPresentation})),n.d(t,"FoldingRange",(function(){return S.FoldingRange})),n.d(t,"FoldingRangeKind",(function(){return S.FoldingRangeKind})),n.d(t,"SelectionRange",(function(){return S.SelectionRange})),n.d(t,"Diagnostic",(function(){return S.Diagnostic})),n.d(t,"DiagnosticSeverity",(function(){return S.DiagnosticSeverity})),n.d(t,"CompletionItem",(function(){return S.CompletionItem})),n.d(t,"CompletionItemKind",(function(){return S.CompletionItemKind})),n.d(t,"CompletionList",(function(){return S.CompletionList})),n.d(t,"Position",(function(){return S.Position})),n.d(t,"InsertTextFormat",(function(){return S.InsertTextFormat})),n.d(t,"MarkupContent",(function(){return S.MarkupContent})),n.d(t,"MarkupKind",(function(){return S.MarkupKind})),n.d(t,"SymbolInformation",(function(){return S.SymbolInformation})),n.d(t,"SymbolKind",(function(){return S.SymbolKind})),n.d(t,"DocumentSymbol",(function(){return S.DocumentSymbol})),n.d(t,"Location",(function(){return S.Location})),n.d(t,"Hover",(function(){return S.Hover})),n.d(t,"MarkedString",(function(){return S.MarkedString})),n.d(t,"FormattingOptions",(function(){return S.FormattingOptions})),n.d(t,"ErrorCode",(function(){return w})),n.d(t,"ClientCapabilities",(function(){return T})),n.d(t,"getLanguageService",(function(){return Fe})),function(e){e.DEFAULT={allowTrailingComma:!1}}(l||(l={}));var d=r,h=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=l.DEFAULT);var r=null,o=[],i=[];function s(e){Array.isArray(o)?o.push(e):null!==r&&(o[r]=e)}return f(e,{onObjectBegin:function(){var e={};s(e),i.push(o),o=e,r=null},onObjectProperty:function(e){r=e},onObjectEnd:function(){o=i.pop()},onArrayBegin:function(){var e=[];s(e),i.push(o),o=e,r=null},onArrayEnd:function(){o=i.pop()},onLiteralValue:s,onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n),o[0]},p=function e(t,n,r){if(void 0===r&&(r=!1),function(e,t,n){return void 0===n&&(n=!1),t>=e.offset&&t<e.offset+e.length||n&&t===e.offset+e.length}(t,n,r)){var o=t.children;if(Array.isArray(o))for(var i=0;i<o.length&&o[i].offset<=n;i++){var s=e(o[i],n,r);if(s)return s}return t}},m=function e(t){if(!t.parent||!t.parent.children)return[];var n=e(t.parent);if("property"===t.parent.type){var r=t.parent.children[0].value;n.push(r)}else if("array"===t.parent.type){var o=t.parent.children.indexOf(t);-1!==o&&n.push(o)}return n},g=function e(t){switch(t.type){case"array":return t.children.map(e);case"object":for(var n=Object.create(null),r=0,o=t.children;r<o.length;r++){var i=o[r],s=i.children[1];s&&(n[i.children[0].value]=e(s))}return n;case"null":case"string":case"number":case"boolean":return t.value;default:return}};function v(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;var n,r;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!v(e[n],t[n]))return!1}else{var o=[];for(r in e)o.push(r);o.sort();var i=[];for(r in t)i.push(r);if(i.sort(),!v(o,i))return!1;for(n=0;n<o.length;n++)if(!v(e[o[n]],t[o[n]]))return!1}return!0}function y(e){return"number"==typeof e}function b(e){return void 0!==e}function C(e){return"boolean"==typeof e}var x,w,T,S=n(0),k=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(t,n){for(var r=0,o=t;r<o.length;r++){var i=o[r];if(e.isIncremental(i)){var s=_(i.range),a=this.offsetAt(s.start),c=this.offsetAt(s.end);this._content=this._content.substring(0,a)+i.text+this._content.substring(c,this._content.length);var u=Math.max(s.start.line,0),l=Math.max(s.end.line,0),f=this._lineOffsets,d=R(i.text,!1,a);if(l-u===d.length)for(var h=0,p=d.length;h<p;h++)f[h+u+1]=d[h];else d.length<1e4?f.splice.apply(f,[u+1,l-u].concat(d)):this._lineOffsets=f=f.slice(0,u+1).concat(d,f.slice(l+1));var m=i.text.length-(c-a);if(0!==m)for(h=u+1+d.length,p=f.length;h<p;h++)f[h]=f[h]+m}else{if(!e.isFull(i))throw new Error("Unknown change event received");this._content=i.text,this._lineOffsets=void 0}}this._version=n},e.prototype.getLineOffsets=function(){return void 0===this._lineOffsets&&(this._lineOffsets=R(this._content,!0)),this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return{line:0,character:e};for(;n<r;){var o=Math.floor((n+r)/2);t[o]>e?r=o:n=o+1}var i=n-1;return{line:i,character:e-t[i]}},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e.isIncremental=function(e){var t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},e.isFull=function(e){var t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},e}();function R(e,t,n){void 0===n&&(n=0);for(var r=t?[n]:[],o=0;o<e.length;o++){var i=e.charCodeAt(o);13!==i&&10!==i||(13===i&&o+1<e.length&&10===e.charCodeAt(o+1)&&o++,r.push(n+o+1))}return r}function _(e){var t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function P(e){var t=_(e.range);return t!==e.range?{newText:e.newText,range:t}:e}!function(e){e.create=function(e,t,n,r){return new k(e,t,n,r)},e.update=function(e,t,n){if(e instanceof k)return e.update(t,n),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")},e.applyEdits=function(e,t){for(var n=e.getText(),r=0,o=[],i=0,s=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0,o=t.slice(0,r),i=t.slice(r);e(o,n),e(i,n);var s=0,a=0,c=0;for(;s<o.length&&a<i.length;){var u=n(o[s],i[a]);t[c++]=u<=0?o[s++]:i[a++]}for(;s<o.length;)t[c++]=o[s++];for(;a<i.length;)t[c++]=i[a++];return t}(t.map(P),(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n}));i<s.length;i++){var a=s[i],c=e.offsetAt(a.range.start);if(c<r)throw new Error("Overlapping edit");c>r&&o.push(n.substring(r,c)),a.newText.length&&o.push(a.newText),r=e.offsetAt(a.range.end)}return o.push(n.substr(r)),o.join("")}}(x||(x={})),function(e){e[e.Undefined=0]="Undefined",e[e.EnumValueMismatch=1]="EnumValueMismatch",e[e.Deprecated=2]="Deprecated",e[e.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=258]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",e[e.InvalidUnicode=260]="InvalidUnicode",e[e.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",e[e.InvalidCharacter=262]="InvalidCharacter",e[e.PropertyExpected=513]="PropertyExpected",e[e.CommaExpected=514]="CommaExpected",e[e.ColonExpected=515]="ColonExpected",e[e.ValueExpected=516]="ValueExpected",e[e.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",e[e.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",e[e.TrailingComma=519]="TrailingComma",e[e.DuplicateKey=520]="DuplicateKey",e[e.CommentNotPermitted=521]="CommentNotPermitted",e[e.SchemaResolveError=768]="SchemaResolveError"}(w||(w={})),(T||(T={})).LATEST={textDocument:{completion:{completionItem:{documentationFormat:[S.MarkupKind.Markdown,S.MarkupKind.PlainText],commitCharactersSupport:!0}}}};var E,O,D=n(3),M=(E=function(e,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),A=D.loadMessageBundle(),N={"color-hex":{errorMessage:A("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:A("dateTimeFormatWarning","String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:A("dateFormatWarning","String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:A("timeFormatWarning","String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:A("emailFormatWarning","String is not an e-mail address."),pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}},q=function(){function e(e,t,n){void 0===n&&(n=0),this.offset=t,this.length=n,this.parent=e}return Object.defineProperty(e.prototype,"children",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")},e}(),F=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type="null",r.value=null,r}return M(t,e),t}(q),j=function(e){function t(t,n,r){var o=e.call(this,t,r)||this;return o.type="boolean",o.value=n,o}return M(t,e),t}(q),I=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type="array",r.items=[],r}return M(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this.items},enumerable:!1,configurable:!0}),t}(q),L=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type="number",r.isInteger=!0,r.value=Number.NaN,r}return M(t,e),t}(q),W=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.type="string",o.value="",o}return M(t,e),t}(q),V=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.type="property",o.colonOffset=-1,o.keyNode=r,o}return M(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:!1,configurable:!0}),t}(q),$=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type="object",r.properties=[],r}return M(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this.properties},enumerable:!1,configurable:!0}),t}(q);function U(e){return C(e)?e?{}:{not:{}}:e}!function(e){e[e.Key=0]="Key",e[e.Enum=1]="Enum"}(O||(O={}));var H=function(){function e(e,t){void 0===e&&(e=-1),this.focusOffset=e,this.exclude=t,this.schemas=[]}return e.prototype.add=function(e){this.schemas.push(e)},e.prototype.merge=function(e){Array.prototype.push.apply(this.schemas,e.schemas)},e.prototype.include=function(e){return(-1===this.focusOffset||G(e,this.focusOffset))&&e!==this.exclude},e.prototype.newSub=function(){return new e(-1,this.exclude)},e}(),z=function(){function e(){}return Object.defineProperty(e.prototype,"schemas",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.add=function(e){},e.prototype.merge=function(e){},e.prototype.include=function(e){return!0},e.prototype.newSub=function(){return this},e.instance=new e,e}(),B=function(){function e(){this.problems=[],this.propertiesMatches=0,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=void 0}return e.prototype.hasProblems=function(){return!!this.problems.length},e.prototype.mergeAll=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];this.merge(r)}},e.prototype.merge=function(e){this.problems=this.problems.concat(e.problems)},e.prototype.mergeEnumValues=function(e){if(!this.enumValueMatch&&!e.enumValueMatch&&this.enumValues&&e.enumValues){this.enumValues=this.enumValues.concat(e.enumValues);for(var t=0,n=this.problems;t<n.length;t++){var r=n[t];r.code===w.EnumValueMismatch&&(r.message=A("enumWarning","Value is not accepted. Valid values: {0}.",this.enumValues.map((function(e){return JSON.stringify(e)})).join(", ")))}}},e.prototype.mergePropertyMatch=function(e){this.merge(e),this.propertiesMatches++,(e.enumValueMatch||!e.hasProblems()&&e.propertiesMatches)&&this.propertiesValueMatches++,e.enumValueMatch&&e.enumValues&&1===e.enumValues.length&&this.primaryValueMatches++},e.prototype.compare=function(e){var t=this.hasProblems();return t!==e.hasProblems()?t?-1:1:this.enumValueMatch!==e.enumValueMatch?e.enumValueMatch?-1:1:this.primaryValueMatches!==e.primaryValueMatches?this.primaryValueMatches-e.primaryValueMatches:this.propertiesValueMatches!==e.propertiesValueMatches?this.propertiesValueMatches-e.propertiesValueMatches:this.propertiesMatches-e.propertiesMatches},e}();function K(e){return g(e)}function J(e){return m(e)}function G(e,t,n){return void 0===n&&(n=!1),t>=e.offset&&t<e.offset+e.length||n&&t===e.offset+e.length}var X=function(){function e(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=[]),this.root=e,this.syntaxErrors=t,this.comments=n}return e.prototype.getNodeFromOffset=function(e,t){if(void 0===t&&(t=!1),this.root)return p(this.root,e,t)},e.prototype.visit=function(e){if(this.root){var t=function(n){var r=e(n),o=n.children;if(Array.isArray(o))for(var i=0;i<o.length&&r;i++)r=t(o[i]);return r};t(this.root)}},e.prototype.validate=function(e,t,n){if(void 0===n&&(n=S.DiagnosticSeverity.Warning),this.root&&t){var r=new B;return Y(this.root,t,r,z.instance),r.problems.map((function(t){var r,o=S.Range.create(e.positionAt(t.location.offset),e.positionAt(t.location.offset+t.location.length));return S.Diagnostic.create(o,t.message,null!==(r=t.severity)&&void 0!==r?r:n,t.code)}))}},e.prototype.getMatchingSchemas=function(e,t,n){void 0===t&&(t=-1);var r=new H(t,n);return this.root&&e&&Y(this.root,e,new B,r),r.schemas},e}();function Y(e,t,n,r){if(e&&r.include(e)){var o=e;switch(o.type){case"object":!function(e,t,n,r){for(var o=Object.create(null),i=[],s=0,a=e.properties;s<a.length;s++){var c=(b=a[s]).keyNode.value;o[c]=b.valueNode,i.push(c)}if(Array.isArray(t.required))for(var u=0,l=t.required;u<l.length;u++){var f=l[u];if(!o[f]){var d=e.parent&&"property"===e.parent.type&&e.parent.keyNode,h=d?{offset:d.offset,length:d.length}:{offset:e.offset,length:1};n.problems.push({location:h,message:A("MissingRequiredPropWarning",'Missing property "{0}".',f)})}}var p=function(e){for(var t=i.indexOf(e);t>=0;)i.splice(t,1),t=i.indexOf(e)};if(t.properties)for(var m=0,g=Object.keys(t.properties);m<g.length;m++){f=g[m];p(f);var v=t.properties[f];if(M=o[f])if(C(v))if(v)n.propertiesMatches++,n.propertiesValueMatches++;else{var b=M.parent;n.problems.push({location:{offset:b.keyNode.offset,length:b.keyNode.length},message:t.errorMessage||A("DisallowedExtraPropWarning","Property {0} is not allowed.",f)})}else{var x=new B;Y(M,v,x,r),n.mergePropertyMatch(x)}}if(t.patternProperties)for(var w=0,T=Object.keys(t.patternProperties);w<T.length;w++)for(var S=T[w],k=new RegExp(S),R=0,_=i.slice(0);R<_.length;R++){f=_[R];if(k.test(f))if(p(f),M=o[f])if(C(v=t.patternProperties[S]))if(v)n.propertiesMatches++,n.propertiesValueMatches++;else{b=M.parent;n.problems.push({location:{offset:b.keyNode.offset,length:b.keyNode.length},message:t.errorMessage||A("DisallowedExtraPropWarning","Property {0} is not allowed.",f)})}else{x=new B;Y(M,v,x,r),n.mergePropertyMatch(x)}}if("object"==typeof t.additionalProperties)for(var P=0,E=i;P<E.length;P++){f=E[P];if(M=o[f]){x=new B;Y(M,t.additionalProperties,x,r),n.mergePropertyMatch(x)}}else if(!1===t.additionalProperties&&i.length>0)for(var O=0,D=i;O<D.length;O++){var M;f=D[O];if(M=o[f]){b=M.parent;n.problems.push({location:{offset:b.keyNode.offset,length:b.keyNode.length},message:t.errorMessage||A("DisallowedExtraPropWarning","Property {0} is not allowed.",f)})}}y(t.maxProperties)&&e.properties.length>t.maxProperties&&n.problems.push({location:{offset:e.offset,length:e.length},message:A("MaxPropWarning","Object has more properties than limit of {0}.",t.maxProperties)});y(t.minProperties)&&e.properties.length<t.minProperties&&n.problems.push({location:{offset:e.offset,length:e.length},message:A("MinPropWarning","Object has fewer properties than the required number of {0}",t.minProperties)});if(t.dependencies)for(var N=0,q=Object.keys(t.dependencies);N<q.length;N++){c=q[N];if(o[c]){var F=t.dependencies[c];if(Array.isArray(F))for(var j=0,I=F;j<I.length;j++){var L=I[j];o[L]?n.propertiesValueMatches++:n.problems.push({location:{offset:e.offset,length:e.length},message:A("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",L,c)})}else if(v=U(F)){x=new B;Y(e,v,x,r),n.mergePropertyMatch(x)}}}var W=U(t.propertyNames);if(W)for(var V=0,$=e.properties;V<$.length;V++){var H=$[V];(c=H.keyNode)&&Y(c,W,n,z.instance)}}(o,t,n,r);break;case"array":!function(e,t,n,r){if(Array.isArray(t.items)){for(var o=t.items,i=0;i<o.length;i++){var s=U(o[i]),a=new B;(d=e.items[i])?(Y(d,s,a,r),n.mergePropertyMatch(a)):e.items.length>=o.length&&n.propertiesValueMatches++}if(e.items.length>o.length)if("object"==typeof t.additionalItems)for(var c=o.length;c<e.items.length;c++){a=new B;Y(e.items[c],t.additionalItems,a,r),n.mergePropertyMatch(a)}else!1===t.additionalItems&&n.problems.push({location:{offset:e.offset,length:e.length},message:A("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",o.length)})}else{var u=U(t.items);if(u)for(var l=0,f=e.items;l<f.length;l++){var d=f[l];a=new B;Y(d,u,a,r),n.mergePropertyMatch(a)}}var h=U(t.contains);if(h){e.items.some((function(e){var t=new B;return Y(e,h,t,z.instance),!t.hasProblems()}))||n.problems.push({location:{offset:e.offset,length:e.length},message:t.errorMessage||A("requiredItemMissingWarning","Array does not contain required item.")})}y(t.minItems)&&e.items.length<t.minItems&&n.problems.push({location:{offset:e.offset,length:e.length},message:A("minItemsWarning","Array has too few items. Expected {0} or more.",t.minItems)});y(t.maxItems)&&e.items.length>t.maxItems&&n.problems.push({location:{offset:e.offset,length:e.length},message:A("maxItemsWarning","Array has too many items. Expected {0} or fewer.",t.maxItems)});if(!0===t.uniqueItems){var p=K(e);p.some((function(e,t){return t!==p.lastIndexOf(e)}))&&n.problems.push({location:{offset:e.offset,length:e.length},message:A("uniqueItemsWarning","Array has duplicate items.")})}}(o,t,n,r);break;case"string":!function(e,t,n,r){y(t.minLength)&&e.value.length<t.minLength&&n.problems.push({location:{offset:e.offset,length:e.length},message:A("minLengthWarning","String is shorter than the minimum length of {0}.",t.minLength)});y(t.maxLength)&&e.value.length>t.maxLength&&n.problems.push({location:{offset:e.offset,length:e.length},message:A("maxLengthWarning","String is longer than the maximum length of {0}.",t.maxLength)});if(o=t.pattern,"string"==typeof o){new RegExp(t.pattern).test(e.value)||n.problems.push({location:{offset:e.offset,length:e.length},message:t.patternErrorMessage||t.errorMessage||A("patternWarning",'String does not match the pattern of "{0}".',t.pattern)})}var o;if(t.format)switch(t.format){case"uri":case"uri-reference":var i=void 0;if(e.value){var s=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(e.value);s?s[2]||"uri"!==t.format||(i=A("uriSchemeMissing","URI with a scheme is expected.")):i=A("uriMissing","URI is expected.")}else i=A("uriEmpty","URI expected.");i&&n.problems.push({location:{offset:e.offset,length:e.length},message:t.patternErrorMessage||t.errorMessage||A("uriFormatWarning","String is not a URI: {0}",i)});break;case"color-hex":case"date-time":case"date":case"time":case"email":var a=N[t.format];e.value&&a.pattern.exec(e.value)||n.problems.push({location:{offset:e.offset,length:e.length},message:t.patternErrorMessage||t.errorMessage||a.errorMessage})}}(o,t,n);break;case"number":!function(e,t,n,r){var o=e.value;function i(e){var t,n=/^(-?\d+)(?:\.(\d+))?(?:e([-+]\d+))?$/.exec(e.toString());return n&&{value:Number(n[1]+(n[2]||"")),multiplier:((null===(t=n[2])||void 0===t?void 0:t.length)||0)-(parseInt(n[3])||0)}}if(y(t.multipleOf)){var s=-1;if(Number.isInteger(t.multipleOf))s=o%t.multipleOf;else{var a=i(t.multipleOf),c=i(o);if(a&&c){var u=Math.pow(10,Math.abs(c.multiplier-a.multiplier));c.multiplier<a.multiplier?c.value*=u:a.value*=u,s=c.value%a.value}}0!==s&&n.problems.push({location:{offset:e.offset,length:e.length},message:A("multipleOfWarning","Value is not divisible by {0}.",t.multipleOf)})}function l(e,t){return y(t)?t:C(t)&&t?e:void 0}function f(e,t){if(!C(t)||!t)return e}var d=l(t.minimum,t.exclusiveMinimum);y(d)&&o<=d&&n.problems.push({location:{offset:e.offset,length:e.length},message:A("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",d)});var h=l(t.maximum,t.exclusiveMaximum);y(h)&&o>=h&&n.problems.push({location:{offset:e.offset,length:e.length},message:A("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",h)});var p=f(t.minimum,t.exclusiveMinimum);y(p)&&o<p&&n.problems.push({location:{offset:e.offset,length:e.length},message:A("minimumWarning","Value is below the minimum of {0}.",p)});var m=f(t.maximum,t.exclusiveMaximum);y(m)&&o>m&&n.problems.push({location:{offset:e.offset,length:e.length},message:A("maximumWarning","Value is above the maximum of {0}.",m)})}(o,t,n);break;case"property":return Y(o.valueNode,t,n,r)}!function(){function e(e){return o.type===e||"integer"===e&&"number"===o.type&&o.isInteger}Array.isArray(t.type)?t.type.some(e)||n.problems.push({location:{offset:o.offset,length:o.length},message:t.errorMessage||A("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",t.type.join(", "))}):t.type&&(e(t.type)||n.problems.push({location:{offset:o.offset,length:o.length},message:t.errorMessage||A("typeMismatchWarning",'Incorrect type. Expected "{0}".',t.type)}));if(Array.isArray(t.allOf))for(var i=0,s=t.allOf;i<s.length;i++){var a=s[i];Y(o,U(a),n,r)}var c=U(t.not);if(c){var u=new B,l=r.newSub();Y(o,c,u,l),u.hasProblems()||n.problems.push({location:{offset:o.offset,length:o.length},message:A("notSchemaWarning","Matches a schema that is not allowed.")});for(var f=0,d=l.schemas;f<d.length;f++){var h=d[f];h.inverted=!h.inverted,r.add(h)}}var p=function(e,t){for(var i=[],s=void 0,a=0,c=e;a<c.length;a++){var u=U(c[a]),l=new B,f=r.newSub();if(Y(o,u,l,f),l.hasProblems()||i.push(u),s)if(t||l.hasProblems()||s.validationResult.hasProblems()){var d=l.compare(s.validationResult);d>0?s={schema:u,validationResult:l,matchingSchemas:f}:0===d&&(s.matchingSchemas.merge(f),s.validationResult.mergeEnumValues(l))}else s.matchingSchemas.merge(f),s.validationResult.propertiesMatches+=l.propertiesMatches,s.validationResult.propertiesValueMatches+=l.propertiesValueMatches;else s={schema:u,validationResult:l,matchingSchemas:f}}return i.length>1&&t&&n.problems.push({location:{offset:o.offset,length:1},message:A("oneOfWarning","Matches multiple schemas when only one must validate.")}),s&&(n.merge(s.validationResult),n.propertiesMatches+=s.validationResult.propertiesMatches,n.propertiesValueMatches+=s.validationResult.propertiesValueMatches,r.merge(s.matchingSchemas)),i.length};Array.isArray(t.anyOf)&&p(t.anyOf,!1);Array.isArray(t.oneOf)&&p(t.oneOf,!0);var m=function(e){var t=new B,i=r.newSub();Y(o,U(e),t,i),n.merge(t),n.propertiesMatches+=t.propertiesMatches,n.propertiesValueMatches+=t.propertiesValueMatches,r.merge(i)},g=U(t.if);g&&function(e,t,n){var i=U(e),s=new B,a=r.newSub();Y(o,i,s,a),r.merge(a),s.hasProblems()?n&&m(n):t&&m(t)}(g,U(t.then),U(t.else));if(Array.isArray(t.enum)){for(var y=K(o),C=!1,x=0,T=t.enum;x<T.length;x++){var k=T[x];if(v(y,k)){C=!0;break}}n.enumValues=t.enum,n.enumValueMatch=C,C||n.problems.push({location:{offset:o.offset,length:o.length},code:w.EnumValueMismatch,message:t.errorMessage||A("enumWarning","Value is not accepted. Valid values: {0}.",t.enum.map((function(e){return JSON.stringify(e)})).join(", "))})}if(b(t.const)){v(y=K(o),t.const)?n.enumValueMatch=!0:(n.problems.push({location:{offset:o.offset,length:o.length},code:w.EnumValueMismatch,message:t.errorMessage||A("constWarning","Value must be {0}.",JSON.stringify(t.const))}),n.enumValueMatch=!1),n.enumValues=[t.const]}t.deprecationMessage&&o.parent&&n.problems.push({location:{offset:o.parent.offset,length:o.parent.length},severity:S.DiagnosticSeverity.Warning,message:t.deprecationMessage,code:w.Deprecated})}(),r.add({node:o,schema:t})}}function Z(e,t){var n=[],r=-1,o=e.getText(),i=d(o,!1),s=t&&t.collectComments?[]:void 0;function a(){for(;;){var t=i.scan();switch(l(),t){case 12:case 13:Array.isArray(s)&&s.push(S.Range.create(e.positionAt(i.getTokenOffset()),e.positionAt(i.getTokenOffset()+i.getTokenLength())));break;case 15:case 14:break;default:return t}}}function c(t,o,i,s,a){if(void 0===a&&(a=S.DiagnosticSeverity.Error),0===n.length||i!==r){var c=S.Range.create(e.positionAt(i),e.positionAt(s));n.push(S.Diagnostic.create(c,t,a,o,e.languageId)),r=i}}function u(e,t,n,r,s){void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===s&&(s=[]);var u=i.getTokenOffset(),l=i.getTokenOffset()+i.getTokenLength();if(u===l&&u>0){for(u--;u>0&&/\s/.test(o.charAt(u));)u--;l=u+1}if(c(e,t,u,l),n&&f(n,!1),r.length+s.length>0)for(var d=i.getToken();17!==d;){if(-1!==r.indexOf(d)){a();break}if(-1!==s.indexOf(d))break;d=a()}return n}function l(){switch(i.getTokenError()){case 4:return u(A("InvalidUnicode","Invalid unicode sequence in string."),w.InvalidUnicode),!0;case 5:return u(A("InvalidEscapeCharacter","Invalid escape character in string."),w.InvalidEscapeCharacter),!0;case 3:return u(A("UnexpectedEndOfNumber","Unexpected end of number."),w.UnexpectedEndOfNumber),!0;case 1:return u(A("UnexpectedEndOfComment","Unexpected end of comment."),w.UnexpectedEndOfComment),!0;case 2:return u(A("UnexpectedEndOfString","Unexpected end of string."),w.UnexpectedEndOfString),!0;case 6:return u(A("InvalidCharacter","Invalid characters in string. Control characters must be escaped."),w.InvalidCharacter),!0}return!1}function f(e,t){return e.length=i.getTokenOffset()+i.getTokenLength()-e.offset,t&&a(),e}var h=new W(void 0,0,0);function p(t,n){var r=new V(t,i.getTokenOffset(),h),o=m(r);if(!o){if(16!==i.getToken())return;u(A("DoubleQuotesExpected","Property keys must be doublequoted"),w.Undefined);var s=new W(r,i.getTokenOffset(),i.getTokenLength());s.value=i.getTokenValue(),o=s,a()}r.keyNode=o;var l=n[o.value];if(l?(c(A("DuplicateKeyWarning","Duplicate object key"),w.DuplicateKey,r.keyNode.offset,r.keyNode.offset+r.keyNode.length,S.DiagnosticSeverity.Warning),"object"==typeof l&&c(A("DuplicateKeyWarning","Duplicate object key"),w.DuplicateKey,l.keyNode.offset,l.keyNode.offset+l.keyNode.length,S.DiagnosticSeverity.Warning),n[o.value]=!0):n[o.value]=r,6===i.getToken())r.colonOffset=i.getTokenOffset(),a();else if(u(A("ColonExpected","Colon expected"),w.ColonExpected),10===i.getToken()&&e.positionAt(o.offset+o.length).line<e.positionAt(i.getTokenOffset()).line)return r.length=o.length,r;var f=g(r);return f?(r.valueNode=f,r.length=f.offset+f.length-r.offset,r):u(A("ValueExpected","Value expected"),w.ValueExpected,r,[],[2,5])}function m(e){if(10===i.getToken()){var t=new W(e,i.getTokenOffset());return t.value=i.getTokenValue(),f(t,!0)}}function g(e){return function(e){if(3===i.getToken()){var t=new I(e,i.getTokenOffset());a();for(var n=!1;4!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){n||u(A("ValueExpected","Value expected"),w.ValueExpected);var r=i.getTokenOffset();if(a(),4===i.getToken()){n&&c(A("TrailingComma","Trailing comma"),w.TrailingComma,r,r+1);continue}}else n&&u(A("ExpectedComma","Expected comma"),w.CommaExpected);var o=g(t);o?t.items.push(o):u(A("PropertyExpected","Value expected"),w.ValueExpected,void 0,[],[4,5]),n=!0}return 4!==i.getToken()?u(A("ExpectedCloseBracket","Expected comma or closing bracket"),w.CommaOrCloseBacketExpected,t):f(t,!0)}}(e)||function(e){if(1===i.getToken()){var t=new $(e,i.getTokenOffset()),n=Object.create(null);a();for(var r=!1;2!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){r||u(A("PropertyExpected","Property expected"),w.PropertyExpected);var o=i.getTokenOffset();if(a(),2===i.getToken()){r&&c(A("TrailingComma","Trailing comma"),w.TrailingComma,o,o+1);continue}}else r&&u(A("ExpectedComma","Expected comma"),w.CommaExpected);var s=p(t,n);s?t.properties.push(s):u(A("PropertyExpected","Property expected"),w.PropertyExpected,void 0,[],[2,5]),r=!0}return 2!==i.getToken()?u(A("ExpectedCloseBrace","Expected comma or closing brace"),w.CommaOrCloseBraceExpected,t):f(t,!0)}}(e)||m(e)||function(e){if(11===i.getToken()){var t=new L(e,i.getTokenOffset());if(0===i.getTokenError()){var n=i.getTokenValue();try{var r=JSON.parse(n);if(!y(r))return u(A("InvalidNumberFormat","Invalid number format."),w.Undefined,t);t.value=r}catch(e){return u(A("InvalidNumberFormat","Invalid number format."),w.Undefined,t)}t.isInteger=-1===n.indexOf(".")}return f(t,!0)}}(e)||function(e){switch(i.getToken()){case 7:return f(new F(e,i.getTokenOffset()),!0);case 8:return f(new j(e,!0,i.getTokenOffset()),!0);case 9:return f(new j(e,!1,i.getTokenOffset()),!0);default:return}}(e)}var v=void 0;return 17!==a()&&((v=g(v))?17!==i.getToken()&&u(A("End of file expected","End of file expected."),w.Undefined):u(A("Invalid symbol","Expected a JSON object, array or literal."),w.Undefined)),new X(v,n,s)}function Q(e,t){var n=e.length-t.length;return n>0?e.lastIndexOf(t)===n:0===n&&e===t}function ee(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}var te=D.loadMessageBundle(),ne=function(){function e(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=Promise),void 0===r&&(r={}),this.schemaService=e,this.contributions=t,this.promiseConstructor=n,this.clientCapabilities=r}return e.prototype.doResolve=function(e){for(var t=this.contributions.length-1;t>=0;t--){var n=this.contributions[t].resolveCompletion;if(n){var r=n(e);if(r)return r}}return this.promiseConstructor.resolve(e)},e.prototype.doComplete=function(e,t,n){var r=this,o={items:[],isIncomplete:!1},i=e.getText(),s=e.offsetAt(t),a=n.getNodeFromOffset(s,!0);if(this.isInComment(e,a?a.offset:0,s))return Promise.resolve(o);if(a&&s===a.offset+a.length&&s>0){var c=i[s-1];("object"===a.type&&"}"===c||"array"===a.type&&"]"===c)&&(a=a.parent)}var u,l=this.getCurrentWord(e,s);if(!a||"string"!==a.type&&"number"!==a.type&&"boolean"!==a.type&&"null"!==a.type){var f=s-l.length;f>0&&'"'===i[f-1]&&f--,u=S.Range.create(e.positionAt(f),t)}else u=S.Range.create(e.positionAt(a.offset),e.positionAt(a.offset+a.length));var d={},h={add:function(e){var t=e.label,n=d[t];if(n)n.documentation||(n.documentation=e.documentation);else{if((t=t.replace(/[\n]/g,"↵")).length>60){var r=t.substr(0,57).trim()+"...";d[r]||(t=r)}u&&void 0!==e.insertText&&(e.textEdit=S.TextEdit.replace(u,e.insertText)),e.label=t,d[t]=e,o.items.push(e)}},setAsIncomplete:function(){o.isIncomplete=!0},error:function(e){console.error(e)},log:function(e){console.log(e)},getNumberOfProposals:function(){return o.items.length}};return this.schemaService.getSchemaForResource(e.uri,n).then((function(t){var c=[],f=!0,p="",m=void 0;if(a&&"string"===a.type){var g=a.parent;g&&"property"===g.type&&g.keyNode===a&&(f=!g.valueNode,m=g,p=i.substr(a.offset+1,a.length-2),g&&(a=g.parent))}if(a&&"object"===a.type){if(a.offset===s)return o;a.properties.forEach((function(e){m&&m===e||(d[e.keyNode.value]=S.CompletionItem.create("__"))}));var v="";f&&(v=r.evaluateSeparatorAfter(e,e.offsetAt(u.end))),t?r.getPropertyCompletions(t,n,a,f,v,h):r.getSchemaLessPropertyCompletions(n,a,p,h);var y=J(a);r.contributions.forEach((function(t){var n=t.collectPropertyCompletions(e.uri,y,l,f,""===v,h);n&&c.push(n)})),!t&&l.length>0&&'"'!==i.charAt(s-l.length-1)&&(h.add({kind:S.CompletionItemKind.Property,label:r.getLabelForValue(l),insertText:r.getInsertTextForProperty(l,void 0,!1,v),insertTextFormat:S.InsertTextFormat.Snippet,documentation:""}),h.setAsIncomplete())}var b={};return t?r.getValueCompletions(t,n,a,s,e,h,b):r.getSchemaLessValueCompletions(n,a,s,e,h),r.contributions.length>0&&r.getContributedValueCompletions(n,a,s,e,h,c),r.promiseConstructor.all(c).then((function(){if(0===h.getNumberOfProposals()){var t=s;!a||"string"!==a.type&&"number"!==a.type&&"boolean"!==a.type&&"null"!==a.type||(t=a.offset+a.length);var n=r.evaluateSeparatorAfter(e,t);r.addFillerValueCompletions(b,n,h)}return o}))}))},e.prototype.getPropertyCompletions=function(e,t,n,r,o,i){var s=this;t.getMatchingSchemas(e.schema,n.offset).forEach((function(e){if(e.node===n&&!e.inverted){var t=e.schema.properties;t&&Object.keys(t).forEach((function(e){var n=t[e];if("object"==typeof n&&!n.deprecationMessage&&!n.doNotSuggest){var a={kind:S.CompletionItemKind.Property,label:e,insertText:s.getInsertTextForProperty(e,n,r,o),insertTextFormat:S.InsertTextFormat.Snippet,filterText:s.getFilterTextForValue(e),documentation:s.fromMarkup(n.markdownDescription)||n.description||""};void 0!==n.suggestSortText&&(a.sortText=n.suggestSortText),a.insertText&&Q(a.insertText,"$1"+o)&&(a.command={title:"Suggest",command:"editor.action.triggerSuggest"}),i.add(a)}}));var a=e.schema.propertyNames;if("object"==typeof a&&!a.deprecationMessage&&!a.doNotSuggest){var c=function(e,t){void 0===t&&(t=void 0);var n={kind:S.CompletionItemKind.Property,label:e,insertText:s.getInsertTextForProperty(e,void 0,r,o),insertTextFormat:S.InsertTextFormat.Snippet,filterText:s.getFilterTextForValue(e),documentation:t||s.fromMarkup(a.markdownDescription)||a.description||""};void 0!==a.suggestSortText&&(n.sortText=a.suggestSortText),n.insertText&&Q(n.insertText,"$1"+o)&&(n.command={title:"Suggest",command:"editor.action.triggerSuggest"}),i.add(n)};if(a.enum)for(var u=0;u<a.enum.length;u++){var l=void 0;a.markdownEnumDescriptions&&u<a.markdownEnumDescriptions.length?l=s.fromMarkup(a.markdownEnumDescriptions[u]):a.enumDescriptions&&u<a.enumDescriptions.length&&(l=a.enumDescriptions[u]),c(a.enum[u],l)}a.const&&c(a.const)}}}))},e.prototype.getSchemaLessPropertyCompletions=function(e,t,n,r){var o=this,i=function(e){e.properties.forEach((function(e){var t=e.keyNode.value;r.add({kind:S.CompletionItemKind.Property,label:t,insertText:o.getInsertTextForValue(t,""),insertTextFormat:S.InsertTextFormat.Snippet,filterText:o.getFilterTextForValue(t),documentation:""})}))};if(t.parent)if("property"===t.parent.type){var s=t.parent.keyNode.value;e.visit((function(e){return"property"===e.type&&e!==t.parent&&e.keyNode.value===s&&e.valueNode&&"object"===e.valueNode.type&&i(e.valueNode),!0}))}else"array"===t.parent.type&&t.parent.items.forEach((function(e){"object"===e.type&&e!==t&&i(e)}));else"object"===t.type&&r.add({kind:S.CompletionItemKind.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",void 0,!0,""),insertTextFormat:S.InsertTextFormat.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})},e.prototype.getSchemaLessValueCompletions=function(e,t,n,r,o){var i=this,s=n;if(!t||"string"!==t.type&&"number"!==t.type&&"boolean"!==t.type&&"null"!==t.type||(s=t.offset+t.length,t=t.parent),!t)return o.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:S.InsertTextFormat.Snippet,documentation:""}),void o.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:S.InsertTextFormat.Snippet,documentation:""});var a=this.evaluateSeparatorAfter(r,s),c=function(e){e.parent&&!G(e.parent,n,!0)&&o.add({kind:i.getSuggestionKind(e.type),label:i.getLabelTextForMatchingNode(e,r),insertText:i.getInsertTextForMatchingNode(e,r,a),insertTextFormat:S.InsertTextFormat.Snippet,documentation:""}),"boolean"===e.type&&i.addBooleanValueCompletion(!e.value,a,o)};if("property"===t.type&&n>(t.colonOffset||0)){var u=t.valueNode;if(u&&(n>u.offset+u.length||"object"===u.type||"array"===u.type))return;var l=t.keyNode.value;e.visit((function(e){return"property"===e.type&&e.keyNode.value===l&&e.valueNode&&c(e.valueNode),!0})),"$schema"===l&&t.parent&&!t.parent.parent&&this.addDollarSchemaCompletions(a,o)}if("array"===t.type)if(t.parent&&"property"===t.parent.type){var f=t.parent.keyNode.value;e.visit((function(e){return"property"===e.type&&e.keyNode.value===f&&e.valueNode&&"array"===e.valueNode.type&&e.valueNode.items.forEach(c),!0}))}else t.items.forEach(c)},e.prototype.getValueCompletions=function(e,t,n,r,o,i,s){var a=r,c=void 0,u=void 0;if(!n||"string"!==n.type&&"number"!==n.type&&"boolean"!==n.type&&"null"!==n.type||(a=n.offset+n.length,u=n,n=n.parent),n){if("property"===n.type&&r>(n.colonOffset||0)){var l=n.valueNode;if(l&&r>l.offset+l.length)return;c=n.keyNode.value,n=n.parent}if(n&&(void 0!==c||"array"===n.type)){for(var f=this.evaluateSeparatorAfter(o,a),d=0,h=t.getMatchingSchemas(e.schema,n.offset,u);d<h.length;d++){var p=h[d];if(p.node===n&&!p.inverted&&p.schema){if("array"===n.type&&p.schema.items)if(Array.isArray(p.schema.items)){var m=this.findItemAtOffset(n,o,r);m<p.schema.items.length&&this.addSchemaValueCompletions(p.schema.items[m],f,i,s)}else this.addSchemaValueCompletions(p.schema.items,f,i,s);if(void 0!==c){var g=!1;if(p.schema.properties)(C=p.schema.properties[c])&&(g=!0,this.addSchemaValueCompletions(C,f,i,s));if(p.schema.patternProperties&&!g)for(var v=0,y=Object.keys(p.schema.patternProperties);v<y.length;v++){var b=y[v];if(new RegExp(b).test(c)){g=!0;var C=p.schema.patternProperties[b];this.addSchemaValueCompletions(C,f,i,s)}}if(p.schema.additionalProperties&&!g){C=p.schema.additionalProperties;this.addSchemaValueCompletions(C,f,i,s)}}}}"$schema"!==c||n.parent||this.addDollarSchemaCompletions(f,i),s.boolean&&(this.addBooleanValueCompletion(!0,f,i),this.addBooleanValueCompletion(!1,f,i)),s.null&&this.addNullValueCompletion(f,i)}}else this.addSchemaValueCompletions(e.schema,"",i,s)},e.prototype.getContributedValueCompletions=function(e,t,n,r,o,i){if(t){if("string"!==t.type&&"number"!==t.type&&"boolean"!==t.type&&"null"!==t.type||(t=t.parent),t&&"property"===t.type&&n>(t.colonOffset||0)){var s=t.keyNode.value,a=t.valueNode;if((!a||n<=a.offset+a.length)&&t.parent){var c=J(t.parent);this.contributions.forEach((function(e){var t=e.collectValueCompletions(r.uri,c,s,o);t&&i.push(t)}))}}}else this.contributions.forEach((function(e){var t=e.collectDefaultCompletions(r.uri,o);t&&i.push(t)}))},e.prototype.addSchemaValueCompletions=function(e,t,n,r){var o=this;"object"==typeof e&&(this.addEnumValueCompletions(e,t,n),this.addDefaultValueCompletions(e,t,n),this.collectTypes(e,r),Array.isArray(e.allOf)&&e.allOf.forEach((function(e){return o.addSchemaValueCompletions(e,t,n,r)})),Array.isArray(e.anyOf)&&e.anyOf.forEach((function(e){return o.addSchemaValueCompletions(e,t,n,r)})),Array.isArray(e.oneOf)&&e.oneOf.forEach((function(e){return o.addSchemaValueCompletions(e,t,n,r)})))},e.prototype.addDefaultValueCompletions=function(e,t,n,r){var o=this;void 0===r&&(r=0);var i=!1;if(b(e.default)){for(var s=e.type,a=e.default,c=r;c>0;c--)a=[a],s="array";n.add({kind:this.getSuggestionKind(s),label:this.getLabelForValue(a),insertText:this.getInsertTextForValue(a,t),insertTextFormat:S.InsertTextFormat.Snippet,detail:te("json.suggest.default","Default value")}),i=!0}Array.isArray(e.examples)&&e.examples.forEach((function(s){for(var a=e.type,c=s,u=r;u>0;u--)c=[c],a="array";n.add({kind:o.getSuggestionKind(a),label:o.getLabelForValue(c),insertText:o.getInsertTextForValue(c,t),insertTextFormat:S.InsertTextFormat.Snippet}),i=!0})),Array.isArray(e.defaultSnippets)&&e.defaultSnippets.forEach((function(s){var a,c,u=e.type,l=s.body,f=s.label;if(b(l)){e.type;for(var d=r;d>0;d--)l=[l],"array";a=o.getInsertTextForSnippetValue(l,t),c=o.getFilterTextForSnippetValue(l),f=f||o.getLabelForSnippetValue(l)}else{if("string"!=typeof s.bodyText)return;var h="",p="",m="";for(d=r;d>0;d--)h=h+m+"[\n",p=p+"\n"+m+"]",m+="\t",u="array";a=h+m+s.bodyText.split("\n").join("\n"+m)+p+t,f=f||a,c=a.replace(/[\n]/g,"")}n.add({kind:o.getSuggestionKind(u),label:f,documentation:o.fromMarkup(s.markdownDescription)||s.description,insertText:a,insertTextFormat:S.InsertTextFormat.Snippet,filterText:c}),i=!0})),!i&&"object"==typeof e.items&&!Array.isArray(e.items)&&r<5&&this.addDefaultValueCompletions(e.items,t,n,r+1)},e.prototype.addEnumValueCompletions=function(e,t,n){if(b(e.const)&&n.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(e.const),insertText:this.getInsertTextForValue(e.const,t),insertTextFormat:S.InsertTextFormat.Snippet,documentation:this.fromMarkup(e.markdownDescription)||e.description}),Array.isArray(e.enum))for(var r=0,o=e.enum.length;r<o;r++){var i=e.enum[r],s=this.fromMarkup(e.markdownDescription)||e.description;e.markdownEnumDescriptions&&r<e.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?s=this.fromMarkup(e.markdownEnumDescriptions[r]):e.enumDescriptions&&r<e.enumDescriptions.length&&(s=e.enumDescriptions[r]),n.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(i),insertText:this.getInsertTextForValue(i,t),insertTextFormat:S.InsertTextFormat.Snippet,documentation:s})}},e.prototype.collectTypes=function(e,t){if(!Array.isArray(e.enum)&&!b(e.const)){var n=e.type;Array.isArray(n)?n.forEach((function(e){return t[e]=!0})):n&&(t[n]=!0)}},e.prototype.addFillerValueCompletions=function(e,t,n){e.object&&n.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},t),insertTextFormat:S.InsertTextFormat.Snippet,detail:te("defaults.object","New object"),documentation:""}),e.array&&n.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],t),insertTextFormat:S.InsertTextFormat.Snippet,detail:te("defaults.array","New array"),documentation:""})},e.prototype.addBooleanValueCompletion=function(e,t,n){n.add({kind:this.getSuggestionKind("boolean"),label:e?"true":"false",insertText:this.getInsertTextForValue(e,t),insertTextFormat:S.InsertTextFormat.Snippet,documentation:""})},e.prototype.addNullValueCompletion=function(e,t){t.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+e,insertTextFormat:S.InsertTextFormat.Snippet,documentation:""})},e.prototype.addDollarSchemaCompletions=function(e,t){var n=this;this.schemaService.getRegisteredSchemaIds((function(e){return"http"===e||"https"===e})).forEach((function(r){return t.add({kind:S.CompletionItemKind.Module,label:n.getLabelForValue(r),filterText:n.getFilterTextForValue(r),insertText:n.getInsertTextForValue(r,e),insertTextFormat:S.InsertTextFormat.Snippet,documentation:""})}))},e.prototype.getLabelForValue=function(e){return JSON.stringify(e)},e.prototype.getFilterTextForValue=function(e){return JSON.stringify(e)},e.prototype.getFilterTextForSnippetValue=function(e){return JSON.stringify(e).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")},e.prototype.getLabelForSnippetValue=function(e){return JSON.stringify(e).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")},e.prototype.getInsertTextForPlainText=function(e){return e.replace(/[\\\$\}]/g,"\\$&")},e.prototype.getInsertTextForValue=function(e,t){var n=JSON.stringify(e,null,"\t");return"{}"===n?"{$1}"+t:"[]"===n?"[$1]"+t:this.getInsertTextForPlainText(n+t)},e.prototype.getInsertTextForSnippetValue=function(e,t){return function e(t,n,r){if(null!==t&&"object"==typeof t){var o=n+"\t";if(Array.isArray(t)){if(0===t.length)return"[]";for(var i="[\n",s=0;s<t.length;s++)i+=o+e(t[s],o,r),s<t.length-1&&(i+=","),i+="\n";return i+=n+"]"}var a=Object.keys(t);if(0===a.length)return"{}";for(i="{\n",s=0;s<a.length;s++){var c=a[s];i+=o+JSON.stringify(c)+": "+e(t[c],o,r),s<a.length-1&&(i+=","),i+="\n"}return i+=n+"}"}return r(t)}(e,"",(function(e){return"string"==typeof e&&"^"===e[0]?e.substr(1):JSON.stringify(e)}))+t},e.prototype.getInsertTextForGuessedValue=function(e,t){switch(typeof e){case"object":return null===e?"${1:null}"+t:this.getInsertTextForValue(e,t);case"string":var n=JSON.stringify(e);return n=n.substr(1,n.length-2),'"${1:'+(n=this.getInsertTextForPlainText(n))+'}"'+t;case"number":case"boolean":return"${1:"+JSON.stringify(e)+"}"+t}return this.getInsertTextForValue(e,t)},e.prototype.getSuggestionKind=function(e){if(Array.isArray(e)){var t=e;e=t.length>0?t[0]:void 0}if(!e)return S.CompletionItemKind.Value;switch(e){case"string":return S.CompletionItemKind.Value;case"object":return S.CompletionItemKind.Module;case"property":return S.CompletionItemKind.Property;default:return S.CompletionItemKind.Value}},e.prototype.getLabelTextForMatchingNode=function(e,t){switch(e.type){case"array":return"[]";case"object":return"{}";default:return t.getText().substr(e.offset,e.length)}},e.prototype.getInsertTextForMatchingNode=function(e,t,n){switch(e.type){case"array":return this.getInsertTextForValue([],n);case"object":return this.getInsertTextForValue({},n);default:var r=t.getText().substr(e.offset,e.length)+n;return this.getInsertTextForPlainText(r)}},e.prototype.getInsertTextForProperty=function(e,t,n,r){var o=this.getInsertTextForValue(e,"");if(!n)return o;var i,s=o+": ",a=0;if(t){if(Array.isArray(t.defaultSnippets)){if(1===t.defaultSnippets.length){var c=t.defaultSnippets[0].body;b(c)&&(i=this.getInsertTextForSnippetValue(c,""))}a+=t.defaultSnippets.length}if(t.enum&&(i||1!==t.enum.length||(i=this.getInsertTextForGuessedValue(t.enum[0],"")),a+=t.enum.length),b(t.default)&&(i||(i=this.getInsertTextForGuessedValue(t.default,"")),a++),Array.isArray(t.examples)&&t.examples.length&&(i||(i=this.getInsertTextForGuessedValue(t.examples[0],"")),a+=t.examples.length),0===a){var u=Array.isArray(t.type)?t.type[0]:t.type;switch(u||(t.properties?u="object":t.items&&(u="array")),u){case"boolean":i="$1";break;case"string":i='"$1"';break;case"object":i="{$1}";break;case"array":i="[$1]";break;case"number":case"integer":i="${1:0}";break;case"null":i="${1:null}";break;default:return o}}}return(!i||a>1)&&(i="$1"),s+i+r},e.prototype.getCurrentWord=function(e,t){for(var n=t-1,r=e.getText();n>=0&&-1===' \t\n\r\v":{[,]}'.indexOf(r.charAt(n));)n--;return r.substring(n+1,t)},e.prototype.evaluateSeparatorAfter=function(e,t){var n=d(e.getText(),!0);switch(n.setPosition(t),n.scan()){case 5:case 2:case 4:case 17:return"";default:return","}},e.prototype.findItemAtOffset=function(e,t,n){for(var r=d(t.getText(),!0),o=e.items,i=o.length-1;i>=0;i--){var s=o[i];if(n>s.offset+s.length)return r.setPosition(s.offset+s.length),5===r.scan()&&n>=r.getTokenOffset()+r.getTokenLength()?i+1:i;if(n>=s.offset)return i}return 0},e.prototype.isInComment=function(e,t,n){var r=d(e.getText(),!1);r.setPosition(t);for(var o=r.scan();17!==o&&r.getTokenOffset()+r.getTokenLength()<n;)o=r.scan();return(12===o||13===o)&&r.getTokenOffset()<=n},e.prototype.fromMarkup=function(e){if(e&&this.doesSupportMarkdown())return{kind:S.MarkupKind.Markdown,value:e}},e.prototype.doesSupportMarkdown=function(){if(!b(this.supportsMarkdown)){var e=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsMarkdown=e&&e.completionItem&&Array.isArray(e.completionItem.documentationFormat)&&-1!==e.completionItem.documentationFormat.indexOf(S.MarkupKind.Markdown)}return this.supportsMarkdown},e.prototype.doesSupportsCommitCharacters=function(){if(!b(this.supportsCommitCharacters)){var e=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsCommitCharacters=e&&e.completionItem&&!!e.completionItem.commitCharactersSupport}return this.supportsCommitCharacters},e}(),re=function(){function e(e,t,n){void 0===t&&(t=[]),this.schemaService=e,this.contributions=t,this.promise=n||Promise}return e.prototype.doHover=function(e,t,n){var r=e.offsetAt(t),o=n.getNodeFromOffset(r);if(!o||("object"===o.type||"array"===o.type)&&r>o.offset+1&&r<o.offset+o.length-1)return this.promise.resolve(null);var i=o;if("string"===o.type){var s=o.parent;if(s&&"property"===s.type&&s.keyNode===o&&!(o=s.valueNode))return this.promise.resolve(null)}for(var a=S.Range.create(e.positionAt(i.offset),e.positionAt(i.offset+i.length)),c=function(e){return{contents:e,range:a}},u=J(o),l=this.contributions.length-1;l>=0;l--){var f=this.contributions[l].getInfoContribution(e.uri,u);if(f)return f.then((function(e){return c(e)}))}return this.schemaService.getSchemaForResource(e.uri,n).then((function(e){if(e&&o){var t=n.getMatchingSchemas(e.schema,o.offset),r=void 0,i=void 0,s=void 0,a=void 0;t.every((function(e){if(e.node===o&&!e.inverted&&e.schema&&(r=r||e.schema.title,i=i||e.schema.markdownDescription||oe(e.schema.description),e.schema.enum)){var t=e.schema.enum.indexOf(K(o));e.schema.markdownEnumDescriptions?s=e.schema.markdownEnumDescriptions[t]:e.schema.enumDescriptions&&(s=oe(e.schema.enumDescriptions[t])),s&&"string"!=typeof(a=e.schema.enum[t])&&(a=JSON.stringify(a))}return!0}));var u="";return r&&(u=oe(r)),i&&(u.length>0&&(u+="\n\n"),u+=i),s&&(u.length>0&&(u+="\n\n"),u+="`"+function(e){if(-1!==e.indexOf("`"))return"`` "+e+" ``";return e}(a)+"`: "+s),c([u])}return null}))},e}();function oe(e){if(e)return e.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,"$1\n\n$3").replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}var ie=n(6),se=D.loadMessageBundle(),ae=function(){function e(e,t){this.patternRegExps=[],this.isInclude=[];try{for(var n=0,r=e;n<r.length;n++){var o=r[n],i="!"!==o[0];i||(o=o.substring(1)),this.patternRegExps.push(new RegExp(ee(o)+"$")),this.isInclude.push(i)}this.uris=t}catch(e){this.patternRegExps.length=0,this.isInclude.length=0,this.uris=[]}}return e.prototype.matchesPattern=function(e){for(var t=!1,n=0;n<this.patternRegExps.length;n++){this.patternRegExps[n].test(e)&&(t=this.isInclude[n])}return t},e.prototype.getURIs=function(){return this.uris},e}(),ce=function(){function e(e,t,n){this.service=e,this.url=t,this.dependencies={},n&&(this.unresolvedSchema=this.service.promise.resolve(new ue(n)))}return e.prototype.getUnresolvedSchema=function(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.url)),this.unresolvedSchema},e.prototype.getResolvedSchema=function(){var e=this;return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then((function(t){return e.service.resolveSchemaContent(t,e.url,e.dependencies)}))),this.resolvedSchema},e.prototype.clearSchema=function(){this.resolvedSchema=void 0,this.unresolvedSchema=void 0,this.dependencies={}},e}(),ue=function(e,t){void 0===t&&(t=[]),this.schema=e,this.errors=t},le=function(){function e(e,t){void 0===t&&(t=[]),this.schema=e,this.errors=t}return e.prototype.getSection=function(e){var t=this.getSectionRecursive(e,this.schema);if(t)return U(t)},e.prototype.getSectionRecursive=function(e,t){if(!t||"boolean"==typeof t||0===e.length)return t;var n=e.shift();if(t.properties&&(t.properties[n],1))return this.getSectionRecursive(e,t.properties[n]);if(t.patternProperties)for(var r=0,o=Object.keys(t.patternProperties);r<o.length;r++){var i=o[r];if(new RegExp(i).test(n))return this.getSectionRecursive(e,t.patternProperties[i])}else{if("object"==typeof t.additionalProperties)return this.getSectionRecursive(e,t.additionalProperties);if(n.match("[0-9]+"))if(Array.isArray(t.items)){var s=parseInt(n,10);if(!isNaN(s)&&t.items[s])return this.getSectionRecursive(e,t.items[s])}else if(t.items)return this.getSectionRecursive(e,t.items)}},e}(),fe=function(){function e(e,t,n){this.contextService=t,this.requestService=e,this.promiseConstructor=n||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations=[],this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={}}return e.prototype.getRegisteredSchemaIds=function(e){return Object.keys(this.registeredSchemasIds).filter((function(t){var n=ie.URI.parse(t).scheme;return"schemaservice"!==n&&(!e||e(n))}))},Object.defineProperty(e.prototype,"promise",{get:function(){return this.promiseConstructor},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()},e.prototype.onResourceChange=function(e){for(var t=this,n=!1,r=[e=he(e)],o=Object.keys(this.schemasById).map((function(e){return t.schemasById[e]}));r.length;)for(var i=r.pop(),s=0;s<o.length;s++){var a=o[s];a&&(a.url===i||a.dependencies[i])&&(a.url!==i&&r.push(a.url),a.clearSchema(),o[s]=void 0,n=!0)}return n},e.prototype.setSchemaContributions=function(e){if(e.schemas){var t=e.schemas;for(var n in t){var r=he(n);this.contributionSchemas[r]=this.addSchemaHandle(r,t[n])}}if(Array.isArray(e.schemaAssociations))for(var o=0,i=e.schemaAssociations;o<i.length;o++){var s=i[o],a=s.uris.map(he),c=this.addFilePatternAssociation(s.pattern,a);this.contributionAssociations.push(c)}},e.prototype.addSchemaHandle=function(e,t){var n=new ce(this,e,t);return this.schemasById[e]=n,n},e.prototype.getOrAddSchemaHandle=function(e,t){return this.schemasById[e]||this.addSchemaHandle(e,t)},e.prototype.addFilePatternAssociation=function(e,t){var n=new ae(e,t);return this.filePatternAssociations.push(n),n},e.prototype.registerExternalSchema=function(e,t,n){var r=he(e);return this.registeredSchemasIds[r]=!0,this.cachedSchemaForResource=void 0,t&&this.addFilePatternAssociation(t,[e]),n?this.addSchemaHandle(r,n):this.getOrAddSchemaHandle(r)},e.prototype.clearExternalSchemas=function(){for(var e in this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={},this.cachedSchemaForResource=void 0,this.contributionSchemas)this.schemasById[e]=this.contributionSchemas[e],this.registeredSchemasIds[e]=!0;for(var t=0,n=this.contributionAssociations;t<n.length;t++){var r=n[t];this.filePatternAssociations.push(r)}},e.prototype.getResolvedSchema=function(e){var t=he(e),n=this.schemasById[t];return n?n.getResolvedSchema():this.promise.resolve(void 0)},e.prototype.loadSchema=function(e){if(!this.requestService){var t=se("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",pe(e));return this.promise.resolve(new ue({},[t]))}return this.requestService(e).then((function(t){if(!t){var n=se("json.schema.nocontent","Unable to load schema from '{0}': No content.",pe(e));return new ue({},[n])}var r,o=[];r=h(t,o);var i=o.length?[se("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",pe(e),o[0].offset)]:[];return new ue(r,i)}),(function(t){var n=t.toString(),r=t.toString().split("Error: ");return r.length>1&&(n=r[1]),Q(n,".")&&(n=n.substr(0,n.length-1)),new ue({},[se("json.schema.nocontent","Unable to load schema from '{0}': {1}.",pe(e),n)])}))},e.prototype.resolveSchemaContent=function(e,t,n){var r=this,o=e.errors.slice(0),i=e.schema;if(i.$schema){var s=he(i.$schema);if("http://json-schema.org/draft-03/schema"===s)return this.promise.resolve(new le({},[se("json.schema.draft03.notsupported","Draft-03 schemas are not supported.")]));"https://json-schema.org/draft/2019-09/schema"===s&&o.push(se("json.schema.draft201909.notsupported","Draft 2019-09 schemas are not yet fully supported."))}var a=this.contextService,c=function(e,t,n,r){var i=r?decodeURIComponent(r):void 0,s=function(e,t){if(!t)return e;var n=e;return"/"===t[0]&&(t=t.substr(1)),t.split("/").some((function(e){return!(n=n[e])})),n}(t,i);if(s)for(var a in s)s.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(e[a]=s[a]);else o.push(se("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",i,n))},u=function(e,t,n,i,s){a&&!/^\w+:\/\/.*/.test(t)&&(t=a.resolveRelativePath(t,i)),t=he(t);var u=r.getOrAddSchemaHandle(t);return u.getUnresolvedSchema().then((function(r){if(s[t]=!0,r.errors.length){var i=n?t+"#"+n:t;o.push(se("json.schema.problemloadingref","Problems loading reference '{0}': {1}",i,r.errors[0]))}return c(e,r.schema,t,n),l(e,r.schema,t,u.dependencies)}))},l=function(e,t,n,o){if(!e||"object"!=typeof e)return Promise.resolve(null);for(var i=[e],s=[],a=[],l=function(e){for(var r=[];e.$ref;){var s=e.$ref,l=s.split("#",2);if(delete e.$ref,l[0].length>0)return void a.push(u(e,l[0],l[1],n,o));-1===r.indexOf(s)&&(c(e,t,n,l[1]),r.push(s))}!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e;n<r.length;n++){var o=r[n];"object"==typeof o&&i.push(o)}}(e.items,e.additionalItems,e.additionalProperties,e.not,e.contains,e.propertyNames,e.if,e.then,e.else),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e;n<r.length;n++){var o=r[n];if("object"==typeof o)for(var s in o){var a=s,c=o[a];"object"==typeof c&&i.push(c)}}}(e.definitions,e.properties,e.patternProperties,e.dependencies),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e;n<r.length;n++){var o=r[n];if(Array.isArray(o))for(var s=0,a=o;s<a.length;s++){var c=a[s];"object"==typeof c&&i.push(c)}}}(e.anyOf,e.allOf,e.oneOf,e.items)};i.length;){var f=i.pop();s.indexOf(f)>=0||(s.push(f),l(f))}return r.promise.all(a)};return l(i,i,t,n).then((function(e){return new le(i,o)}))},e.prototype.getSchemaForResource=function(e,t){if(t&&t.root&&"object"===t.root.type){var n=t.root.properties.filter((function(e){return"$schema"===e.keyNode.value&&e.valueNode&&"string"===e.valueNode.type}));if(n.length>0){var r=n[0].valueNode;if(r&&"string"===r.type){var o=K(r);if(o&&function(e,t){if(e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}(o,".")&&this.contextService&&(o=this.contextService.resolveRelativePath(o,e)),o){var i=he(o);return this.getOrAddSchemaHandle(i).getResolvedSchema()}}}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===e)return this.cachedSchemaForResource.resolvedSchema;for(var s=Object.create(null),a=[],c=function(e){try{return ie.URI.parse(e).with({fragment:null,query:null}).toString()}catch(t){return e}}(e),u=0,l=this.filePatternAssociations;u<l.length;u++){var f=l[u];if(f.matchesPattern(c))for(var d=0,h=f.getURIs();d<h.length;d++){var p=h[d];s[p]||(a.push(p),s[p]=!0)}}var m=a.length>0?this.createCombinedSchema(e,a).getResolvedSchema():this.promise.resolve(void 0);return this.cachedSchemaForResource={resource:e,resolvedSchema:m},m},e.prototype.createCombinedSchema=function(e,t){if(1===t.length)return this.getOrAddSchemaHandle(t[0]);var n="schemaservice://combinedSchema/"+encodeURIComponent(e),r={allOf:t.map((function(e){return{$ref:e}}))};return this.addSchemaHandle(n,r)},e.prototype.getMatchingSchemas=function(e,t,n){if(n){var r=n.id||"schemaservice://untitled/matchingSchemas/"+de++;return this.resolveSchemaContent(new ue(n),r,{}).then((function(e){return t.getMatchingSchemas(e.schema).filter((function(e){return!e.inverted}))}))}return this.getSchemaForResource(e.uri,t).then((function(e){return e?t.getMatchingSchemas(e.schema).filter((function(e){return!e.inverted})):[]}))},e}(),de=0;function he(e){try{return ie.URI.parse(e).toString()}catch(t){return e}}function pe(e){try{var t=ie.URI.parse(e);if("file"===t.scheme)return t.fsPath}catch(e){}return e}var me=D.loadMessageBundle(),ge=function(){function e(e,t){this.jsonSchemaService=e,this.promise=t,this.validationEnabled=!0}return e.prototype.configure=function(e){e&&(this.validationEnabled=e.validate,this.commentSeverity=e.allowComments?void 0:S.DiagnosticSeverity.Error)},e.prototype.doValidation=function(e,t,n,r){var o=this;if(!this.validationEnabled)return this.promise.resolve([]);var i=[],s={},a=function(e){var t=e.range.start.line+" "+e.range.start.character+" "+e.message;s[t]||(s[t]=!0,i.push(e))},c=function(r){var s=n?ye(n.trailingCommas):S.DiagnosticSeverity.Error,c=n?ye(n.comments):o.commentSeverity,u=(null==n?void 0:n.schemaValidation)?ye(n.schemaValidation):S.DiagnosticSeverity.Warning,l=(null==n?void 0:n.schemaRequest)?ye(n.schemaRequest):S.DiagnosticSeverity.Warning;if(r){if(r.errors.length&&t.root&&l){var f=t.root,d="object"===f.type?f.properties[0]:void 0;if(d&&"$schema"===d.keyNode.value){var h=d.valueNode||d,p=S.Range.create(e.positionAt(h.offset),e.positionAt(h.offset+h.length));a(S.Diagnostic.create(p,r.errors[0],l,w.SchemaResolveError))}else{p=S.Range.create(e.positionAt(f.offset),e.positionAt(f.offset+1));a(S.Diagnostic.create(p,r.errors[0],l,w.SchemaResolveError))}}else if(u){var m=t.validate(e,r.schema,u);m&&m.forEach(a)}(function e(t){if(t&&"object"==typeof t){if(C(t.allowComments))return t.allowComments;if(t.allOf)for(var n=0,r=t.allOf;n<r.length;n++){var o=r[n],i=e(o);if(C(i))return i}}return})(r.schema)&&(c=void 0),function e(t){if(t&&"object"==typeof t){if(C(t.allowTrailingCommas))return t.allowTrailingCommas;var n=t;if(C(n.allowsTrailingCommas))return n.allowsTrailingCommas;if(t.allOf)for(var r=0,o=t.allOf;r<o.length;r++){var i=o[r],s=e(i);if(C(s))return s}}return}(r.schema)&&(s=void 0)}for(var g=0,v=t.syntaxErrors;g<v.length;g++){var y=v[g];if(y.code===w.TrailingComma){if("number"!=typeof s)continue;y.severity=s}a(y)}if("number"==typeof c){var b=me("InvalidCommentToken","Comments are not permitted in JSON.");t.comments.forEach((function(e){a(S.Diagnostic.create(e,b,c,w.CommentNotPermitted))}))}return i};if(r){var u=r.id||"schemaservice://untitled/"+ve++;return this.jsonSchemaService.resolveSchemaContent(new ue(r),u,{}).then((function(e){return c(e)}))}return this.jsonSchemaService.getSchemaForResource(e.uri,t).then((function(e){return c(e)}))},e}(),ve=0;function ye(e){switch(e){case"error":return S.DiagnosticSeverity.Error;case"warning":return S.DiagnosticSeverity.Warning;case"ignore":return}}function be(e){return e<48?0:e<=57?e-48:(e<97&&(e+=32),e>=97&&e<=102?e-97+10:0)}function Ce(e){if("#"===e[0])switch(e.length){case 4:return{red:17*be(e.charCodeAt(1))/255,green:17*be(e.charCodeAt(2))/255,blue:17*be(e.charCodeAt(3))/255,alpha:1};case 5:return{red:17*be(e.charCodeAt(1))/255,green:17*be(e.charCodeAt(2))/255,blue:17*be(e.charCodeAt(3))/255,alpha:17*be(e.charCodeAt(4))/255};case 7:return{red:(16*be(e.charCodeAt(1))+be(e.charCodeAt(2)))/255,green:(16*be(e.charCodeAt(3))+be(e.charCodeAt(4)))/255,blue:(16*be(e.charCodeAt(5))+be(e.charCodeAt(6)))/255,alpha:1};case 9:return{red:(16*be(e.charCodeAt(1))+be(e.charCodeAt(2)))/255,green:(16*be(e.charCodeAt(3))+be(e.charCodeAt(4)))/255,blue:(16*be(e.charCodeAt(5))+be(e.charCodeAt(6)))/255,alpha:(16*be(e.charCodeAt(7))+be(e.charCodeAt(8)))/255}}}var xe=function(){function e(e){this.schemaService=e}return e.prototype.findDocumentSymbols=function(e,t,n){var r=this;void 0===n&&(n={resultLimit:Number.MAX_VALUE});var o=t.root;if(!o)return[];var i=n.resultLimit||Number.MAX_VALUE,s=e.uri;if(("vscode://defaultsettings/keybindings.json"===s||Q(s.toLowerCase(),"/user/keybindings.json"))&&"array"===o.type){for(var a=[],c=0,u=o.items;c<u.length;c++){var l=u[c];if("object"===l.type)for(var f=0,d=l.properties;f<d.length;f++){var h=d[f];if("key"===h.keyNode.value&&h.valueNode){var p=S.Location.create(e.uri,we(e,l));if(a.push({name:K(h.valueNode),kind:S.SymbolKind.Function,location:p}),--i<=0)return n&&n.onResultLimitExceeded&&n.onResultLimitExceeded(s),a}}}return a}for(var m=[{node:o,containerName:""}],g=0,v=!1,y=[],b=function(t,n){"array"===t.type?t.items.forEach((function(e){e&&m.push({node:e,containerName:n})})):"object"===t.type&&t.properties.forEach((function(t){var o=t.valueNode;if(o)if(i>0){i--;var s=S.Location.create(e.uri,we(e,t)),a=n?n+"."+t.keyNode.value:t.keyNode.value;y.push({name:r.getKeyLabel(t),kind:r.getSymbolKind(o.type),location:s,containerName:n}),m.push({node:o,containerName:a})}else v=!0}))};g<m.length;){var C=m[g++];b(C.node,C.containerName)}return v&&n&&n.onResultLimitExceeded&&n.onResultLimitExceeded(s),y},e.prototype.findDocumentSymbols2=function(e,t,n){var r=this;void 0===n&&(n={resultLimit:Number.MAX_VALUE});var o=t.root;if(!o)return[];var i=n.resultLimit||Number.MAX_VALUE,s=e.uri;if(("vscode://defaultsettings/keybindings.json"===s||Q(s.toLowerCase(),"/user/keybindings.json"))&&"array"===o.type){for(var a=[],c=0,u=o.items;c<u.length;c++){var l=u[c];if("object"===l.type)for(var f=0,d=l.properties;f<d.length;f++){var h=d[f];if("key"===h.keyNode.value&&h.valueNode){var p=we(e,l),m=we(e,h.keyNode);if(a.push({name:K(h.valueNode),kind:S.SymbolKind.Function,range:p,selectionRange:m}),--i<=0)return n&&n.onResultLimitExceeded&&n.onResultLimitExceeded(s),a}}}return a}for(var g=[],v=[{node:o,result:g}],y=0,b=!1,C=function(t,n){"array"===t.type?t.items.forEach((function(t,o){if(t)if(i>0){i--;var s=we(e,t),a=s,c={name:String(o),kind:r.getSymbolKind(t.type),range:s,selectionRange:a,children:[]};n.push(c),v.push({result:c.children,node:t})}else b=!0})):"object"===t.type&&t.properties.forEach((function(t){var o=t.valueNode;if(o)if(i>0){i--;var s=we(e,t),a=we(e,t.keyNode),c={name:r.getKeyLabel(t),kind:r.getSymbolKind(o.type),range:s,selectionRange:a,children:[]};n.push(c),v.push({result:c.children,node:o})}else b=!0}))};y<v.length;){var x=v[y++];C(x.node,x.result)}return b&&n&&n.onResultLimitExceeded&&n.onResultLimitExceeded(s),g},e.prototype.getSymbolKind=function(e){switch(e){case"object":return S.SymbolKind.Module;case"string":return S.SymbolKind.String;case"number":return S.SymbolKind.Number;case"array":return S.SymbolKind.Array;case"boolean":return S.SymbolKind.Boolean;default:return S.SymbolKind.Variable}},e.prototype.getKeyLabel=function(e){var t=e.keyNode.value;return t&&(t=t.replace(/[\n]/g,"↵")),t&&t.trim()?t:'"'+t+'"'},e.prototype.findDocumentColors=function(e,t,n){return this.schemaService.getSchemaForResource(e.uri,t).then((function(r){var o=[];if(r)for(var i=n&&"number"==typeof n.resultLimit?n.resultLimit:Number.MAX_VALUE,s={},a=0,c=t.getMatchingSchemas(r.schema);a<c.length;a++){var u=c[a];if(!u.inverted&&u.schema&&("color"===u.schema.format||"color-hex"===u.schema.format)&&u.node&&"string"===u.node.type){var l=String(u.node.offset);if(!s[l]){var f=Ce(K(u.node));if(f){var d=we(e,u.node);o.push({color:f,range:d})}if(s[l]=!0,--i<=0)return n&&n.onResultLimitExceeded&&n.onResultLimitExceeded(e.uri),o}}}return o}))},e.prototype.getColorPresentations=function(e,t,n,r){var o,i=[],s=Math.round(255*n.red),a=Math.round(255*n.green),c=Math.round(255*n.blue);function u(e){var t=e.toString(16);return 2!==t.length?"0"+t:t}return o=1===n.alpha?"#"+u(s)+u(a)+u(c):"#"+u(s)+u(a)+u(c)+u(Math.round(255*n.alpha)),i.push({label:o,textEdit:S.TextEdit.replace(r,JSON.stringify(o))}),i},e}();function we(e,t){return S.Range.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length))}var Te=D.loadMessageBundle(),Se={schemaAssociations:[],schemas:{"http://json-schema.org/schema#":{$ref:"http://json-schema.org/draft-07/schema#"},"http://json-schema.org/draft-04/schema#":{title:Te("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{title:Te("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},ke={id:Te("schema.json.id","A unique identifier for the schema."),$schema:Te("schema.json.$schema","The schema to verify this document against."),title:Te("schema.json.title","A descriptive title of the element."),description:Te("schema.json.description","A long description of the element. Used in hover menus and suggestions."),default:Te("schema.json.default","A default value. Used by suggestions."),multipleOf:Te("schema.json.multipleOf","A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:Te("schema.json.maximum","The maximum numerical value, inclusive by default."),exclusiveMaximum:Te("schema.json.exclusiveMaximum","Makes the maximum property exclusive."),minimum:Te("schema.json.minimum","The minimum numerical value, inclusive by default."),exclusiveMinimum:Te("schema.json.exclusiveMininum","Makes the minimum property exclusive."),maxLength:Te("schema.json.maxLength","The maximum length of a string."),minLength:Te("schema.json.minLength","The minimum length of a string."),pattern:Te("schema.json.pattern","A regular expression to match the string against. It is not implicitly anchored."),additionalItems:Te("schema.json.additionalItems","For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:Te("schema.json.items","For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:Te("schema.json.maxItems","The maximum number of items that can be inside an array. Inclusive."),minItems:Te("schema.json.minItems","The minimum number of items that can be inside an array. Inclusive."),uniqueItems:Te("schema.json.uniqueItems","If all of the items in the array must be unique. Defaults to false."),maxProperties:Te("schema.json.maxProperties","The maximum number of properties an object can have. Inclusive."),minProperties:Te("schema.json.minProperties","The minimum number of properties an object can have. Inclusive."),required:Te("schema.json.required","An array of strings that lists the names of all properties required on this object."),additionalProperties:Te("schema.json.additionalProperties","Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:Te("schema.json.definitions","Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:Te("schema.json.properties","A map of property names to schemas for each property."),patternProperties:Te("schema.json.patternProperties","A map of regular expressions on property names to schemas for matching properties."),dependencies:Te("schema.json.dependencies","A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:Te("schema.json.enum","The set of literal values that are valid."),type:Te("schema.json.type","Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:Te("schema.json.format","Describes the format expected for the value."),allOf:Te("schema.json.allOf","An array of schemas, all of which must match."),anyOf:Te("schema.json.anyOf","An array of schemas, where at least one must match."),oneOf:Te("schema.json.oneOf","An array of schemas, exactly one of which must match."),not:Te("schema.json.not","A schema which must not match."),$id:Te("schema.json.$id","A unique identifier for the schema."),$ref:Te("schema.json.$ref","Reference a definition hosted on any location."),$comment:Te("schema.json.$comment","Comments from schema authors to readers or maintainers of the schema."),readOnly:Te("schema.json.readOnly","Indicates that the value of the instance is managed exclusively by the owning authority."),examples:Te("schema.json.examples","Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:Te("schema.json.contains",'An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:Te("schema.json.propertyNames","If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:Te("schema.json.const","An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:Te("schema.json.contentMediaType","Describes the media type of a string property."),contentEncoding:Te("schema.json.contentEncoding","Describes the content encoding of a string property."),if:Te("schema.json.if",'The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:Te("schema.json.then",'The "if" subschema is used for validation when the "if" subschema succeeds.'),else:Te("schema.json.else",'The "else" subschema is used for validation when the "if" subschema fails.')};for(var Re in Se.schemas){var _e=Se.schemas[Re];for(var Pe in _e.properties){var Ee=_e.properties[Pe];"boolean"==typeof Ee&&(Ee=_e.properties[Pe]={});var Oe=ke[Pe];Oe?Ee.description=Oe:console.log(Pe+": localize('schema.json."+Pe+'\', "")')}}function De(e,t){var n=[],r=[],o=[],i=-1,s=d(e.getText(),!1),a=s.scan();function c(e){n.push(e),r.push(o.length)}for(;17!==a;){switch(a){case 1:case 3:var u={startLine:h=e.positionAt(s.getTokenOffset()).line,endLine:h,kind:1===a?"object":"array"};o.push(u);break;case 2:case 4:var l=2===a?"object":"array";if(o.length>0&&o[o.length-1].kind===l){u=o.pop();var f=e.positionAt(s.getTokenOffset()).line;u&&f>u.startLine+1&&i!==u.startLine&&(u.endLine=f-1,c(u),i=u.startLine)}break;case 13:var h=e.positionAt(s.getTokenOffset()).line,p=e.positionAt(s.getTokenOffset()+s.getTokenLength()).line;1===s.getTokenError()&&h+1<e.lineCount?s.setPosition(e.offsetAt(S.Position.create(h+1,0))):h<p&&(c({startLine:h,endLine:p,kind:S.FoldingRangeKind.Comment}),i=h);break;case 12:var m=e.getText().substr(s.getTokenOffset(),s.getTokenLength()).match(/^\/\/\s*#(region\b)|(endregion\b)/);if(m){f=e.positionAt(s.getTokenOffset()).line;if(m[1]){u={startLine:f,endLine:f,kind:S.FoldingRangeKind.Region};o.push(u)}else{for(var g=o.length-1;g>=0&&o[g].kind!==S.FoldingRangeKind.Region;)g--;if(g>=0){u=o[g];o.length=g,f>u.startLine&&i!==u.startLine&&(u.endLine=f,c(u),i=u.startLine)}}}}a=s.scan()}var v=t&&t.rangeLimit;if("number"!=typeof v||n.length<=v)return n;t&&t.onRangeLimitExceeded&&t.onRangeLimitExceeded(e.uri);for(var y=[],b=0,C=r;b<C.length;b++){(R=C[b])<30&&(y[R]=(y[R]||0)+1)}var x=0,w=0;for(g=0;g<y.length;g++){var T=y[g];if(T){if(T+x>v){w=g;break}x+=T}}var k=[];for(g=0;g<n.length;g++){var R;"number"==typeof(R=r[g])&&(R<w||R===w&&x++<v)&&k.push(n[g])}return k}function Me(e,t,n){function r(t,n){return S.Range.create(e.positionAt(t),e.positionAt(n))}var o=d(e.getText(),!0);function i(e,t){return o.setPosition(e),o.scan()===t?o.getTokenOffset()+o.getTokenLength():-1}return t.map((function(t){for(var o=e.offsetAt(t),s=n.getNodeFromOffset(o,!0),a=[];s;){switch(s.type){case"string":case"object":case"array":var c=s.offset+1,u=s.offset+s.length-1;c<u&&o>=c&&o<=u&&a.push(r(c,u)),a.push(r(s.offset,s.offset+s.length));break;case"number":case"boolean":case"null":case"property":a.push(r(s.offset,s.offset+s.length))}if("property"===s.type||s.parent&&"array"===s.parent.type){var l=i(s.offset+s.length,5);-1!==l&&a.push(r(s.offset,l))}s=s.parent}for(var f=void 0,d=a.length-1;d>=0;d--)f=S.SelectionRange.create(a[d],f);return f||(f=S.SelectionRange.create(S.Range.create(t,t))),f}))}function Ae(e,t,n){var r=e.offsetAt(t),o=n.getNodeFromOffset(r,!0);if(!o||!function(e){return"string"===e.type&&e.parent&&"property"===e.parent.type&&e.parent.valueNode===e&&"$ref"===e.parent.keyNode.value||!1}(o))return Promise.resolve([]);var i=o.parent.valueNode,s=function(e,t){var n=function(e){if("#"===e)return[];if("#"!==e[0]||"/"!==e[1])return null;return e.substring(2).split(/\//).map(qe)}(t);if(!n)return null;return function e(t,n){if(!n)return null;if(0===t.length)return n;var r=t.shift();if(n&&"object"===n.type){var o=n.properties.find((function(e){return e.keyNode.value===r}));return o?e(t,o.valueNode):null}if(n&&"array"===n.type&&r.match(/^(0|[1-9][0-9]*)$/)){var i=Number.parseInt(r),s=n.items[i];return s?e(t,s):null}return null}(n,e.root)}(n,i.value);if(!s)return Promise.resolve([]);var a={targetUri:e.uri,originSelectionRange:Ne(e,i),targetRange:Ne(e,s),targetSelectionRange:Ne(e,s)};return Promise.resolve([a])}function Ne(e,t){return S.Range.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length))}function qe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Fe(e){var t=e.promiseConstructor||Promise,n=new fe(e.schemaRequestService,e.workspaceContext,t);n.setSchemaContributions(Se);var r=new ne(n,e.contributions,t,e.clientCapabilities),o=new re(n,e.contributions,t),i=new xe(n),s=new ge(n,t);return{configure:function(e){n.clearExternalSchemas(),e.schemas&&e.schemas.forEach((function(e){n.registerExternalSchema(e.uri,e.fileMatch,e.schema)})),s.configure(e)},resetSchema:function(e){return n.onResourceChange(e)},doValidation:s.doValidation.bind(s),parseJSONDocument:function(e){return Z(e,{collectComments:!0})},newJSONDocument:function(e,t){return function(e,t){return void 0===t&&(t=[]),new X(e,t,[])}(e,t)},getMatchingSchemas:n.getMatchingSchemas.bind(n),doResolve:r.doResolve.bind(r),doComplete:r.doComplete.bind(r),findDocumentSymbols:i.findDocumentSymbols.bind(i),findDocumentSymbols2:i.findDocumentSymbols2.bind(i),findColorSymbols:function(e,t){return i.findDocumentColors(e,t).then((function(e){return e.map((function(e){return e.range}))}))},findDocumentColors:i.findDocumentColors.bind(i),getColorPresentations:i.getColorPresentations.bind(i),doHover:o.doHover.bind(o),getFoldingRanges:De,getSelectionRanges:Me,findDefinition:Ae,format:function(e,t,n){var r=void 0;if(t){var o=e.offsetAt(t.start);r={offset:o,length:e.offsetAt(t.end)-o}}var i={tabSize:n?n.tabSize:4,insertSpaces:!n||n.insertSpaces,eol:"\n"};return function(e,t,n){return a(e,t,n)}(e.getText(),r,i).map((function(t){return S.TextEdit.replace(S.Range.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length)),t.content)}))}}}}]));
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/undefined/extensions/json-language-features/server/dist/node/jsonServerMain.js.map