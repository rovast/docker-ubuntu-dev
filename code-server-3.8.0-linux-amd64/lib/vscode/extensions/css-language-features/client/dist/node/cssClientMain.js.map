{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"vscode\"","webpack:///../node_modules/vscode-languageserver-protocol/lib/node/main.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/messages.js","webpack:///../node_modules/vscode-jsonrpc/lib/node/main.js","webpack:///../node_modules/vscode-languageclient/lib/common/client.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/ral.js","webpack:///../node_modules/vscode-languageclient/lib/common/utils/is.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/is.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/events.js","webpack:///external \"path\"","webpack:///external \"fs\"","webpack:///./src/requests.ts","webpack:///../node_modules/vscode-languageclient/lib/node/main.js","webpack:///external \"child_process\"","webpack:///../node_modules/vscode-languageclient/lib/common/commonClient.js","webpack:///../node_modules/vscode-jsonrpc/node.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/disposable.js","webpack:///external \"util\"","webpack:///../node_modules/vscode-jsonrpc/lib/common/api.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/messages.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack:///../node_modules/vscode-languageclient/lib/common/configuration.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolCompletionItem.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolCodeLens.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolDocumentLink.js","webpack:///../node_modules/vscode-languageclient/lib/common/utils/uuid.js","webpack:///../node_modules/vscode-languageclient/lib/common/progressPart.js","webpack:///./src/node/cssClientMain.ts","webpack:///./src/node/nodeFs.ts","webpack:///../node_modules/semver/semver.js","webpack:///../node_modules/vscode-jsonrpc/lib/node/ril.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/messageReader.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/messageWriter.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/semaphore.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/connection.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/linkedMap.js","webpack:///external \"os\"","webpack:///external \"crypto\"","webpack:///external \"net\"","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/api.js","webpack:///../node_modules/vscode-languageserver-types/lib/esm/main.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolders.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/connection.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.proposed.js","webpack:///../node_modules/vscode-languageclient/lib/common/codeConverter.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolConverter.js","webpack:///../node_modules/vscode-languageclient/lib/common/utils/async.js","webpack:///../node_modules/vscode-languageclient/lib/common/colorProvider.js","webpack:///../node_modules/vscode-languageclient/lib/common/implementation.js","webpack:///../node_modules/vscode-languageclient/lib/common/typeDefinition.js","webpack:///../node_modules/vscode-languageclient/lib/common/workspaceFolders.js","webpack:///../node_modules/vscode-languageclient/lib/common/foldingRange.js","webpack:///../node_modules/vscode-languageclient/lib/common/declaration.js","webpack:///../node_modules/vscode-languageclient/lib/common/selectionRange.js","webpack:///../node_modules/vscode-languageclient/lib/common/progress.js","webpack:///../node_modules/vscode-languageclient/lib/common/callHierarchy.js","webpack:///../node_modules/vscode-languageclient/lib/common/semanticTokens.proposed.js","webpack:///../node_modules/vscode-languageclient/lib/node/processes.js","webpack:///../node_modules/vscode-languageserver-protocol/node.js","webpack:///../node_modules/vscode-languageclient/lib/common/api.js","webpack:///./src/cssClient.ts","webpack:///../node_modules/vscode-nls/lib/main.js","webpack:///./src/customData.ts","webpack:///../node_modules/vscode-languageclient/node.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","__export","node_1","createProtocolConnection","input","output","logger","options","createMessageConnection","vscode_jsonrpc_1","ProtocolRequestType0","RequestType0","method","super","ProtocolRequestType","RequestType","ProtocolNotificationType","NotificationType","ProtocolNotificationType0","NotificationType0","ril_1","default","install","api_1","path","os","crypto_1","net_1","IPCMessageReader","AbstractMessageReader","process","this","eventEmitter","on","error","fireError","fireClose","callback","Disposable","off","IPCMessageWriter","AbstractMessageWriter","errorCount","msg","send","undefined","handleError","Promise","resolve","reject","SocketMessageReader","ReadableStreamMessageReader","socket","encoding","stream","asReadableStream","SocketMessageWriter","WriteableStreamMessageWriter","asWritableStream","dispose","destroy","StreamMessageReader","readble","StreamMessageWriter","writable","generateRandomPipeName","randomSuffix","randomBytes","toString","platform","join","tmpdir","createClientPipeTransport","pipeName","connectResolve","connected","_reject","server","createServer","close","listen","removeListener","onConnected","createServerPipeTransport","createConnection","createClientSocketTransport","port","createServerSocketTransport","NullLogger","reader","read","writer","write","end","isMessageWriter","ConnectionStrategy","is","connectionStrategy","BaseLanguageClient","MessageTransports","TextDocumentFeature","State","RevealOutputChannelOn","CloseAction","ErrorAction","vscode_1","vscode_languageserver_protocol_1","configuration_1","c2p","p2c","Is","async_1","UUID","progressPart_1","ConsoleLogger","message","RAL","console","warn","info","log","ClientState","DefaultErrorHandler","restarts","_error","_message","count","Continue","Shutdown","push","Date","now","length","Restart","window","showErrorMessage","DoNotRestart","shift","SupportedSymbolKinds","SymbolKind","File","Module","Namespace","Package","Class","Method","Property","Field","Constructor","Enum","Interface","Function","Variable","Constant","String","Number","Boolean","Array","Key","Null","EnumMember","Struct","Event","Operator","TypeParameter","SupportedCompletionItemKinds","CompletionItemKind","Text","Unit","Value","Keyword","Snippet","Color","Reference","Folder","SupportedSymbolTags","SymbolTag","Deprecated","ensure","target","DynamicFeature","candidate","func","register","unregister","messages","DocumentNotifiactions","_client","_event","_type","_middleware","_createParams","_selectorFilter","_selectors","Map","selectors","textDocument","selector","languages","match","data","registerOptions","documentSelector","_listener","set","id","values","sendNotification","notificationSent","_data","delete","size","clear","document","Error","DidOpenTextDocumentFeature","client","_syncedDocuments","workspace","onDidOpenTextDocument","DidOpenTextDocumentNotification","type","clientOptions","middleware","didOpen","code2ProtocolConverter","asOpenTextDocumentParams","textDocumentFilter","capabilities","dynamicRegistration","textDocumentSyncOptions","resolvedTextDocumentSync","openClose","generateUuid","textDocuments","forEach","uri","has","DidCloseTextDocumentFeature","onDidCloseTextDocument","DidCloseTextDocumentNotification","didClose","asCloseTextDocumentParams","DidChangeTextDocumentFeature","_changeData","_forcingDelivery","DidChangeTextDocumentNotification","change","TextDocumentSyncKind","None","assign","syncKind","onDidChangeTextDocument","event","contentChanges","changeData","Incremental","params","asChangeTextDocumentParams","didChange","Full","_changeDelayer","forceDelivery","delayer","trigger","Delayer","WillSaveFeature","onWillSaveTextDocument","WillSaveTextDocumentNotification","willSave","willSaveEvent","asWillSaveTextDocumentParams","WillSaveWaitUntilFeature","WillSaveTextDocumentWaitUntilRequest","willSaveWaitUntil","sendRequest","then","edits","vEdits","protocol2CodeConverter","asTextEdits","waitUntil","DidSaveTextDocumentFeature","onDidSaveTextDocument","DidSaveTextDocumentNotification","didSave","asSaveTextDocumentParams","_includeText","save","saveOptions","includeText","FileSystemWatcherFeature","_notifyFileEvent","_watchers","DidChangeWatchedFilesNotification","_capabilities","_documentSelector","_method","isArray","watchers","disposeables","watcher","string","globPattern","watchCreate","watchChange","watchDelete","kind","WatchKind","Create","Change","Delete","fileSystemWatcher","createFileSystemWatcher","hookListeners","fileSystemWatchers","listeners","onDidCreate","resource","asUri","FileChangeType","Created","onDidChange","Changed","onDidDelete","Deleted","disposable","_registrations","registration","registerLanguageProvider","provider","capability","TextDocumentRegistrationOptions","StaticRegistrationOptions","hasId","boolean","WorkDoneProgressOptions","CompletionItemFeature","CompletionRequest","capabilites","completion","contextSupport","completionItem","snippetSupport","commitCharactersSupport","documentationFormat","MarkupKind","Markdown","PlainText","deprecatedSupport","preselectSupport","tagSupport","valueSet","CompletionItemTag","insertReplaceSupport","completionItemKind","getRegistrationOptions","completionProvider","triggerCharacters","provideCompletionItems","position","token","context","asCompletionParams","asCompletionResult","handleFailedRequest","provideCompletionItem","resolveCompletionItem","resolveProvider","item","CompletionResolveRequest","asCompletionItem","registerCompletionItemProvider","HoverFeature","HoverRequest","hoverCapability","contentFormat","hoverProvider","provideHover","asTextDocumentPositionParams","asHover","registerHoverProvider","SignatureHelpFeature","SignatureHelpRequest","config","signatureInformation","parameterInformation","labelOffsetSupport","activeParameterSupport","signatureHelpProvider","provideSignatureHelp","providerSignatureHelp","asSignatureHelpParams","asSignatureHelp","retriggerCharacters","registerSignatureHelpProvider","metaData","DefinitionFeature","DefinitionRequest","definitionSupport","linkSupport","definitionProvider","provideDefinition","asDefinitionResult","registerDefinitionProvider","ReferencesFeature","ReferencesRequest","referencesProvider","provideReferences","_providerReferences","asReferenceParams","asReferences","registerReferenceProvider","DocumentHighlightFeature","DocumentHighlightRequest","documentHighlightProvider","provideDocumentHighlights","_provideDocumentHighlights","asDocumentHighlights","registerDocumentHighlightProvider","DocumentSymbolFeature","DocumentSymbolRequest","symbolCapabilities","symbolKind","hierarchicalDocumentSymbolSupport","documentSymbolProvider","provideDocumentSymbols","_provideDocumentSymbols","asDocumentSymbolParams","element","DocumentSymbol","asDocumentSymbols","asSymbolInformations","registerDocumentSymbolProvider","WorkspaceSymbolFeature","result","WorkspaceSymbolRequest","workspaceSymbolProvider","workDoneProgress","_options","provideWorkspaceSymbols","query","registerWorkspaceSymbolProvider","CodeActionFeature","CodeActionRequest","cap","isPreferredSupport","codeActionLiteralSupport","codeActionKind","CodeActionKind","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","codeActionProvider","provideCodeActions","range","_provideCodeActions","asTextDocumentIdentifier","asRange","asCodeActionContext","Command","asCommand","asCodeAction","registerCodeActionsProvider","codeActionKinds","providedCodeActionKinds","asCodeActionKinds","CodeLensFeature","CodeLensRequest","codeLensProvider","provideCodeLenses","asCodeLensParams","asCodeLenses","resolveCodeLens","codeLens","CodeLensResolveRequest","asCodeLens","registerCodeLensProvider","DocumentFormattingFeature","DocumentFormattingRequest","documentFormattingProvider","provideDocumentFormattingEdits","asFormattingOptions","registerDocumentFormattingEditProvider","DocumentRangeFormattingFeature","DocumentRangeFormattingRequest","documentRangeFormattingProvider","provideDocumentRangeFormattingEdits","registerDocumentRangeFormattingEditProvider","DocumentOnTypeFormattingFeature","DocumentOnTypeFormattingRequest","documentOnTypeFormattingProvider","provideOnTypeFormattingEdits","ch","asPosition","moreTriggerCharacter","registerOnTypeFormattingEditProvider","firstTriggerCharacter","RenameFeature","RenameRequest","rename","prepareSupport","renameProvider","prepareProvider","provideRenameEdits","newName","asWorkspaceEdit","prepareRename","PrepareRenameRequest","Range","placeholder","registerRenameProvider","DocumentLinkFeature","DocumentLinkRequest","documentLinkCapabilities","tooltipSupport","documentLinkProvider","provideDocumentLinks","asDocumentLinkParams","asDocumentLinks","resolveDocumentLink","link","DocumentLinkResolveRequest","asDocumentLink","registerDocumentLinkProvider","ConfigurationFeature","_listeners","DidChangeConfigurationNotification","section","synchronize","configurationSection","onDidChangeConfiguration","sections","some","affectsConfiguration","didChangeConfiguration","settings","extractSettingsInformation","getMiddleware","keys","ensurePath","current","obj","workspaceFolder","index","indexOf","getConfiguration","substr","split","toJSONObject","ExecuteCommandFeature","_commands","ExecuteCommandRequest","executeCommandProvider","executeCommand","command","args","arguments","commands","registerCommand","MessageReader","MessageWriter","OnReady","_resolve","_used","_traceFormat","TraceFormat","_features","_method2Message","_dynamicFeatures","_id","_name","_clientOptions","diagnosticCollectionName","outputChannelName","revealOutputChannelOn","stdioEncoding","initializationOptions","initializationFailedHandler","progressOnInitialization","errorHandler","uriConverters","connectionOptions","_state","Initial","_connectionPromise","_resolvedConnection","_initializeResult","outputChannel","_outputChannel","_disposeOutputChannel","_traceOutputChannel","traceOutputChannel","_providers","_diagnostics","_fileEvents","_fileEventDelayer","_onReady","_onReadyCallbacks","_onStop","_telemetryEmitter","Emitter","_stateChangeEmitter","_trace","Trace","Off","_tracer","messageOrDataObject","logTrace","logObjectTrace","_c2p","createConverter","code2Protocol","_p2c","protocol2Code","registerBuiltinFeatures","oldState","getPublicState","newState","fire","state","Running","Starting","Stopped","isConnectionActive","forceDocumentSync","handler","onRequest","onNotification","onProgress","sendProgress","createOutputChannel","onReady","resolveConnection","connection","trace","traceFormat","ResponseError","responseError","code","stack","showNotification","appendLine","toLocaleTimeString","data2String","Info","showNotificationMessage","Warn","showInformationMessage","show","isLSPMessage","append","JSON","stringify","Stopping","isUsed","createDiagnosticCollection","onLogMessage","MessageType","Warning","onShowMessage","showWarningMessage","ShowMessageRequest","messageFunc","actions","onTelemetry","initialize","StartFailed","needsStop","stop","refreshTrace","initOption","rootPath","fsPath","_clientGetRootPath","initParams","processId","clientInfo","version","rootUri","Uri","file","computeClientCapabilities","workspaceFolders","fillInitializeParams","part","ProgressPart","workDoneToken","doInitialize","done","cancel","number","textDocumentSync","onDiagnostics","handleDiagnostics","RegistrationRequest","handleRegistrationRequest","UnregistrationRequest","handleUnregistrationRequest","ApplyWorkspaceEditRequest","handleApplyWorkspaceEdit","InitializedNotification","hookFileEvents","hookConfigurationChanged","initializeFeatures","retry","title","folders","folder","scheme","cleanUp","shutdown","exit","cleanUpChannel","channel","diagnostics","listener","_a","didChangeWatchedFile","didChangeWatchedFiles","changes","workSpaceMiddleware","asDiagnostics","setDiagnostics","handleConnectionError","closeHandler","handleConnectionClosed","createMessageTransports","transports","onError","onClose","tracer","sendNotificationOrTraceOptions","defaultTraceOptions","InitializeRequest","ShutdownRequest","ExitNotification","LogMessageNotification","ShowMessageNotification","TelemetryEventNotification","didOpenTextDocument","didChangeTextDocument","didCloseTextDocument","didSaveTextDocument","PublishDiagnosticsNotification","action","closed","start","traceConfig","fromString","_connection","fileEvents","array","registerRaw","features","feature","registerFeature","request","notifyFileEvent","applyEdit","workspaceEdit","documentChanges","resourceOperations","ResourceOperationKind","Rename","failureHandling","FailureHandlingKind","TextOnlyTransactional","relatedInformation","versionSupport","DiagnosticTag","Unnecessary","complexDiagnosticCodeSupport","fillClientCapabilities","registrations","unregistration","unregisterations","edit","openTextDocuments","versionMismatch","TextDocumentEdit","applied","asPromise","defaultValue","ErrorCodes","RequestCancelled","makeCancelError","ContentModified","Canceled","_ral","ral","thenable","typedArray","stringArray","every","elem","check","resolved","ral_1","_disposable","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","len","splice","ret","callbacks","slice","contexts","apply","e","thisArgs","disposables","onFirstListenerAdd","isEmpty","add","_noop","onLastListenerRemove","invoke","FsContentRequest","FsStatRequest","FsReadDirRequest","runtime","param","parse","fs","getContent","readFile","buffer","TextDecoder","decode","uriString","readDirectory","stat","FileType","lastIndexOfSlash","lastIndexOf","Slash","charCodeAt","Dot","isAbsolutePath","normalizePath","parts","newParts","pop","res","joinPath","paths","with","__createBinding","k","k2","__exportStar","SettingMonitor","LanguageClient","TransportKind","cp","SemVer","commonClient_1","client_1","processes_1","Executable","Transport","NodeModule","StreamInfo","ChildProcessInfo","isSocket","detached","CommonLanguageClient","arg1","arg2","arg3","arg4","arg5","serverOptions","forceDebug","toLowerCase","_serverOptions","_forceDebug","checkVersion","codeVersion","prerelease","satisfies","_serverProcess","toCheck","_isDetached","checkProcessDied","childProcess","setTimeout","kill","pid","terminate","getEnvironment","env","fork","debugStartWith","debugEquals","assertStdio","stdin","stdout","stderr","json","runDebug","run","debug","execArgv","arg","startsWith","startedInDebugMode","_getServerWorkingDir","serverWorkingDir","node","transport","stdio","ipc","pipe","cwd","silent","sp","protocol","execOptions","serverProcess","spawn","_mainGetRootPath","lstat","err","stats","isDirectory","_setting","primary","rest","enabled","needsStart","ProposedFeatures","colorProvider_1","implementation_1","typeDefinition_1","workspaceFolders_1","foldingRange_1","declaration_1","selectionRange_1","progress_1","callHierarchy_1","semanticTokens_proposed_1","registerFeatures","createAll","TypeDefinitionFeature","ImplementationFeature","ColorProviderFeature","WorkspaceFoldersFeature","FoldingRangeFeature","DeclarationFeature","SelectionRangeFeature","ProgressFeature","CallHierarchyFeature","SemanticTokensFeature","messages_1","RequestType1","RequestType2","RequestType3","RequestType4","RequestType5","RequestType6","RequestType7","RequestType8","RequestType9","NotificationType1","NotificationType2","NotificationType3","NotificationType4","NotificationType5","NotificationType6","NotificationType7","NotificationType8","NotificationType9","disposable_1","events_1","cancellation_1","CancellationTokenSource","CancellationToken","messageReader_1","messageWriter_1","connection_1","ConnectionOptions","ProgressType","SetTraceNotification","LogTraceNotification","ConnectionErrors","ConnectionError","CancellationReceiverStrategy","CancellationSenderStrategy","CancellationStrategy","ParseError","InvalidRequest","MethodNotFound","InvalidParams","InternalError","serverErrorStart","serverErrorEnd","ServerNotInitialized","UnknownErrorCode","MessageWriteError","MessageReadError","setPrototypeOf","AbstractMessageSignature","_numberOfParams","_","isRequestMessage","isNotificationMessage","isResponseMessage","freeze","isCancellationRequested","onCancellationRequested","Cancelled","shortcutEvent","handle","timer","clearTimeout","MutableToken","_isCancelled","_emitter","_token","map","configuration","ConfigurationRequest","items","scopeUri","ProtocolCompletionItem","CompletionItem","label","ProtocolCodeLens","CodeLens","ProtocolDocumentLink","DocumentLink","isUUID","v4","empty","ValueUUID","_value","other","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","Math","floor","random","_chars","_UUIDPattern","test","_reported","WorkDoneProgress","begin","report","location","cancellable","ProgressLocation","Notification","Window","withProgress","async","progress","cancellationToken","_progress","_infinite","percentage","_cancellationToken","WorkDoneProgressCancelNotification","max","min","delta","increment","serverMain","extensions","getExtension","packageJSON","main","serverModule","asAbsolutePath","startClient","getNodeFSRequestService","ensureFileUri","getScheme","buf","Unknown","ctime","mtime","isFile","Directory","isSymbolicLink","SymbolicLink","getTime","readdir","withFileTypes","children","NODE_DEBUG","unshift","SEMVER_SPEC_VERSION","MAX_SAFE_INTEGER","re","src","tokens","R","tok","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULLPLAIN","FULL","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","COERCERTL","RegExp","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","includePrerelease","er","TypeError","trim","raw","major","minor","patch","num","build","format","valid","v","clean","replace","compare","compareMain","comparePre","compareIdentifiers","a","b","compareBuild","inc","release","identifier","isNaN","diff","version1","version2","eq","v1","v2","prefix","defaultResult","numeric","anum","bnum","gt","lt","neq","gte","lte","cmp","op","Comparator","comp","semver","ANY","operator","rcompareIdentifiers","compareLoose","versionA","versionB","rcompare","sort","list","rsort","parseRange","filter","isSatisfiable","comparators","remainingComparators","testComparator","otherComparator","intersects","isX","hyphenReplace","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","testSet","allowed","outside","hilo","gtfn","ltefn","ltfn","ecomp","high","low","comparator","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","M","pr","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","anyX","replaceXRange","replaceXRanges","replaceStars","parseComparator","thisComparators","rangeComparators","thisComparator","rangeComparator","toComparators","maxSatisfying","versions","maxSV","rangeObj","minSatisfying","minSV","minVersion","minver","compver","validRange","ltr","gtr","parsed","r1","r2","coerce","rtl","next","exec","lastIndex","util_1","CR","Buffer","LF","MessageBuffer","_encoding","allocUnsafe","chunk","toAppend","newSize","ceil","concat","header","nextStart","alloc","copy","ReadableStreamWrapper","WritableStreamWrapper","_ril","messageBuffer","applicationJson","encoder","encode","charset","decoder","ms","setImmediate","clearImmediate","RIL","ResolvedMessageReaderOptions","onPartialMessage","errorEmitter","closeEmitter","partialMessageEmitter","asError","fromOptions","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","readable","_partialMessageTimeout","nextMessageLength","messageToken","timeout","partialMessageTimer","onData","headers","tryReadHeaders","contentLength","parseInt","body","tryReadBody","setPartialMessageTimer","clearPartialMessageTimer","firePartialMessage","waitingTime","semaphore_1","ResolvedMessageWriterOptions","_b","contentTypeEncoder","contentEncoder","writeSemaphore","Semaphore","byteLength","doWrite","lock","capacity","_capacity","_active","_waiting","thunk","runNext","doRunNext","linkedMap_1","CancelNotification","ProgressNotification","ConnectionState","Messages","Verbose","cancelUndispatched","Message","createCancellationTokenSource","conn","sendCancellation","cleanup","receiver","sender","cancellationStrategy","messageReader","messageWriter","_logger","sequenceNumber","notificationSquenceNumber","unknownResponseSquenceNumber","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","messageQueue","LinkedMap","responsePromises","requestTokens","New","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","addMessageToQueue","queue","isListening","Listening","isClosed","Closed","isDisposed","Disposed","triggerMessageQueue","requestMessage","reply","resultOrError","startTime","jsonrpc","toJson","traceSendingResponse","replyError","logLSPMessage","traceReceivedRequest","requestHandler","tokenKey","cancellationSource","handlerResult","numberOfParams","promise","replySuccess","handleRequest","notificationHandler","source","traceReceivedNotification","handleNotification","responseMessage","responsePromise","timerStart","traceReceivedResponse","handleResponse","responseHandler","handleInvalidMessage","processMessageQueue","toCancel","strategy","response","lspMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","computeMessageParams","messageParams","notificationMessage","traceSendingNotification","onUnhandledProgress","throwIfNotListening","last","traceSendingRequest","_sendNotification","onUnhandledNotification","onDispose","AlreadyListening","throwIfListening","inspect","verbose","Touch","First","AsOld","Last","AsNew","_map","_head","_tail","_size","touch","previous","addItemLast","addItemFirst","removeItem","callbackfn","thisArg","iterator","entries","currentSize","LRUCache","limit","ratio","_limit","_ratio","checkTrim","trimOld","round","st","Proposed","SemanticTokensRequest","SemanticTokensEditsRequest","SemanticTokensRangeRequest","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokens","Position","Location","LocationLink","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticCode","Diagnostic","TextEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","line","character","objectLiteral","one","two","three","four","defined","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","color","textEdit","additionalTextEdits","startLine","endLine","startCharacter","endCharacter","Information","Hint","severity","_i","newText","insert","del","VersionedTextDocumentIdentifier","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","TextDocumentIdentifier","TextDocumentItem","MarkupContent","InsertTextFormat","InsertReplaceEdit","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolInformation","CodeActionContext","CodeAction","FormattingOptions","SelectionRange","TextEditChangeImpl","all","WorkspaceChange","_this","_textEditChanges","_workspaceEdit","textEditChange","configurable","getTextEditChange","textDocumentEdit","createFile","checkDocumentChanges","renameFile","deleteFile","languageId","text","isIncomplete","fromPlainText","plainText","language","contents","documentation","parameters","Read","Write","containerName","detail","selectionRange","deprecated","tags","SourceFixAll","only","commandOrEdit","isPreferred","tabSize","insertSpaces","parent","TextDocument","EOL","content","FullTextDocument","lineCount","getText","positionAt","offsetAt","applyEdits","sortedEdits","mergeSort","left","right","leftIdx","rightIdx","lastModifiedOffset","startOffset","endOffset","substring","_uri","_languageId","_version","_content","_lineOffsets","update","getLineOffsets","lineOffsets","isLineStart","charAt","offset","mid","lineOffset","nextLineOffset","protocol_implementation_1","ImplementationRequest","protocol_typeDefinition_1","TypeDefinitionRequest","protocol_workspaceFolders_1","WorkspaceFoldersRequest","DidChangeWorkspaceFoldersNotification","protocol_configuration_1","protocol_colorProvider_1","DocumentColorRequest","ColorPresentationRequest","protocol_foldingRange_1","FoldingRangeRequest","protocol_declaration_1","DeclarationRequest","protocol_selectionRange_1","SelectionRangeRequest","protocol_progress_1","WorkDoneProgressCreateRequest","protocol_callHierarchy_1","DocumentFilter","DocumentSelector","CallHierarchyIncomingCallsRequest","CallHierarchyOutgoingCallsRequest","CallHierarchyPrepareRequest","pattern","Abort","Transactional","Undo","hasWorkDoneProgress","InitializeError","unknownProtocolVersion","Log","TextDocumentSaveReason","Manual","AfterDelay","FocusOut","CompletionTriggerKind","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","resultType","SignatureHelpTriggerKind","ContentChange","resultId","proto","protocolCompletionItem_1","protocolCodeLens_1","protocolDocumentLink_1","InsertReplaceRange","inserting","replacing","uriConverter","_uriConverter","asVersionedTextDocumentIdentifier","asTextDocumentSaveReason","reason","asCompletionTriggerKind","triggerKind","asSignatureHelpTriggerKind","Invoke","asParameterInformation","asSignatureInformation","asWorkerPosition","asLocation","asDiagnosticSeverity","asDiagnosticTag","tag","asRelatedInformation","asDiagnostic","asDiagnosticCode","converted","asDiagnosticTags","asCompletionItemTag","asTextEdit","asSymbolTag","isTextDocument","isTextDocumentChangeEvent","rangeLength","includeContent","triggerCharacter","isRetrigger","activeSignatureHelp","signatures","activeSignature","activeParameter","asPositions","protocolItem","original","asDocumentation","filterText","insertText","SnippetString","insertTextFormat","fromEdit","asCompletionTextEdit","fillPrimaryInsertText","originalItemKind","sortText","commitCharacters","preselect","asCompletionItemTags","asSymbolKind","asSymbolTags","includeDeclaration","tooltip","ls","CodeBlock","diagnostic","asDiagnosticRelatedInformation","information","MarkdownString","asCompletionRange","asCompletionInsertText","itemKind","asSignatureInformations","asParameterInformations","asLocationLink","asLocationResult","asDocumentHighlight","asDocumentHighlightKind","asSymbolInformation","fillTags","asDocumentSymbol","child","includes","kindMapping","asCodeActionKind","asColor","asColorInformation","ci","asColorPresentation","presentation","asFoldingRangeKind","Comment","Imports","Region","asFoldingRange","asSelectionRange","asRanges","hover","appendCodeblock","appendMarkdown","appendText","asHoverContent","SignatureHelp","asDeclarationResult","asCommands","asFoldingRanges","foldingRanges","asColorInformations","colorInformation","asColorPresentations","colorPresentations","asSelectionRanges","selectionRanges","defaultDelay","completionPromise","onSuccess","task","delay","cancelTimeout","getRegistration","colorProvider","provideColorPresentations","requestParams","provideDocumentColors","registerColorProvider","implementationSupport","implementationProvider","provideImplementation","registerImplementationProvider","typeDefinitionSupport","typeDefinitionProvider","provideTypeDefinition","registerTypeDefinitionProvider","arrayDiff","access","initializeWithFolders","asProtocol","currentWorkspaceFolders","_initialFolders","removed","added","doSendEvent","addedFolders","removedFolders","onDidChangeWorkspaceFolders","didChangeWorkspaceFolders","sendInitialEvent","rangeLimit","lineFoldingOnly","foldingRangeProvider","provideFoldingRanges","registerFoldingRangeProvider","declarationSupport","declarationProvider","provideDeclaration","registerDeclarationProvider","selectionRangeProvider","provideSelectionRanges","positions","ranges","registerSelectionRangeProvider","protocol2code","code2protocol","asCallHierarchyItem","converter","CallHierarchyItem","asCallHierarchyIncomingCall","CallHierarchyIncomingCall","fromRanges","asCallHierarchyOutgoingCall","CallHierarchyOutgoingCall","asCallHierarchyItems","asCallHierarchyIncomingCalls","asCallHierarchyOutgoingCalls","CallHierarchyProvider","prepareCallHierarchy","provideCallHierarchyIncomingCalls","provideCallHierarchyOutgoingCalls","provideCallHierarchyOutgingCalls","callHierarchyProvider","registerCallHierarchyProvider","vscode","asSemanticTokensEdit","SemanticTokensEdit","deleteCount","Uint32Array","asSemanticTokens","asSemanticTokensEdits","SemanticTokensEdits","asLegend","tokenTypes","namespace","class","enum","interface","struct","typeParameter","parameter","variable","enumMember","function","member","macro","keyword","modifier","comment","regexp","tokenModifiers","declaration","definition","readonly","static","abstract","modification","defaultLibrary","semanticTokensProvider","documentProvider","provideDocumentSemanticTokens","provideDocumentSemanticTokensEdits","previousResultId","rangeProvider","provideDocumentRangeSemanticTokens","legend","registerDocumentSemanticTokensProvider","registerDocumentRangeSemanticTokensProvider","path_1","isWindows","isMacintosh","isLinux","execFileSync","cmd","__dirname","spawnSync","MessageFormat","BundleFormat","LocalizeInfo","resolvedBundles","isPseudo","isDefined","isNumber","isString","readJsonFileSync","filename","readFileSync","replacement","createScopedLocalizeFunction","localize","cacheBundle","bundle","loadNlsBundleOrCreateFromI18n","bundlePath","cacheRoot","hash","useMemoryOnly","writeBundle","flag","utimes","SyntaxError","unlink","metaDataPath","languagePackLocation","translationsConfig","languagePack","module_2","entry","translations","outDir","resultMessages","messageKey","translatedMessage","createNLSBundle","writeFileSync","loadDefaultNlsBundle","module_1","createDefaultNlsBundle","loadNlsBundle","languagePackSupport","languagePackId","translationsConfigFile","root","existsSync","findInTheBoxBundle","loadMessageBundle","ext","extname","messageFormat","both","headerFile","dirname","tryFindMetaDataHeaderFile","nlsBundle","module_3","resolvedLanguage","cacheLanguageResolution","locale","resolveLanguage","VSCODE_NLS_CONFIG","vscodeOptions_1","availableLanguages","isBoolean","_languagePackSupport","_cacheRoot","_languagePackId","_translationsConfigFile","_corruptedFile","exists","writeFile","initializeSettings","opts","bundleFormat","standalone","getCustomDataPathsInAllWorkspaces","dataPaths","collect","rootFolder","resolvePath","folderUri","customDataInspect","workspaceFolderValue","workspaceFile","workspaceValue","globalValue","getCustomDataPathsFromAllExtensions","extension","customData","contributes","css","rp","extensionUri","toDispose","pathsInWorkspace","pathsInExtensions","onChange","EventEmitter","newPathsInExtensions","val","idx"],"mappings":"6DACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,gBClFrDhC,EAAOD,QAAUkC,QAAQ,W,6BCKzB,SAASC,EAAS7B,GACd,IAAK,IAAI0B,KAAK1B,EAAQN,EAAQ+B,eAAeC,KAAIhC,EAAQgC,GAAK1B,EAAE0B,IAEpEpB,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMiB,EAAS,EAAQ,IACvBD,EAAS,EAAQ,KACjBA,EAAS,EAAQ,KAIjBnC,EAAQqC,yBAHR,SAAkCC,EAAOC,EAAQC,EAAQC,GACrD,OAAOL,EAAOM,wBAAwBJ,EAAOC,EAAQC,EAAQC,K,6BCRjE7B,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMwB,EAAmB,EAAQ,GACjC,MAAMC,UAA6BD,EAAiBE,aAChD,YAAYC,GACRC,MAAMD,IAGd9C,EAAQ4C,qBAAuBA,EAC/B,MAAMI,UAA4BL,EAAiBM,YAC/C,YAAYH,GACRC,MAAMD,IAGd9C,EAAQgD,oBAAsBA,EAC9B,MAAME,UAAiCP,EAAiBQ,iBACpD,YAAYL,GACRC,MAAMD,IAGd9C,EAAQkD,yBAA2BA,EACnC,MAAME,UAAkCT,EAAiBU,kBACrD,YAAYP,GACRC,MAAMD,IAGd9C,EAAQoD,0BAA4BA,G,6BC1BpCxC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IAKtD,MAAMmC,EAAQ,EAAQ,IAEtBA,EAAMC,QAAQC,UACd,MAAMC,EAAQ,EAAQ,IAChBC,EAAO,EAAQ,GACfC,EAAK,EAAQ,IACbC,EAAW,EAAQ,IACnBC,EAAQ,EAAQ,KAftB,SAAkBvD,GACd,IAAK,IAAI0B,KAAK1B,EAAQN,EAAQ+B,eAAeC,KAAIhC,EAAQgC,GAAK1B,EAAE0B,IAepEG,CAAS,EAAQ,KACjB,MAAM2B,UAAyBL,EAAMM,sBACjC,YAAYC,GACRjB,QACAkB,KAAKD,QAAUA,EACf,IAAIE,EAAeD,KAAKD,QACxBE,EAAaC,GAAG,QAAUC,GAAUH,KAAKI,UAAUD,IACnDF,EAAaC,GAAG,QAAS,IAAMF,KAAKK,aAExC,OAAOC,GAEH,OADAN,KAAKD,QAAQG,GAAG,UAAWI,GACpBd,EAAMe,WAAWhD,OAAO,IAAMyC,KAAKD,QAAQS,IAAI,UAAWF,KAGzEvE,EAAQ8D,iBAAmBA,EAC3B,MAAMY,UAAyBjB,EAAMkB,sBACjC,YAAYX,GACRjB,QACAkB,KAAKD,QAAUA,EACfC,KAAKW,WAAa,EAClB,IAAIV,EAAeD,KAAKD,QACxBE,EAAaC,GAAG,QAAUC,GAAUH,KAAKI,UAAUD,IACnDF,EAAaC,GAAG,QAAS,IAAMF,KAAKK,WAExC,MAAMO,GACF,IAYI,MAXiC,mBAAtBZ,KAAKD,QAAQc,MACpBb,KAAKD,QAAQc,KAAKD,OAAKE,OAAWA,EAAYX,IACtCA,GACAH,KAAKW,aACLX,KAAKe,YAAYZ,EAAOS,IAGxBZ,KAAKW,WAAa,IAIvBK,QAAQC,UAEnB,MAAOd,GAEH,OADAH,KAAKe,YAAYZ,EAAOS,GACjBI,QAAQE,OAAOf,IAG9B,YAAYA,EAAOS,GACfZ,KAAKW,aACLX,KAAKI,UAAUD,EAAOS,EAAKZ,KAAKW,aAGxC5E,EAAQ0E,iBAAmBA,EAC3B,MAAMU,UAA4B3B,EAAM4B,4BACpC,YAAYC,EAAQC,EAAW,SAC3BxC,MAAMO,EAAMC,UAAUiC,OAAOC,iBAAiBH,GAASC,IAG/DvF,EAAQoF,oBAAsBA,EAC9B,MAAMM,UAA4BjC,EAAMkC,6BACpC,YAAYL,EAAQ7C,GAChBM,MAAMO,EAAMC,UAAUiC,OAAOI,iBAAiBN,GAAS7C,GACvDwB,KAAKqB,OAASA,EAElB,UACIvC,MAAM8C,UACN5B,KAAKqB,OAAOQ,WAGpB9F,EAAQ0F,oBAAsBA,EAC9B,MAAMK,UAA4BtC,EAAM4B,4BACpC,YAAYW,EAAST,GACjBxC,MAAMO,EAAMC,UAAUiC,OAAOC,iBAAiBO,GAAUT,IAGhEvF,EAAQ+F,oBAAsBA,EAC9B,MAAME,UAA4BxC,EAAMkC,6BACpC,YAAYO,EAAUzD,GAClBM,MAAMO,EAAMC,UAAUiC,OAAOI,iBAAiBM,GAAWzD,IAGjEzC,EAAQiG,oBAAsBA,EAW9BjG,EAAQmG,uBAVR,WACI,MAAMC,EAAexC,EAASyC,YAAY,IAAIC,SAAS,OACvD,MAAyB,UAArBtC,QAAQuC,SACD,+BAA+BH,SAI/B1C,EAAK8C,KAAK7C,EAAG8C,SAAU,UAAUL,WA0BhDpG,EAAQ0G,0BAtBR,SAAmCC,EAAUpB,EAAW,SACpD,IAAIqB,EACJ,MAAMC,EAAY,IAAI5B,QAAQ,CAACC,EAAS4B,KACpCF,EAAiB1B,IAErB,OAAO,IAAID,QAAQ,CAACC,EAASC,KACzB,IAAI4B,EAASlD,EAAMmD,aAAc1B,IAC7ByB,EAAOE,QACPL,EAAe,CACX,IAAIxB,EAAoBE,EAAQC,GAChC,IAAIG,EAAoBJ,EAAQC,OAGxCwB,EAAO5C,GAAG,QAASgB,GACnB4B,EAAOG,OAAOP,EAAU,KACpBI,EAAOI,eAAe,QAAShC,GAC/BD,EAAQ,CACJkC,YAAa,IAAeP,SAa5C7G,EAAQqH,0BAPR,SAAmCV,EAAUpB,EAAW,SACpD,MAAMD,EAASzB,EAAMyD,iBAAiBX,GACtC,MAAO,CACH,IAAIvB,EAAoBE,EAAQC,GAChC,IAAIG,EAAoBJ,EAAQC,KA0BxCvF,EAAQuH,4BAtBR,SAAqCC,EAAMjC,EAAW,SAClD,IAAIqB,EACJ,MAAMC,EAAY,IAAI5B,QAAQ,CAACC,EAAS4B,KACpCF,EAAiB1B,IAErB,OAAO,IAAID,QAAQ,CAACC,EAASC,KACzB,MAAM4B,EAASlD,EAAMmD,aAAc1B,IAC/ByB,EAAOE,QACPL,EAAe,CACX,IAAIxB,EAAoBE,EAAQC,GAChC,IAAIG,EAAoBJ,EAAQC,OAGxCwB,EAAO5C,GAAG,QAASgB,GACnB4B,EAAOG,OAAOM,EAAM,YAAa,KAC7BT,EAAOI,eAAe,QAAShC,GAC/BD,EAAQ,CACJkC,YAAa,IAAeP,SAa5C7G,EAAQyH,4BAPR,SAAqCD,EAAMjC,EAAW,SAClD,MAAMD,EAASzB,EAAMyD,iBAAiBE,EAAM,aAC5C,MAAO,CACH,IAAIpC,EAAoBE,EAAQC,GAChC,IAAIG,EAAoBJ,EAAQC,KAqBxCvF,EAAQ0C,wBAXR,SAAiCJ,EAAOC,EAAQC,EAAQC,GAC/CD,IACDA,EAASiB,EAAMiE,YAEnB,MAAMC,OATkB5C,KADH5D,EAUUmB,GATlB4E,aAAuCnC,IAAf5D,EAAMyG,KASHtF,EAAQ,IAAIyD,EAAoBzD,GAV5E,IAAyBnB,EAWrB,MAAM0G,EARV,SAAyB1G,GACrB,YAAuB4D,IAAhB5D,EAAM2G,YAAqC/C,IAAd5D,EAAM4G,IAO3BC,CAAgBzF,GAAUA,EAAS,IAAI0D,EAAoB1D,GAI1E,OAHIkB,EAAMwE,mBAAmBC,GAAGzF,KAC5BA,EAAU,CAAE0F,mBAAoB1F,IAE7BgB,EAAMf,wBAAwBiF,EAAQE,EAAQrF,EAAQC,K,6BCnLjE7B,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQoI,mBAAqBpI,EAAQqI,kBAAoBrI,EAAQsI,oBAAsBtI,EAAQuI,MAAQvI,EAAQwI,sBAAwBxI,EAAQyI,YAAczI,EAAQ0I,iBAAc,EACnL,MAAMC,EAAW,EAAQ,GACnBC,EAAmC,EAAQ,GAC3CC,EAAkB,EAAQ,IAC1BC,EAAM,EAAQ,IACdC,EAAM,EAAQ,IACdC,EAAK,EAAQ,GACbC,EAAU,EAAQ,IAClBC,EAAO,EAAQ,IACfC,EAAiB,EAAQ,IAC/B,MAAMC,EACF,MAAMC,GACFT,EAAiCU,MAAMC,QAAQnF,MAAMiF,GAEzD,KAAKA,GACDT,EAAiCU,MAAMC,QAAQC,KAAKH,GAExD,KAAKA,GACDT,EAAiCU,MAAMC,QAAQE,KAAKJ,GAExD,IAAIA,GACAT,EAAiCU,MAAMC,QAAQG,IAAIL,IAmD3D,IAAIX,EAcAD,EAwCAD,EAOAD,EAMAoB,GAlEJ,SAAWjB,GAIPA,EAAYA,EAAsB,SAAI,GAAK,WAI3CA,EAAYA,EAAsB,SAAI,GAAK,WAR/C,CASGA,EAAc1I,EAAQ0I,cAAgB1I,EAAQ0I,YAAc,KAK/D,SAAWD,GAIPA,EAAYA,EAA0B,aAAI,GAAK,eAI/CA,EAAYA,EAAqB,QAAI,GAAK,UAR9C,CASGA,EAAczI,EAAQyI,cAAgBzI,EAAQyI,YAAc,KAC/D,MAAMmB,EACF,YAAYnJ,GACRwD,KAAKxD,KAAOA,EACZwD,KAAK4F,SAAW,GAEpB,MAAMC,EAAQC,EAAUC,GACpB,OAAIA,GAASA,GAAS,EACXtB,EAAYuB,SAEhBvB,EAAYwB,SAEvB,SAEI,GADAjG,KAAK4F,SAASM,KAAKC,KAAKC,OACpBpG,KAAK4F,SAASS,OAAS,EACvB,OAAO7B,EAAY8B,QAInB,OADWtG,KAAK4F,SAAS5F,KAAK4F,SAASS,OAAS,GAAKrG,KAAK4F,SAAS,IACvD,MACRlB,EAAS6B,OAAOC,iBAAiB,OAAOxG,KAAKxD,wFACtCgI,EAAYiC,eAGnBzG,KAAK4F,SAASc,QACPlC,EAAY8B,WAMnC,SAAW/B,GACPA,EAAsBA,EAA4B,KAAI,GAAK,OAC3DA,EAAsBA,EAA4B,KAAI,GAAK,OAC3DA,EAAsBA,EAA6B,MAAI,GAAK,QAC5DA,EAAsBA,EAA6B,MAAI,GAAK,QAJhE,CAKGA,EAAwBxI,EAAQwI,wBAA0BxI,EAAQwI,sBAAwB,KAE7F,SAAWD,GACPA,EAAMA,EAAe,QAAI,GAAK,UAC9BA,EAAMA,EAAgB,SAAI,GAAK,WAC/BA,EAAMA,EAAe,QAAI,GAAK,UAHlC,CAIGA,EAAQvI,EAAQuI,QAAUvI,EAAQuI,MAAQ,KAE7C,SAAWoB,GACPA,EAAYA,EAAqB,QAAI,GAAK,UAC1CA,EAAYA,EAAsB,SAAI,GAAK,WAC3CA,EAAYA,EAAyB,YAAI,GAAK,cAC9CA,EAAYA,EAAqB,QAAI,GAAK,UAC1CA,EAAYA,EAAsB,SAAI,GAAK,WAC3CA,EAAYA,EAAqB,QAAI,GAAK,UAN9C,CAOGA,IAAgBA,EAAc,KACjC,MAAMiB,EAAuB,CACzBhC,EAAiCiC,WAAWC,KAC5ClC,EAAiCiC,WAAWE,OAC5CnC,EAAiCiC,WAAWG,UAC5CpC,EAAiCiC,WAAWI,QAC5CrC,EAAiCiC,WAAWK,MAC5CtC,EAAiCiC,WAAWM,OAC5CvC,EAAiCiC,WAAWO,SAC5CxC,EAAiCiC,WAAWQ,MAC5CzC,EAAiCiC,WAAWS,YAC5C1C,EAAiCiC,WAAWU,KAC5C3C,EAAiCiC,WAAWW,UAC5C5C,EAAiCiC,WAAWY,SAC5C7C,EAAiCiC,WAAWa,SAC5C9C,EAAiCiC,WAAWc,SAC5C/C,EAAiCiC,WAAWe,OAC5ChD,EAAiCiC,WAAWgB,OAC5CjD,EAAiCiC,WAAWiB,QAC5ClD,EAAiCiC,WAAWkB,MAC5CnD,EAAiCiC,WAAWjK,OAC5CgI,EAAiCiC,WAAWmB,IAC5CpD,EAAiCiC,WAAWoB,KAC5CrD,EAAiCiC,WAAWqB,WAC5CtD,EAAiCiC,WAAWsB,OAC5CvD,EAAiCiC,WAAWuB,MAC5CxD,EAAiCiC,WAAWwB,SAC5CzD,EAAiCiC,WAAWyB,eAE1CC,EAA+B,CACjC3D,EAAiC4D,mBAAmBC,KACpD7D,EAAiC4D,mBAAmBrB,OACpDvC,EAAiC4D,mBAAmBf,SACpD7C,EAAiC4D,mBAAmBlB,YACpD1C,EAAiC4D,mBAAmBnB,MACpDzC,EAAiC4D,mBAAmBd,SACpD9C,EAAiC4D,mBAAmBtB,MACpDtC,EAAiC4D,mBAAmBhB,UACpD5C,EAAiC4D,mBAAmBzB,OACpDnC,EAAiC4D,mBAAmBpB,SACpDxC,EAAiC4D,mBAAmBE,KACpD9D,EAAiC4D,mBAAmBG,MACpD/D,EAAiC4D,mBAAmBjB,KACpD3C,EAAiC4D,mBAAmBI,QACpDhE,EAAiC4D,mBAAmBK,QACpDjE,EAAiC4D,mBAAmBM,MACpDlE,EAAiC4D,mBAAmB1B,KACpDlC,EAAiC4D,mBAAmBO,UACpDnE,EAAiC4D,mBAAmBQ,OACpDpE,EAAiC4D,mBAAmBN,WACpDtD,EAAiC4D,mBAAmBb,SACpD/C,EAAiC4D,mBAAmBL,OACpDvD,EAAiC4D,mBAAmBJ,MACpDxD,EAAiC4D,mBAAmBH,SACpDzD,EAAiC4D,mBAAmBF,eAElDW,EAAsB,CACxBrE,EAAiCsE,UAAUC,YAE/C,SAASC,EAAOC,EAAQ5L,GAIpB,YAHoB,IAAhB4L,EAAO5L,KACP4L,EAAO5L,GAAO,IAEX4L,EAAO5L,GAElB,IAAI6L,GACJ,SAAWA,GAKPA,EAAepF,GAJf,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,GAAavE,EAAGwE,KAAKD,EAAUE,WAAazE,EAAGwE,KAAKD,EAAUG,aAAe1E,EAAGwE,KAAKD,EAAU1H,eAAmC,IAAvB0H,EAAUI,UAHpI,CAMGL,IAAmBA,EAAiB,KACvC,MAAMM,EACF,YAAYC,EAASC,EAAQC,EAAOC,EAAaC,EAAeC,GAC5DjK,KAAK4J,QAAUA,EACf5J,KAAK6J,OAASA,EACd7J,KAAK8J,MAAQA,EACb9J,KAAK+J,YAAcA,EACnB/J,KAAKgK,cAAgBA,EACrBhK,KAAKiK,gBAAkBA,EACvBjK,KAAKkK,WAAa,IAAIC,IAE1B,0BAA0BC,EAAWC,GACjC,IAAK,MAAMC,KAAYF,EACnB,GAAI1F,EAAS6F,UAAUC,MAAMF,EAAUD,GACnC,OAAO,EAGf,OAAO,EAEX,SAASvE,EAAU2E,GACVA,EAAKC,gBAAgBC,mBAGrB3K,KAAK4K,YACN5K,KAAK4K,UAAY5K,KAAK6J,OAAO7J,KAAKM,SAAUN,OAEhDA,KAAKkK,WAAWW,IAAIJ,EAAKK,GAAIL,EAAKC,gBAAgBC,mBAEtD,SAASF,GACAzK,KAAKiK,kBAAmBjK,KAAKiK,gBAAgBjK,KAAKkK,WAAWa,SAAUN,KACpEzK,KAAK+J,YACL/J,KAAK+J,YAAYU,EAAOA,GAASzK,KAAK4J,QAAQoB,iBAAiBhL,KAAK8J,MAAO9J,KAAKgK,cAAcS,KAG9FzK,KAAK4J,QAAQoB,iBAAiBhL,KAAK8J,MAAO9J,KAAKgK,cAAcS,IAEjEzK,KAAKiL,iBAAiBR,IAG9B,iBAAiBS,IAEjB,WAAWJ,GACP9K,KAAKkK,WAAWiB,OAAOL,GACM,IAAzB9K,KAAKkK,WAAWkB,MAAcpL,KAAK4K,YACnC5K,KAAK4K,UAAUhJ,UACf5B,KAAK4K,eAAY9J,GAGzB,UACId,KAAKkK,WAAWmB,QACZrL,KAAK4K,YACL5K,KAAK4K,UAAUhJ,UACf5B,KAAK4K,eAAY9J,GAGzB,YAAYwK,GACR,IAAK,MAAMhB,KAAYtK,KAAKkK,WAAWa,SACnC,GAAIrG,EAAS6F,UAAUC,MAAMF,EAAUgB,GACnC,MAAO,CACHzK,KAAO4J,IACHzK,KAAKM,SAASmK,KAK9B,MAAM,IAAIc,MAAM,sDAGxB,MAAMC,UAAmC7B,EACrC,YAAY8B,EAAQC,GAChB5M,MAAM2M,EAAQ/G,EAASiH,UAAUC,sBAAuBjH,EAAiCkH,gCAAgCC,KAAML,EAAOM,cAAcC,WAAWC,QAAU5B,GAAiBoB,EAAOS,uBAAuBC,yBAAyB9B,GAAeV,EAAsByC,oBACtRpM,KAAK0L,iBAAmBA,EAE5B,eACI,OAAO/G,EAAiCkH,gCAAgCC,KAE5E,uBAAuBO,GACnBlD,EAAOA,EAAOkD,EAAc,gBAAiB,mBAAmBC,qBAAsB,EAE1F,WAAWD,EAAc1B,GACrB,IAAI4B,EAA0BF,EAAaG,yBACvC7B,GAAoB4B,GAA2BA,EAAwBE,WACvEzM,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAI7F,EAAKyH,eAAgBhC,gBAAiB,CAAEC,iBAAkBA,KAGrG,SAASvF,EAASqF,GAEd,GADA3L,MAAM0K,SAASpE,EAASqF,IACnBA,EAAKC,gBAAgBC,iBACtB,OAEJ,IAAIA,EAAmBF,EAAKC,gBAAgBC,iBAC5CjG,EAASiH,UAAUgB,cAAcC,QAASvC,IACtC,IAAIwC,EAAMxC,EAAawC,IAAIxK,WAC3B,IAAIrC,KAAK0L,iBAAiBoB,IAAID,IAG1BnI,EAAS6F,UAAUC,MAAMG,EAAkBN,GAAe,CAC1D,IAAI2B,EAAahM,KAAK4J,QAAQmC,cAAcC,WACxCC,EAAW5B,IACXrK,KAAK4J,QAAQoB,iBAAiBhL,KAAK8J,MAAO9J,KAAKgK,cAAcK,KAE7D2B,EAAWC,QACXD,EAAWC,QAAQ5B,EAAc4B,GAGjCA,EAAQ5B,GAEZrK,KAAK0L,iBAAiBb,IAAIgC,EAAKxC,MAI3C,iBAAiBA,GACbvL,MAAMmM,iBAAiBZ,GACvBrK,KAAK0L,iBAAiBb,IAAIR,EAAawC,IAAIxK,WAAYgI,IAG/D,MAAM0C,UAAoCpD,EACtC,YAAY8B,EAAQC,GAChB5M,MAAM2M,EAAQ/G,EAASiH,UAAUqB,uBAAwBrI,EAAiCsI,iCAAiCnB,KAAML,EAAOM,cAAcC,WAAWkB,SAAW7C,GAAiBoB,EAAOS,uBAAuBiB,0BAA0B9C,GAAeV,EAAsByC,oBAC1RpM,KAAK0L,iBAAmBA,EAE5B,eACI,OAAO/G,EAAiCsI,iCAAiCnB,KAE7E,uBAAuBO,GACnBlD,EAAOA,EAAOkD,EAAc,gBAAiB,mBAAmBC,qBAAsB,EAE1F,WAAWD,EAAc1B,GACrB,IAAI4B,EAA0BF,EAAaG,yBACvC7B,GAAoB4B,GAA2BA,EAAwBE,WACvEzM,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAI7F,EAAKyH,eAAgBhC,gBAAiB,CAAEC,iBAAkBA,KAGrG,iBAAiBN,GACbvL,MAAMmM,iBAAiBZ,GACvBrK,KAAK0L,iBAAiBP,OAAOd,EAAawC,IAAIxK,YAElD,WAAWyI,GACP,IAAIR,EAAWtK,KAAKkK,WAAWpN,IAAIgO,GAGnChM,MAAM2K,WAAWqB,GACjB,IAAIV,EAAYpK,KAAKkK,WAAWa,SAChC/K,KAAK0L,iBAAiBkB,QAASvC,IAC3B,GAAI3F,EAAS6F,UAAUC,MAAMF,EAAUD,KAAkBrK,KAAKiK,gBAAgBG,EAAWC,GAAe,CACpG,IAAI2B,EAAahM,KAAK4J,QAAQmC,cAAcC,WACxCkB,EAAY7C,IACZrK,KAAK4J,QAAQoB,iBAAiBhL,KAAK8J,MAAO9J,KAAKgK,cAAcK,KAEjErK,KAAK0L,iBAAiBP,OAAOd,EAAawC,IAAIxK,YAC1C2J,EAAWkB,SACXlB,EAAWkB,SAAS7C,EAAc6C,GAGlCA,EAAS7C,OAM7B,MAAM+C,EACF,YAAYxD,GACR5J,KAAK4J,QAAUA,EACf5J,KAAKqN,YAAc,IAAIlD,IACvBnK,KAAKsN,kBAAmB,EAE5B,eACI,OAAO3I,EAAiC4I,kCAAkCzB,KAE9E,uBAAuBO,GACnBlD,EAAOA,EAAOkD,EAAc,gBAAiB,mBAAmBC,qBAAsB,EAE1F,WAAWD,EAAc1B,GACrB,IAAI4B,EAA0BF,EAAaG,yBACvC7B,GAAoB4B,QAA8D,IAAnCA,EAAwBiB,QAAqBjB,EAAwBiB,SAAW7I,EAAiC8I,qBAAqBC,MACrL1N,KAAKwJ,SAASxJ,KAAK0J,SAAU,CACzBoB,GAAI7F,EAAKyH,eACThC,gBAAiB/N,OAAOgR,OAAO,GAAI,CAAEhD,iBAAkBA,GAAoB,CAAEiD,SAAUrB,EAAwBiB,WAI3H,SAAS1H,EAAU2E,GACVA,EAAKC,gBAAgBC,mBAGrB3K,KAAK4K,YACN5K,KAAK4K,UAAYlG,EAASiH,UAAUkC,wBAAwB7N,KAAKM,SAAUN,OAE/EA,KAAKqN,YAAYxC,IAAIJ,EAAKK,GAAI,CAC1BH,iBAAkBF,EAAKC,gBAAgBC,iBACvCiD,SAAUnD,EAAKC,gBAAgBkD,YAGvC,SAASE,GAIL,GAAoC,IAAhCA,EAAMC,eAAe1H,OAGzB,IAAK,MAAM2H,KAAchO,KAAKqN,YAAYtC,SACtC,GAAIrG,EAAS6F,UAAUC,MAAMwD,EAAWrD,iBAAkBmD,EAAMxC,UAAW,CACvE,IAAIU,EAAahM,KAAK4J,QAAQmC,cAAcC,WAC5C,GAAIgC,EAAWJ,WAAajJ,EAAiC8I,qBAAqBQ,YAAa,CAC3F,IAAIC,EAASlO,KAAK4J,QAAQsC,uBAAuBiC,2BAA2BL,GACxE9B,EAAWoC,UACXpC,EAAWoC,UAAUN,EAAO,IAAM9N,KAAK4J,QAAQoB,iBAAiBrG,EAAiC4I,kCAAkCzB,KAAMoC,IAGzIlO,KAAK4J,QAAQoB,iBAAiBrG,EAAiC4I,kCAAkCzB,KAAMoC,QAG1G,GAAIF,EAAWJ,WAAajJ,EAAiC8I,qBAAqBY,KAAM,CACzF,IAAID,EAAaN,IACT9N,KAAKsO,gBACDtO,KAAKsO,eAAezB,MAAQiB,EAAMxC,SAASuB,IAAIxK,aAE/CrC,KAAKuO,gBACLvO,KAAKsO,eAAezB,IAAMiB,EAAMxC,SAASuB,IAAIxK,YAEjDrC,KAAKsO,eAAeE,QAAQC,QAAQ,KAChCzO,KAAK4J,QAAQoB,iBAAiBrG,EAAiC4I,kCAAkCzB,KAAM9L,KAAK4J,QAAQsC,uBAAuBiC,2BAA2BL,EAAMxC,eAIhLtL,KAAKsO,eAAiB,CAClBzB,IAAKiB,EAAMxC,SAASuB,IAAIxK,WACxBmM,QAAS,IAAIxJ,EAAQ0J,QAAQ,MAEjC1O,KAAKsO,eAAeE,QAAQC,QAAQ,KAChCzO,KAAK4J,QAAQoB,iBAAiBrG,EAAiC4I,kCAAkCzB,KAAM9L,KAAK4J,QAAQsC,uBAAuBiC,2BAA2BL,EAAMxC,aAC5K,KAGRU,EAAWoC,UACXpC,EAAWoC,UAAUN,EAAOM,GAG5BA,EAAUN,KAM9B,WAAWhD,GACP9K,KAAKqN,YAAYlC,OAAOL,GACM,IAA1B9K,KAAKqN,YAAYjC,MAAcpL,KAAK4K,YACpC5K,KAAK4K,UAAUhJ,UACf5B,KAAK4K,eAAY9J,GAGzB,UACId,KAAKsO,oBAAiBxN,EACtBd,KAAKsN,kBAAmB,EACxBtN,KAAKqN,YAAYhC,QACbrL,KAAK4K,YACL5K,KAAK4K,UAAUhJ,UACf5B,KAAK4K,eAAY9J,GAGzB,gBACI,IAAId,KAAKsN,kBAAqBtN,KAAKsO,eAGnC,IACItO,KAAKsN,kBAAmB,EACxBtN,KAAKsO,eAAeE,QAAQD,gBAEhC,QACIvO,KAAKsN,kBAAmB,GAGhC,YAAYhC,GACR,IAAK,MAAM0C,KAAchO,KAAKqN,YAAYtC,SACtC,GAAIrG,EAAS6F,UAAUC,MAAMwD,EAAWrD,iBAAkBW,GACtD,MAAO,CACHzK,KAAOiN,IACH9N,KAAKM,SAASwN,KAK9B,MAAM,IAAIvC,MAAM,sDAGxB,MAAMoD,UAAwBhF,EAC1B,YAAY8B,GACR3M,MAAM2M,EAAQ/G,EAASiH,UAAUiD,uBAAwBjK,EAAiCkK,iCAAiC/C,KAAML,EAAOM,cAAcC,WAAW8C,SAAWC,GAAkBtD,EAAOS,uBAAuB8C,6BAA6BD,GAAgB,CAAC3E,EAAW2E,IAAkBpF,EAAsByC,mBAAmBhC,EAAW2E,EAAczD,WAE7W,eACI,OAAO3G,EAAiCkK,iCAAiC/C,KAE7E,uBAAuBO,GACPlD,EAAOA,EAAOkD,EAAc,gBAAiB,mBACnDyC,UAAW,EAErB,WAAWzC,EAAc1B,GACrB,IAAI4B,EAA0BF,EAAaG,yBACvC7B,GAAoB4B,GAA2BA,EAAwBuC,UACvE9O,KAAKwJ,SAASxJ,KAAK0J,SAAU,CACzBoB,GAAI7F,EAAKyH,eACThC,gBAAiB,CAAEC,iBAAkBA,MAKrD,MAAMsE,EACF,YAAYrF,GACR5J,KAAK4J,QAAUA,EACf5J,KAAKkK,WAAa,IAAIC,IAE1B,eACI,OAAOxF,EAAiCuK,qCAAqCpD,KAEjF,uBAAuBO,GACPlD,EAAOA,EAAOkD,EAAc,gBAAiB,mBACnD8C,mBAAoB,EAE9B,WAAW9C,EAAc1B,GACrB,IAAI4B,EAA0BF,EAAaG,yBACvC7B,GAAoB4B,GAA2BA,EAAwB4C,mBACvEnP,KAAKwJ,SAASxJ,KAAK0J,SAAU,CACzBoB,GAAI7F,EAAKyH,eACThC,gBAAiB,CAAEC,iBAAkBA,KAIjD,SAAS7E,EAAU2E,GACVA,EAAKC,gBAAgBC,mBAGrB3K,KAAK4K,YACN5K,KAAK4K,UAAYlG,EAASiH,UAAUiD,uBAAuB5O,KAAKM,SAAUN,OAE9EA,KAAKkK,WAAWW,IAAIJ,EAAKK,GAAIL,EAAKC,gBAAgBC,mBAEtD,SAASmD,GACL,GAAInE,EAAsByC,mBAAmBpM,KAAKkK,WAAWa,SAAU+C,EAAMxC,UAAW,CACpF,IAAIU,EAAahM,KAAK4J,QAAQmC,cAAcC,WACxCmD,EAAqBrB,GACd9N,KAAK4J,QAAQwF,YAAYzK,EAAiCuK,qCAAqCpD,KAAM9L,KAAK4J,QAAQsC,uBAAuB8C,6BAA6BlB,IAAQuB,KAAMC,IACvL,IAAIC,EAASvP,KAAK4J,QAAQ4F,uBAAuBC,YAAYH,GAC7D,YAAkB,IAAXC,EAAoB,GAAKA,IAGxCzB,EAAM4B,UAAU1D,EAAWmD,kBACrBnD,EAAWmD,kBAAkBrB,EAAOqB,GACpCA,EAAkBrB,KAGhC,WAAWhD,GACP9K,KAAKkK,WAAWiB,OAAOL,GACM,IAAzB9K,KAAKkK,WAAWkB,MAAcpL,KAAK4K,YACnC5K,KAAK4K,UAAUhJ,UACf5B,KAAK4K,eAAY9J,GAGzB,UACId,KAAKkK,WAAWmB,QACZrL,KAAK4K,YACL5K,KAAK4K,UAAUhJ,UACf5B,KAAK4K,eAAY9J,IAI7B,MAAM6O,UAAmChG,EACrC,YAAY8B,GACR3M,MAAM2M,EAAQ/G,EAASiH,UAAUiE,sBAAuBjL,EAAiCkL,gCAAgC/D,KAAML,EAAOM,cAAcC,WAAW8D,QAAUzF,GAAiBoB,EAAOS,uBAAuB6D,yBAAyB1F,EAAcrK,KAAKgQ,cAAerG,EAAsByC,oBACzSpM,KAAKgQ,cAAe,EAExB,eACI,OAAOrL,EAAiCkL,gCAAgC/D,KAE5E,uBAAuBO,GACnBlD,EAAOA,EAAOkD,EAAc,gBAAiB,mBAAmByD,SAAU,EAE9E,WAAWzD,EAAc1B,GACrB,MAAM4B,EAA0BF,EAAaG,yBAC7C,GAAI7B,GAAoB4B,GAA2BA,EAAwB0D,KAAM,CAC7E,MAAMC,EAAsD,kBAAjC3D,EAAwB0D,KAC7C,CAAEE,aAAa,GACf,CAAEA,cAAe5D,EAAwB0D,KAAKE,aACpDnQ,KAAKwJ,SAASxJ,KAAK0J,SAAU,CACzBoB,GAAI7F,EAAKyH,eACThC,gBAAiB/N,OAAOgR,OAAO,GAAI,CAAEhD,iBAAkBA,GAAoBuF,MAIvF,SAASrR,EAAQ4L,GACbzK,KAAKgQ,eAAiBvF,EAAKC,gBAAgByF,YAC3CrR,MAAM0K,SAAS3K,EAAQ4L,IAG/B,MAAM2F,EACF,YAAYxG,EAASyG,GACjBrQ,KAAK4J,QAAUA,EACf5J,KAAKqQ,iBAAmBA,EACxBrQ,KAAKsQ,UAAY,IAAInG,IAEzB,eACI,OAAOxF,EAAiC4L,kCAAkCzE,KAE9E,uBAAuBO,GACnBlD,EAAOA,EAAOkD,EAAc,aAAc,yBAAyBC,qBAAsB,EAE7F,WAAWkE,EAAeC,IAE1B,SAASC,EAASjG,GACd,IAAK3C,MAAM6I,QAAQlG,EAAKC,gBAAgBkG,UACpC,OAEJ,IAAIC,EAAe,GACnB,IAAK,IAAIC,KAAWrG,EAAKC,gBAAgBkG,SAAU,CAC/C,IAAK7L,EAAGgM,OAAOD,EAAQE,aACnB,SAEJ,IAAIC,GAAc,EAAMC,GAAc,EAAMC,GAAc,OACrC,IAAjBL,EAAQM,MAAoC,OAAjBN,EAAQM,OACnCH,EAAqF,IAAtEH,EAAQM,KAAOzM,EAAiC0M,UAAUC,QACzEJ,EAAqF,IAAtEJ,EAAQM,KAAOzM,EAAiC0M,UAAUE,QACzEJ,EAAqF,IAAtEL,EAAQM,KAAOzM,EAAiC0M,UAAUG,SAE7E,IAAIC,EAAoB/M,EAASiH,UAAU+F,wBAAwBZ,EAAQE,aAAcC,GAAcC,GAAcC,GACrHnR,KAAK2R,cAAcF,EAAmBR,EAAaC,EAAaC,GAChEN,EAAa3K,KAAKuL,GAEtBzR,KAAKsQ,UAAUzF,IAAIJ,EAAKK,GAAI+F,GAEhC,YAAY/F,EAAI8G,GACZ,IAAIf,EAAe,GACnB,IAAK,IAAIY,KAAqBG,EAC1B5R,KAAK2R,cAAcF,GAAmB,GAAM,GAAM,EAAMZ,GAE5D7Q,KAAKsQ,UAAUzF,IAAIC,EAAI+F,GAE3B,cAAcY,EAAmBR,EAAaC,EAAaC,EAAaU,GAChEZ,GACAQ,EAAkBK,YAAaC,GAAa/R,KAAKqQ,iBAAiB,CAC9DxD,IAAK7M,KAAK4J,QAAQsC,uBAAuB8F,MAAMD,GAC/CjG,KAAMnH,EAAiCsN,eAAeC,UACtD,KAAML,GAEVX,GACAO,EAAkBU,YAAaJ,GAAa/R,KAAKqQ,iBAAiB,CAC9DxD,IAAK7M,KAAK4J,QAAQsC,uBAAuB8F,MAAMD,GAC/CjG,KAAMnH,EAAiCsN,eAAeG,UACtD,KAAMP,GAEVV,GACAM,EAAkBY,YAAaN,GAAa/R,KAAKqQ,iBAAiB,CAC9DxD,IAAK7M,KAAK4J,QAAQsC,uBAAuB8F,MAAMD,GAC/CjG,KAAMnH,EAAiCsN,eAAeK,UACtD,KAAMT,GAGlB,WAAW/G,GACP,IAAI+F,EAAe7Q,KAAKsQ,UAAUxT,IAAIgO,GACtC,GAAI+F,EACA,IAAK,IAAI0B,KAAc1B,EACnB0B,EAAW3Q,UAIvB,UACI5B,KAAKsQ,UAAU1D,QAASiE,IACpB,IAAK,IAAI0B,KAAc1B,EACnB0B,EAAW3Q,YAGnB5B,KAAKsQ,UAAUjF,SAGvB,MAAMhH,EACF,YAAYuF,EAAS9D,GACjB9F,KAAK4J,QAAUA,EACf5J,KAAK8F,SAAWA,EAChB9F,KAAKwS,eAAiB,IAAIrI,IAE9B,eACI,OAAOnK,KAAK8F,SAEhB,SAASV,EAASqF,GACd,GAAIrF,EAAQvG,SAAWmB,KAAK0J,SAAS7K,OACjC,MAAM,IAAI0M,MAAM,+CAA+CnG,EAAQvG,8BAA8BmB,KAAK0J,SAAS7K,UAEvH,IAAK4L,EAAKC,gBAAgBC,iBACtB,OAEJ,IAAI8H,EAAezS,KAAK0S,yBAAyBjI,EAAKC,iBACtD1K,KAAKwS,eAAe3H,IAAIJ,EAAKK,GAAI,CAAEyH,WAAYE,EAAa,GAAIhI,OAAMkI,SAAUF,EAAa,KAEjG,WAAW3H,GACP,IAAI2H,EAAezS,KAAKwS,eAAe1V,IAAIgO,QACtBhK,IAAjB2R,GACAA,EAAaF,WAAW3Q,UAGhC,UACI5B,KAAKwS,eAAe5F,QAAS1P,IACzBA,EAAMqV,WAAW3Q,YAErB5B,KAAKwS,eAAenH,QAExB,gBAAgBV,EAAkBiI,GAC9B,IAAKA,EACD,MAAO,MAAC9R,OAAWA,GAElB,GAAI6D,EAAiCkO,gCAAgC5O,GAAG2O,GAAa,CACtF,MAAM9H,EAAKnG,EAAiCmO,0BAA0BC,MAAMH,GAAcA,EAAW9H,GAAK7F,EAAKyH,eACzGpC,EAAWsI,EAAWjI,kBAAoBA,EAChD,GAAIL,EACA,MAAO,CAACQ,EAAInO,OAAOgR,OAAO,GAAIiF,EAAY,CAAEjI,iBAAkBL,UAGjE,GAAIvF,EAAGiO,QAAQJ,KAA8B,IAAfA,GAAuBjO,EAAiCsO,wBAAwBhP,GAAG2O,GAAa,CAC/H,IAAKjI,EACD,MAAO,MAAC7J,OAAWA,GAEvB,IAAItC,EAAWuG,EAAGiO,QAAQJ,KAA8B,IAAfA,EAAsB,CAAEjI,oBAAqBhO,OAAOgR,OAAO,GAAIiF,EAAY,CAAEjI,qBACtH,MAAO,CAAC1F,EAAKyH,eAAgBlO,GAEjC,MAAO,MAACsC,OAAWA,GAEvB,uBAAuB6J,EAAkBiI,GACrC,GAAKjI,GAAqBiI,EAG1B,OAAQ7N,EAAGiO,QAAQJ,KAA8B,IAAfA,EAAsB,CAAEjI,oBAAqBhO,OAAOgR,OAAO,GAAIiF,EAAY,CAAEjI,qBAEnH,YAAYN,GACR,IAAK,MAAMoI,KAAgBzS,KAAKwS,eAAezH,SAAU,CACrD,IAAIT,EAAWmI,EAAahI,KAAKC,gBAAgBC,iBACjD,GAAiB,OAAbL,GAAqB5F,EAAS6F,UAAUC,MAAMF,EAAUD,GACxD,OAAOoI,EAAaE,SAG5B,MAAM,IAAIpH,MAAM,kEAAkElB,EAAawC,IAAIxK,aAG3GtG,EAAQsI,oBAAsBA,EAqC9B,MAAM6O,UAA8B7O,EAChC,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiCwO,kBAAkBrH,MAErE,uBAAuBsH,GACnB,IAAIC,EAAalK,EAAOA,EAAOiK,EAAa,gBAAiB,cAC7DC,EAAW/G,qBAAsB,EACjC+G,EAAWC,gBAAiB,EAC5BD,EAAWE,eAAiB,CACxBC,gBAAgB,EAChBC,yBAAyB,EACzBC,oBAAqB,CAAC/O,EAAiCgP,WAAWC,SAAUjP,EAAiCgP,WAAWE,WACxHC,mBAAmB,EACnBC,kBAAkB,EAClBC,WAAY,CAAEC,SAAU,CAACtP,EAAiCuP,kBAAkBhL,aAC5EiL,sBAAsB,GAE1Bd,EAAWe,mBAAqB,CAAEH,SAAU3L,GAEhD,WAAW+D,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAaiI,oBACtE9V,GAGLwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CACzBoB,GAAI7F,EAAKyH,eACThC,gBAAiBlM,IAGzB,yBAAyBA,GACrB,MAAM+V,EAAoB/V,EAAQ+V,mBAAqB,GACjD5B,EAAW,CACb6B,uBAAwB,CAAClJ,EAAUmJ,EAAUC,EAAOC,KAChD,MAAMlJ,EAASzL,KAAK4J,QACdoC,EAAahM,KAAK4J,QAAQmC,cAAcC,WACxCwI,EAAyB,CAAClJ,EAAUmJ,EAAUE,EAASD,IAClDjJ,EAAO2D,YAAYzK,EAAiCwO,kBAAkBrH,KAAML,EAAOS,uBAAuB0I,mBAAmBtJ,EAAUmJ,EAAUE,GAAUD,GAAOrF,KAAK5D,EAAO+D,uBAAuBqF,mBAAqB1U,GACtNsL,EAAOqJ,oBAAoBnQ,EAAiCwO,kBAAkBrH,KAAM3L,EAAO,OAG1G,OAAO6L,EAAW+I,sBACZ/I,EAAW+I,sBAAsBzJ,EAAUmJ,EAAUE,EAASD,EAAOF,GACrEA,EAAuBlJ,EAAUmJ,EAAUE,EAASD,IAE9DM,sBAAuBxW,EAAQyW,gBACzB,CAACC,EAAMR,KACL,MAAMjJ,EAASzL,KAAK4J,QACdoC,EAAahM,KAAK4J,QAAQmC,cAAcC,WACxCgJ,EAAwB,CAACE,EAAMR,IAC1BjJ,EAAO2D,YAAYzK,EAAiCwQ,yBAAyBrJ,KAAML,EAAOS,uBAAuBkJ,iBAAiBF,GAAOR,GAAOrF,KAAK5D,EAAO+D,uBAAuB4F,iBAAmBjV,GAClMsL,EAAOqJ,oBAAoBnQ,EAAiCwQ,yBAAyBrJ,KAAM3L,EAAO+U,IAGjH,OAAOlJ,EAAWgJ,sBACZhJ,EAAWgJ,sBAAsBE,EAAMR,EAAOM,GAC9CA,EAAsBE,EAAMR,SAEpC5T,GAEV,MAAO,CAAC4D,EAAS6F,UAAU8K,+BAA+B7W,EAAQmM,iBAAkBgI,KAAa4B,GAAoB5B,IAG7H,MAAM2C,UAAqBjR,EACvB,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiC4Q,aAAazJ,MAEhE,uBAAuBsH,GACnB,MAAMoC,EAAmBrM,EAAOA,EAAOiK,EAAa,gBAAiB,SACrEoC,EAAgBlJ,qBAAsB,EACtCkJ,EAAgBC,cAAgB,CAAC9Q,EAAiCgP,WAAWC,SAAUjP,EAAiCgP,WAAWE,WAEvI,WAAWxH,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAaqJ,eACtElX,GAGLwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CACzBoB,GAAI7F,EAAKyH,eACThC,gBAAiBlM,IAGzB,yBAAyBA,GACrB,MAAMmU,EAAW,CACbgD,aAAc,CAACrK,EAAUmJ,EAAUC,KAC/B,MAAMjJ,EAASzL,KAAK4J,QACd+L,EAAe,CAACrK,EAAUmJ,EAAUC,IAC/BjJ,EAAO2D,YAAYzK,EAAiC4Q,aAAazJ,KAAML,EAAOS,uBAAuB0J,6BAA6BtK,EAAUmJ,GAAWC,GAAOrF,KAAK5D,EAAO+D,uBAAuBqG,QAAU1V,GACvMsL,EAAOqJ,oBAAoBnQ,EAAiC4Q,aAAazJ,KAAM3L,EAAO,OAG/F6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAW2J,aACZ3J,EAAW2J,aAAarK,EAAUmJ,EAAUC,EAAOiB,GACnDA,EAAarK,EAAUmJ,EAAUC,KAG/C,MAAO,CAAChQ,EAAS6F,UAAUuL,sBAAsBtX,EAAQmM,iBAAkBgI,GAAWA,IAG9F,MAAMoD,UAA6B1R,EAC/B,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiCqR,qBAAqBlK,MAExE,uBAAuBsH,GACnB,IAAI6C,EAAS9M,EAAOA,EAAOiK,EAAa,gBAAiB,iBACzD6C,EAAO3J,qBAAsB,EAC7B2J,EAAOC,qBAAuB,CAAExC,oBAAqB,CAAC/O,EAAiCgP,WAAWC,SAAUjP,EAAiCgP,WAAWE,YACxJoC,EAAOC,qBAAqBC,qBAAuB,CAAEC,oBAAoB,GACzEH,EAAOC,qBAAqBG,wBAAyB,EACrDJ,EAAO3C,gBAAiB,EAE5B,WAAWjH,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAaiK,uBACtE9X,GAGLwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CACzBoB,GAAI7F,EAAKyH,eACThC,gBAAiBlM,IAGzB,yBAAyBA,GACrB,MAAMmU,EAAW,CACb4D,qBAAsB,CAACjL,EAAUmJ,EAAUC,EAAOC,KAC9C,MAAMlJ,EAASzL,KAAK4J,QACd4M,EAAwB,CAAClL,EAAUmJ,EAAUE,EAASD,IACjDjJ,EAAO2D,YAAYzK,EAAiCqR,qBAAqBlK,KAAML,EAAOS,uBAAuBuK,sBAAsBnL,EAAUmJ,EAAUE,GAAUD,GAAOrF,KAAK5D,EAAO+D,uBAAuBkH,gBAAkBvW,GACzNsL,EAAOqJ,oBAAoBnQ,EAAiCqR,qBAAqBlK,KAAM3L,EAAO,OAGvG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAWuK,qBACZvK,EAAWuK,qBAAqBjL,EAAUmJ,EAAUE,EAASD,EAAO8B,GACpEA,EAAsBlL,EAAUmJ,EAAUE,EAASD,KAGjE,IAAInC,EACJ,QAAoCzR,IAAhCtC,EAAQmY,oBAAmC,CAC3C,MAAMpC,EAAoB/V,EAAQ+V,mBAAqB,GACvDhC,EAAa7N,EAAS6F,UAAUqM,8BAA8BpY,EAAQmM,iBAAkBgI,KAAa4B,OAEpG,CACD,MAAMsC,EAAW,CACbtC,kBAAmB/V,EAAQ+V,mBAAqB,GAChDoC,oBAAqBnY,EAAQmY,qBAAuB,IAExDpE,EAAa7N,EAAS6F,UAAUqM,8BAA8BpY,EAAQmM,iBAAkBgI,EAAUkE,GAEtG,MAAO,CAACtE,EAAYI,IAG5B,MAAMmE,UAA0BzS,EAC5B,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiCoS,kBAAkBjL,MAErE,uBAAuBsH,GACnB,IAAI4D,EAAoB7N,EAAOA,EAAOiK,EAAa,gBAAiB,cACpE4D,EAAkB1K,qBAAsB,EACxC0K,EAAkBC,aAAc,EAEpC,WAAW5K,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAa6K,oBACtE1Y,GAGLwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAI7F,EAAKyH,eAAgBhC,gBAAiBlM,IAE7E,yBAAyBA,GACrB,MAAMmU,EAAW,CACbwE,kBAAmB,CAAC7L,EAAUmJ,EAAUC,KACpC,MAAMjJ,EAASzL,KAAK4J,QACduN,EAAoB,CAAC7L,EAAUmJ,EAAUC,IACpCjJ,EAAO2D,YAAYzK,EAAiCoS,kBAAkBjL,KAAML,EAAOS,uBAAuB0J,6BAA6BtK,EAAUmJ,GAAWC,GAAOrF,KAAK5D,EAAO+D,uBAAuB4H,mBAAqBjX,GACvNsL,EAAOqJ,oBAAoBnQ,EAAiCoS,kBAAkBjL,KAAM3L,EAAO,OAGpG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAWmL,kBACZnL,EAAWmL,kBAAkB7L,EAAUmJ,EAAUC,EAAOyC,GACxDA,EAAkB7L,EAAUmJ,EAAUC,KAGpD,MAAO,CAAChQ,EAAS6F,UAAU8M,2BAA2B7Y,EAAQmM,iBAAkBgI,GAAWA,IAGnG,MAAM2E,UAA0BjT,EAC5B,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiC4S,kBAAkBzL,MAErE,uBAAuBsH,GACnBjK,EAAOA,EAAOiK,EAAa,gBAAiB,cAAc9G,qBAAsB,EAEpF,WAAWD,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAamL,oBACtEhZ,GAGLwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAI7F,EAAKyH,eAAgBhC,gBAAiBlM,IAE7E,yBAAyBA,GACrB,MAAMmU,EAAW,CACb8E,kBAAmB,CAACnM,EAAUmJ,EAAUjW,EAASkW,KAC7C,MAAMjJ,EAASzL,KAAK4J,QACd8N,EAAsB,CAACpM,EAAUmJ,EAAUjW,EAASkW,IAC/CjJ,EAAO2D,YAAYzK,EAAiC4S,kBAAkBzL,KAAML,EAAOS,uBAAuByL,kBAAkBrM,EAAUmJ,EAAUjW,GAAUkW,GAAOrF,KAAK5D,EAAO+D,uBAAuBoI,aAAezX,GAC/MsL,EAAOqJ,oBAAoBnQ,EAAiC4S,kBAAkBzL,KAAM3L,EAAO,OAGpG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAWyL,kBACZzL,EAAWyL,kBAAkBnM,EAAUmJ,EAAUjW,EAASkW,EAAOgD,GACjEA,EAAoBpM,EAAUmJ,EAAUjW,EAASkW,KAG/D,MAAO,CAAChQ,EAAS6F,UAAUsN,0BAA0BrZ,EAAQmM,iBAAkBgI,GAAWA,IAGlG,MAAMmF,UAAiCzT,EACnC,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiCoT,yBAAyBjM,MAE5E,uBAAuBsH,GACnBjK,EAAOA,EAAOiK,EAAa,gBAAiB,qBAAqB9G,qBAAsB,EAE3F,WAAWD,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAa2L,2BACtExZ,GAGLwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAI7F,EAAKyH,eAAgBhC,gBAAiBlM,IAE7E,yBAAyBA,GACrB,MAAMmU,EAAW,CACbsF,0BAA2B,CAAC3M,EAAUmJ,EAAUC,KAC5C,MAAMjJ,EAASzL,KAAK4J,QACdsO,EAA6B,CAAC5M,EAAUmJ,EAAUC,IAC7CjJ,EAAO2D,YAAYzK,EAAiCoT,yBAAyBjM,KAAML,EAAOS,uBAAuB0J,6BAA6BtK,EAAUmJ,GAAWC,GAAOrF,KAAK5D,EAAO+D,uBAAuB2I,qBAAuBhY,GAChOsL,EAAOqJ,oBAAoBnQ,EAAiCoT,yBAAyBjM,KAAM3L,EAAO,OAG3G6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAWiM,0BACZjM,EAAWiM,0BAA0B3M,EAAUmJ,EAAUC,EAAOwD,GAChEA,EAA2B5M,EAAUmJ,EAAUC,KAG7D,MAAO,CAAChQ,EAAS6F,UAAU6N,kCAAkC5Z,EAAQmM,iBAAkBgI,GAAWA,IAG1G,MAAM0F,UAA8BhU,EAChC,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiC2T,sBAAsBxM,MAEzE,uBAAuBsH,GACnB,IAAImF,EAAqBpP,EAAOA,EAAOiK,EAAa,gBAAiB,kBACrEmF,EAAmBjM,qBAAsB,EACzCiM,EAAmBC,WAAa,CAC5BvE,SAAUtN,GAEd4R,EAAmBE,mCAAoC,EACvDF,EAAmBvE,WAAa,CAC5BC,SAAUjL,GAGlB,WAAWqD,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAaqM,wBACtEla,GAGLwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAI7F,EAAKyH,eAAgBhC,gBAAiBlM,IAE7E,yBAAyBA,GACrB,MAAMmU,EAAW,CACbgG,uBAAwB,CAACrN,EAAUoJ,KAC/B,MAAMjJ,EAASzL,KAAK4J,QACdgP,EAA0B,CAACtN,EAAUoJ,IAChCjJ,EAAO2D,YAAYzK,EAAiC2T,sBAAsBxM,KAAML,EAAOS,uBAAuB2M,uBAAuBvN,GAAWoJ,GAAOrF,KAAM5E,IAChK,GAAa,OAATA,EAAJ,CAGA,GAAoB,IAAhBA,EAAKpE,OACL,MAAO,GAEN,CACD,IAAIyS,EAAUrO,EAAK,GACnB,OAAI9F,EAAiCoU,eAAe9U,GAAG6U,GAC5CrN,EAAO+D,uBAAuBwJ,kBAAkBvO,GAGhDgB,EAAO+D,uBAAuByJ,qBAAqBxO,MAGlEtK,GACOsL,EAAOqJ,oBAAoBnQ,EAAiC2T,sBAAsBxM,KAAM3L,EAAO,OAGxG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAW2M,uBACZ3M,EAAW2M,uBAAuBrN,EAAUoJ,EAAOkE,GACnDA,EAAwBtN,EAAUoJ,KAGhD,MAAO,CAAChQ,EAAS6F,UAAU2O,+BAA+B1a,EAAQmM,iBAAkBgI,GAAWA,IAGvG,MAAMwG,UArVN,MACI,YAAYvP,EAAS9D,GACjB9F,KAAK4J,QAAUA,EACf5J,KAAK8F,SAAWA,EAChB9F,KAAKwS,eAAiB,IAAIrI,IAE9B,eACI,OAAOnK,KAAK8F,SAEhB,SAASV,EAASqF,GACd,GAAIrF,EAAQvG,SAAWmB,KAAK0J,SAAS7K,OACjC,MAAM,IAAI0M,MAAM,8CAA8CnG,EAAQvG,8BAA8BmB,KAAK0J,SAAS7K,UAEtH,MAAM4T,EAAezS,KAAK0S,yBAAyBjI,EAAKC,iBACxD1K,KAAKwS,eAAe3H,IAAIJ,EAAKK,GAAI,CAAEyH,WAAYE,EAAa,GAAIE,SAAUF,EAAa,KAE3F,WAAW3H,GACP,IAAI2H,EAAezS,KAAKwS,eAAe1V,IAAIgO,QACtBhK,IAAjB2R,GACAA,EAAaF,WAAW3Q,UAGhC,UACI5B,KAAKwS,eAAe5F,QAAS6F,IACzBA,EAAaF,WAAW3Q,YAE5B5B,KAAKwS,eAAenH,QAExB,eACI,MAAM+N,EAAS,GACf,IAAK,MAAM3G,KAAgBzS,KAAKwS,eAAezH,SAC3CqO,EAAOlT,KAAKuM,EAAaE,UAE7B,OAAOyG,IAqTX,YAAY3N,GACR3M,MAAM2M,EAAQ9G,EAAiC0U,uBAAuBvN,MAE1E,uBAAuBsH,GACnB,IAAImF,EAAqBpP,EAAOA,EAAOiK,EAAa,aAAc,UAClEmF,EAAmBjM,qBAAsB,EACzCiM,EAAmBC,WAAa,CAC5BvE,SAAUtN,GAEd4R,EAAmBvE,WAAa,CAC5BC,SAAUjL,GAGlB,WAAWqD,GACFA,EAAaiN,yBAGlBtZ,KAAKwJ,SAASxJ,KAAK0J,SAAU,CACzBoB,GAAI7F,EAAKyH,eACThC,iBAA0D,IAAzC2B,EAAaiN,wBAAmC,CAAEC,kBAAkB,GAAUlN,EAAaiN,0BAGpH,yBAAyBE,GACrB,MAAM7G,EAAW,CACb8G,wBAAyB,CAACC,EAAOhF,KAC7B,MAAMjJ,EAASzL,KAAK4J,QACd6P,EAA0B,CAACC,EAAOhF,IAC7BjJ,EAAO2D,YAAYzK,EAAiC0U,uBAAuBvN,KAAM,CAAE4N,SAAShF,GAAOrF,KAAK5D,EAAO+D,uBAAuByJ,qBAAuB9Y,GACzJsL,EAAOqJ,oBAAoBnQ,EAAiC0U,uBAAuBvN,KAAM3L,EAAO,OAGzG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAWyN,wBACZzN,EAAWyN,wBAAwBC,EAAOhF,EAAO+E,GACjDA,EAAwBC,EAAOhF,KAG7C,MAAO,CAAChQ,EAAS6F,UAAUoP,gCAAgChH,GAAWA,IAG9E,MAAMiH,UAA0BvV,EAC5B,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiCkV,kBAAkB/N,MAErE,uBAAuBsH,GACnB,MAAM0G,EAAM3Q,EAAOA,EAAOiK,EAAa,gBAAiB,cACxD0G,EAAIxN,qBAAsB,EAC1BwN,EAAIC,oBAAqB,EACzBD,EAAIE,yBAA2B,CAC3BC,eAAgB,CACZhG,SAAU,CACNtP,EAAiCuV,eAAeC,MAChDxV,EAAiCuV,eAAeE,SAChDzV,EAAiCuV,eAAeG,SAChD1V,EAAiCuV,eAAeI,gBAChD3V,EAAiCuV,eAAeK,eAChD5V,EAAiCuV,eAAeM,gBAChD7V,EAAiCuV,eAAeO,OAChD9V,EAAiCuV,eAAeQ,yBAKhE,WAAWrO,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAasO,oBACtEnc,GAGLwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAI7F,EAAKyH,eAAgBhC,gBAAiBlM,IAE7E,yBAAyBA,GACrB,MAAMmU,EAAW,CACbiI,mBAAoB,CAACtP,EAAUuP,EAAOlG,EAASD,KAC3C,MAAMjJ,EAASzL,KAAK4J,QACdkR,EAAsB,CAACxP,EAAUuP,EAAOlG,EAASD,KACnD,MAAMxG,EAAS,CACX7D,aAAcoB,EAAOS,uBAAuB6O,yBAAyBzP,GACrEuP,MAAOpP,EAAOS,uBAAuB8O,QAAQH,GAC7ClG,QAASlJ,EAAOS,uBAAuB+O,oBAAoBtG,IAE/D,OAAOlJ,EAAO2D,YAAYzK,EAAiCkV,kBAAkB/N,KAAMoC,EAAQwG,GAAOrF,KAAMtE,IACpG,GAAe,OAAXA,EACA,OAEJ,MAAMqO,EAAS,GACf,IAAK,IAAIlE,KAAQnK,EACTpG,EAAiCuW,QAAQjX,GAAGiR,GAC5CkE,EAAOlT,KAAKuF,EAAO+D,uBAAuB2L,UAAUjG,IAGpDkE,EAAOlT,KAAKuF,EAAO+D,uBAAuB4L,aAAalG,IAG/D,OAAOkE,GACPjZ,GACOsL,EAAOqJ,oBAAoBnQ,EAAiCkV,kBAAkB/N,KAAM3L,EAAO,QAGpG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAW4O,mBACZ5O,EAAW4O,mBAAmBtP,EAAUuP,EAAOlG,EAASD,EAAOoG,GAC/DA,EAAoBxP,EAAUuP,EAAOlG,EAASD,KAG5D,MAAO,CAAChQ,EAAS6F,UAAU8Q,4BAA4B7c,EAAQmM,iBAAkBgI,EAAWnU,EAAQ8c,gBAC1F,CAAEC,wBAAyBvb,KAAK4J,QAAQ4F,uBAAuBgM,kBAAkBhd,EAAQ8c,uBACzFxa,GAAa6R,IAG/B,MAAM8I,UAAwBpX,EAC1B,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiC+W,gBAAgB5P,MAEnE,uBAAuBsH,GACnBjK,EAAOA,EAAOiK,EAAa,gBAAiB,YAAY9G,qBAAsB,EAElF,WAAWD,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAasP,kBACtEnd,GAGLwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAI7F,EAAKyH,eAAgBhC,gBAAiBlM,IAE7E,yBAAyBA,GACrB,MAAMmU,EAAW,CACbiJ,kBAAmB,CAACtQ,EAAUoJ,KAC1B,MAAMjJ,EAASzL,KAAK4J,QACdgS,EAAoB,CAACtQ,EAAUoJ,IAC1BjJ,EAAO2D,YAAYzK,EAAiC+W,gBAAgB5P,KAAML,EAAOS,uBAAuB2P,iBAAiBvQ,GAAWoJ,GAAOrF,KAAK5D,EAAO+D,uBAAuBsM,aAAe3b,GACzLsL,EAAOqJ,oBAAoBnQ,EAAiC+W,gBAAgB5P,KAAM3L,EAAO,OAGlG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAW4P,kBACZ5P,EAAW4P,kBAAkBtQ,EAAUoJ,EAAOkH,GAC9CA,EAAkBtQ,EAAUoJ,IAEtCqH,gBAAkBvd,EAAuB,gBACnC,CAACwd,EAAUtH,KACT,MAAMjJ,EAASzL,KAAK4J,QACdmS,EAAkB,CAACC,EAAUtH,IACxBjJ,EAAO2D,YAAYzK,EAAiCsX,uBAAuBnQ,KAAML,EAAOS,uBAAuBgQ,WAAWF,GAAWtH,GAAOrF,KAAK5D,EAAO+D,uBAAuB0M,WAAa/b,GACxLsL,EAAOqJ,oBAAoBnQ,EAAiCsX,uBAAuBnQ,KAAM3L,EAAO6b,IAGzGhQ,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAW+P,gBACZ/P,EAAW+P,gBAAgBC,EAAUtH,EAAOqH,GAC5CA,EAAgBC,EAAUtH,SAElC5T,GAEV,MAAO,CAAC4D,EAAS6F,UAAU4R,yBAAyB3d,EAAQmM,iBAAkBgI,GAAWA,IAGjG,MAAMyJ,UAAkC/X,EACpC,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiC0X,0BAA0BvQ,MAE7E,uBAAuBsH,GACnBjK,EAAOA,EAAOiK,EAAa,gBAAiB,cAAc9G,qBAAsB,EAEpF,WAAWD,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAaiQ,4BACtE9d,GAGLwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAI7F,EAAKyH,eAAgBhC,gBAAiBlM,IAE7E,yBAAyBA,GACrB,MAAMmU,EAAW,CACb4J,+BAAgC,CAACjR,EAAU9M,EAASkW,KAChD,MAAMjJ,EAASzL,KAAK4J,QACd2S,EAAiC,CAACjR,EAAU9M,EAASkW,KACvD,MAAMxG,EAAS,CACX7D,aAAcoB,EAAOS,uBAAuB6O,yBAAyBzP,GACrE9M,QAASiN,EAAOS,uBAAuBsQ,oBAAoBhe,IAE/D,OAAOiN,EAAO2D,YAAYzK,EAAiC0X,0BAA0BvQ,KAAMoC,EAAQwG,GAAOrF,KAAK5D,EAAO+D,uBAAuBC,YAActP,GAChJsL,EAAOqJ,oBAAoBnQ,EAAiC0X,0BAA0BvQ,KAAM3L,EAAO,QAG5G6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAWuQ,+BACZvQ,EAAWuQ,+BAA+BjR,EAAU9M,EAASkW,EAAO6H,GACpEA,EAA+BjR,EAAU9M,EAASkW,KAGhE,MAAO,CAAChQ,EAAS6F,UAAUkS,uCAAuCje,EAAQmM,iBAAkBgI,GAAWA,IAG/G,MAAM+J,UAAuCrY,EACzC,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiCgY,+BAA+B7Q,MAElF,uBAAuBsH,GACnBjK,EAAOA,EAAOiK,EAAa,gBAAiB,mBAAmB9G,qBAAsB,EAEzF,WAAWD,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAauQ,iCACtEpe,GAGLwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAI7F,EAAKyH,eAAgBhC,gBAAiBlM,IAE7E,yBAAyBA,GACrB,MAAMmU,EAAW,CACbkK,oCAAqC,CAACvR,EAAUuP,EAAOrc,EAASkW,KAC5D,MAAMjJ,EAASzL,KAAK4J,QACdiT,EAAsC,CAACvR,EAAUuP,EAAOrc,EAASkW,KACnE,IAAIxG,EAAS,CACT7D,aAAcoB,EAAOS,uBAAuB6O,yBAAyBzP,GACrEuP,MAAOpP,EAAOS,uBAAuB8O,QAAQH,GAC7Crc,QAASiN,EAAOS,uBAAuBsQ,oBAAoBhe,IAE/D,OAAOiN,EAAO2D,YAAYzK,EAAiCgY,+BAA+B7Q,KAAMoC,EAAQwG,GAAOrF,KAAK5D,EAAO+D,uBAAuBC,YAActP,GACrJsL,EAAOqJ,oBAAoBnQ,EAAiCgY,+BAA+B7Q,KAAM3L,EAAO,QAGvH,IAAI6L,EAAaP,EAAOM,cAAcC,WACtC,OAAOA,EAAW6Q,oCACZ7Q,EAAW6Q,oCAAoCvR,EAAUuP,EAAOrc,EAASkW,EAAOmI,GAChFA,EAAoCvR,EAAUuP,EAAOrc,EAASkW,KAG5E,MAAO,CAAChQ,EAAS6F,UAAUuS,4CAA4Cte,EAAQmM,iBAAkBgI,GAAWA,IAGpH,MAAMoK,UAAwC1Y,EAC1C,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiCqY,gCAAgClR,MAEnF,uBAAuBsH,GACnBjK,EAAOA,EAAOiK,EAAa,gBAAiB,oBAAoB9G,qBAAsB,EAE1F,WAAWD,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAa4Q,kCACtEze,GAGLwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAI7F,EAAKyH,eAAgBhC,gBAAiBlM,IAE7E,yBAAyBA,GACrB,MAAMmU,EAAW,CACbuK,6BAA8B,CAAC5R,EAAUmJ,EAAU0I,EAAI3e,EAASkW,KAC5D,MAAMjJ,EAASzL,KAAK4J,QACdsT,EAA+B,CAAC5R,EAAUmJ,EAAU0I,EAAI3e,EAASkW,KACnE,IAAIxG,EAAS,CACT7D,aAAcoB,EAAOS,uBAAuB6O,yBAAyBzP,GACrEmJ,SAAUhJ,EAAOS,uBAAuBkR,WAAW3I,GACnD0I,GAAIA,EACJ3e,QAASiN,EAAOS,uBAAuBsQ,oBAAoBhe,IAE/D,OAAOiN,EAAO2D,YAAYzK,EAAiCqY,gCAAgClR,KAAMoC,EAAQwG,GAAOrF,KAAK5D,EAAO+D,uBAAuBC,YAActP,GACtJsL,EAAOqJ,oBAAoBnQ,EAAiCqY,gCAAgClR,KAAM3L,EAAO,QAGlH6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAWkR,6BACZlR,EAAWkR,6BAA6B5R,EAAUmJ,EAAU0I,EAAI3e,EAASkW,EAAOwI,GAChFA,EAA6B5R,EAAUmJ,EAAU0I,EAAI3e,EAASkW,KAGtE2I,EAAuB7e,EAAQ6e,sBAAwB,GAC7D,MAAO,CAAC3Y,EAAS6F,UAAU+S,qCAAqC9e,EAAQmM,iBAAkBgI,EAAUnU,EAAQ+e,yBAA0BF,GAAuB1K,IAGrK,MAAM6K,UAAsBnZ,EACxB,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiC8Y,cAAc3R,MAEjE,uBAAuBsH,GACnB,IAAIsK,EAASvU,EAAOA,EAAOiK,EAAa,gBAAiB,UACzDsK,EAAOpR,qBAAsB,EAC7BoR,EAAOC,gBAAiB,EAE5B,WAAWtR,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAauR,gBACtEpf,IAGDuG,EAAGiO,QAAQ3G,EAAauR,kBACxBpf,EAAQqf,iBAAkB,GAE9B7d,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAI7F,EAAKyH,eAAgBhC,gBAAiBlM,KAE7E,yBAAyBA,GACrB,MAAMmU,EAAW,CACbmL,mBAAoB,CAACxS,EAAUmJ,EAAUsJ,EAASrJ,KAC9C,MAAMjJ,EAASzL,KAAK4J,QACdkU,EAAqB,CAACxS,EAAUmJ,EAAUsJ,EAASrJ,KACrD,IAAIxG,EAAS,CACT7D,aAAcoB,EAAOS,uBAAuB6O,yBAAyBzP,GACrEmJ,SAAUhJ,EAAOS,uBAAuBkR,WAAW3I,GACnDsJ,QAASA,GAEb,OAAOtS,EAAO2D,YAAYzK,EAAiC8Y,cAAc3R,KAAMoC,EAAQwG,GAAOrF,KAAK5D,EAAO+D,uBAAuBwO,gBAAkB7d,GACxIsL,EAAOqJ,oBAAoBnQ,EAAiC8Y,cAAc3R,KAAM3L,EAAO,QAGhG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAW8R,mBACZ9R,EAAW8R,mBAAmBxS,EAAUmJ,EAAUsJ,EAASrJ,EAAOoJ,GAClEA,EAAmBxS,EAAUmJ,EAAUsJ,EAASrJ,IAE1DuJ,cAAezf,EAAQqf,gBACjB,CAACvS,EAAUmJ,EAAUC,KACnB,MAAMjJ,EAASzL,KAAK4J,QACdqU,EAAgB,CAAC3S,EAAUmJ,EAAUC,KACvC,IAAIxG,EAAS,CACT7D,aAAcoB,EAAOS,uBAAuB6O,yBAAyBzP,GACrEmJ,SAAUhJ,EAAOS,uBAAuBkR,WAAW3I,IAEvD,OAAOhJ,EAAO2D,YAAYzK,EAAiCuZ,qBAAqBpS,KAAMoC,EAAQwG,GAAOrF,KAAM+J,GACnGzU,EAAiCwZ,MAAMla,GAAGmV,GACnC3N,EAAO+D,uBAAuBwL,QAAQ5B,GAExCA,GAAUzU,EAAiCwZ,MAAMla,GAAGmV,EAAOyB,OACzD,CACHA,MAAOpP,EAAO+D,uBAAuBwL,QAAQ5B,EAAOyB,OACpDuD,YAAahF,EAAOgF,aAIrBpd,QAAQE,OAAO,IAAIqK,MAAM,kCAChCpL,GACOsL,EAAOqJ,oBAAoBnQ,EAAiCuZ,qBAAqBpS,KAAM3L,OAAOW,KAGvGkL,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAWiS,cACZjS,EAAWiS,cAAc3S,EAAUmJ,EAAUC,EAAOuJ,GACpDA,EAAc3S,EAAUmJ,EAAUC,SAE1C5T,GAEV,MAAO,CAAC4D,EAAS6F,UAAU8T,uBAAuB7f,EAAQmM,iBAAkBgI,GAAWA,IAG/F,MAAM2L,UAA4Bja,EAC9B,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiC4Z,oBAAoBzS,MAEvE,uBAAuBsH,GACnB,MAAMoL,EAA2BrV,EAAOA,EAAOiK,EAAa,gBAAiB,gBAC7EoL,EAAyBlS,qBAAsB,EAC/CkS,EAAyBC,gBAAiB,EAE9C,WAAWpS,EAAc1B,GACrB,MAAMnM,EAAUwB,KAAKqU,uBAAuB1J,EAAkB0B,EAAaqS,sBACtElgB,GAGLwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAI7F,EAAKyH,eAAgBhC,gBAAiBlM,IAE7E,yBAAyBA,GACrB,MAAMmU,EAAW,CACbgM,qBAAsB,CAACrT,EAAUoJ,KAC7B,MAAMjJ,EAASzL,KAAK4J,QACd+U,EAAuB,CAACrT,EAAUoJ,IAC7BjJ,EAAO2D,YAAYzK,EAAiC4Z,oBAAoBzS,KAAML,EAAOS,uBAAuB0S,qBAAqBtT,GAAWoJ,GAAOrF,KAAK5D,EAAO+D,uBAAuBqP,gBAAkB1e,GACpMsL,EAAOqJ,oBAAoBnQ,EAAiC4Z,oBAAoBzS,KAAM3L,EAAO,OAGtG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAW2S,qBACZ3S,EAAW2S,qBAAqBrT,EAAUoJ,EAAOiK,GACjDA,EAAqBrT,EAAUoJ,IAEzCoK,oBAAqBtgB,EAAQyW,gBACvB,CAAC8J,EAAMrK,KACL,MAAMjJ,EAASzL,KAAK4J,QACpB,IAAIkV,EAAsB,CAACC,EAAMrK,IACtBjJ,EAAO2D,YAAYzK,EAAiCqa,2BAA2BlT,KAAML,EAAOS,uBAAuB+S,eAAeF,GAAOrK,GAAOrF,KAAK5D,EAAO+D,uBAAuByP,eAAiB9e,GAChMsL,EAAOqJ,oBAAoBnQ,EAAiCqa,2BAA2BlT,KAAM3L,EAAO4e,IAGnH,MAAM/S,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAW8S,oBACZ9S,EAAW8S,oBAAoBC,EAAMrK,EAAOoK,GAC5CA,EAAoBC,EAAMrK,SAElC5T,GAEV,MAAO,CAAC4D,EAAS6F,UAAU2U,6BAA6B1gB,EAAQmM,iBAAkBgI,GAAWA,IAGrG,MAAMwM,EACF,YAAYvV,GACR5J,KAAK4J,QAAUA,EACf5J,KAAKof,WAAa,IAAIjV,IAE1B,eACI,OAAOxF,EAAiC0a,mCAAmCvT,KAE/E,uBAAuBO,GACnBlD,EAAOA,EAAOkD,EAAc,aAAc,0BAA0BC,qBAAsB,EAE9F,aACI,IAAIgT,EAAUtf,KAAK4J,QAAQmC,cAAcwT,YAAYC,0BACrC,IAAZF,GACAtf,KAAKwJ,SAASxJ,KAAK0J,SAAU,CACzBoB,GAAI7F,EAAKyH,eACThC,gBAAiB,CACb4U,QAASA,KAKzB,SAASxZ,EAAU2E,GACf,IAAI8H,EAAa7N,EAASiH,UAAU8T,yBAA0B3R,IAC1D9N,KAAKyf,yBAAyBhV,EAAKC,gBAAgB4U,QAASxR,KAEhE9N,KAAKof,WAAWvU,IAAIJ,EAAKK,GAAIyH,QACQ,IAAjC9H,EAAKC,gBAAgB4U,SACrBtf,KAAKyf,yBAAyBhV,EAAKC,gBAAgB4U,aAASxe,GAGpE,WAAWgK,GACP,IAAIyH,EAAavS,KAAKof,WAAWtiB,IAAIgO,GACjCyH,IACAvS,KAAKof,WAAWjU,OAAOL,GACvByH,EAAW3Q,WAGnB,UACI,IAAK,IAAI2Q,KAAcvS,KAAKof,WAAWrU,SACnCwH,EAAW3Q,UAEf5B,KAAKof,WAAW/T,QAEpB,yBAAyBmU,EAAsB1R,GAC3C,IAAI4R,EAOJ,GALIA,EADA3a,EAAGgM,OAAOyO,GACC,CAACA,GAGDA,OAEE,IAAbE,QAAiC,IAAV5R,EAAkB,CAEzC,IADe4R,EAASC,KAAML,GAAYxR,EAAM8R,qBAAqBN,IAEjE,OAGR,IAAIO,EAA0BH,SACT,IAAbA,EAIJ1f,KAAK4J,QAAQoB,iBAAiBrG,EAAiC0a,mCAAmCvT,KAAM,CAAEgU,SAAU9f,KAAK+f,2BAA2BL,KAHhJ1f,KAAK4J,QAAQoB,iBAAiBrG,EAAiC0a,mCAAmCvT,KAAM,CAAEgU,SAAU,QAKxH9T,EAAahM,KAAKggB,gBACtBhU,EACMA,EAAW0T,EAAUG,GACrBA,EAAuBH,GAEjC,2BAA2BO,GACvB,SAASC,EAAWjK,EAAQxW,GACxB,IAAI0gB,EAAUlK,EACd,IAAK,IAAIha,EAAI,EAAGA,EAAIwD,EAAK4G,OAAS,EAAGpK,IAAK,CACtC,IAAImkB,EAAMD,EAAQ1gB,EAAKxD,IAClBmkB,IACDA,EAAMzjB,OAAOY,OAAO,MACpB4iB,EAAQ1gB,EAAKxD,IAAMmkB,GAEvBD,EAAUC,EAEd,OAAOD,EAEX,IAAIpO,EAAW/R,KAAK4J,QAAQmC,cAAcsU,gBACpCrgB,KAAK4J,QAAQmC,cAAcsU,gBAAgBxT,SAC3C/L,EACFsY,EAASzc,OAAOY,OAAO,MAC3B,IAAK,IAAItB,EAAI,EAAGA,EAAIgkB,EAAK5Z,OAAQpK,IAAK,CAClC,IAAIuB,EAAMyiB,EAAKhkB,GACXqkB,EAAQ9iB,EAAI+iB,QAAQ,KACpBtK,EAAS,KAOb,GALIA,EADAqK,GAAS,EACA5b,EAASiH,UAAU6U,iBAAiBhjB,EAAIijB,OAAO,EAAGH,GAAQvO,GAAUjV,IAAIU,EAAIijB,OAAOH,EAAQ,IAG3F5b,EAASiH,UAAU6U,sBAAiB1f,EAAWiR,GAAUjV,IAAIU,GAEtEyY,EAAQ,CACR,IAAIxW,EAAOwgB,EAAKhkB,GAAGykB,MAAM,KACzBR,EAAW9G,EAAQ3Z,GAAMA,EAAKA,EAAK4G,OAAS,IAAMzB,EAAgB+b,aAAa1K,IAGvF,OAAOmD,EAEX,gBACI,IAAIpN,EAAahM,KAAK4J,QAAQmC,cAAcC,WAC5C,OAAIA,EAAWL,WAAaK,EAAWL,UAAUkU,uBACtC7T,EAAWL,UAAUkU,4BAG5B,GAIZ,MAAMe,EACF,YAAYhX,GACR5J,KAAK4J,QAAUA,EACf5J,KAAK6gB,UAAY,IAAI1W,IAEzB,eACI,OAAOxF,EAAiCmc,sBAAsBhV,KAElE,uBAAuBO,GACnBlD,EAAOA,EAAOkD,EAAc,aAAc,kBAAkBC,qBAAsB,EAEtF,WAAWD,GACFA,EAAa0U,wBAGlB/gB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CACzBoB,GAAI7F,EAAKyH,eACThC,gBAAiB/N,OAAOgR,OAAO,GAAItB,EAAa0U,0BAGxD,SAASjb,EAAU2E,GACf,MAAMgB,EAASzL,KAAK4J,QACdoC,EAAaP,EAAOM,cAAcC,WAClCgV,EAAiB,CAACC,EAASC,KAC7B,IAAIhT,EAAS,CACT+S,UACAE,UAAWD,GAEf,OAAOzV,EAAO2D,YAAYzK,EAAiCmc,sBAAsBhV,KAAMoC,GAAQmB,UAAKvO,EAAYX,GACrGsL,EAAOqJ,oBAAoBnQ,EAAiCmc,sBAAsBhV,KAAM3L,OAAOW,KAG9G,GAAI2J,EAAKC,gBAAgB0W,SAAU,CAC/B,MAAMvQ,EAAe,GACrB,IAAK,MAAMoQ,KAAWxW,EAAKC,gBAAgB0W,SACvCvQ,EAAa3K,KAAKxB,EAAS0c,SAASC,gBAAgBJ,EAAS,IAAIC,IACtDlV,EAAWgV,eACZhV,EAAWgV,eAAeC,EAASC,EAAMF,GACzCA,EAAeC,EAASC,KAGtClhB,KAAK6gB,UAAUhW,IAAIJ,EAAKK,GAAI+F,IAGpC,WAAW/F,GACP,IAAI+F,EAAe7Q,KAAK6gB,UAAU/jB,IAAIgO,GAClC+F,GACAA,EAAajE,QAAQ2F,GAAcA,EAAW3Q,WAGtD,UACI5B,KAAK6gB,UAAUjU,QAAS1P,IACpBA,EAAM0P,QAAQ2F,GAAcA,EAAW3Q,aAE3C5B,KAAK6gB,UAAUxV,UAIvB,SAAWjH,GAKPA,EAAkBH,GAJlB,SAAY/G,GAER,OADgBA,GACIyH,EAAiC2c,cAAcrd,GAAG/G,EAAMwG,SAAWiB,EAAiC4c,cAActd,GAAG/G,EAAM0G,SAHvJ,CAMuB7H,EAAQqI,oBAAsBrI,EAAQqI,kBAAoB,KACjF,MAAMod,EACF,YAAYC,EAAU5e,GAClB7C,KAAKyhB,SAAWA,EAChBzhB,KAAK6C,QAAUA,EACf7C,KAAK0hB,OAAQ,EAEjB,aACI,OAAO1hB,KAAK0hB,MAEhB,UACI1hB,KAAK0hB,OAAQ,EACb1hB,KAAKyhB,WAET,OAAOthB,GACHH,KAAK0hB,OAAQ,EACb1hB,KAAK6C,QAAQ1C,IAGrB,MAAMgE,EACF,YAAY2G,EAAItO,EAAMuP,GAClB/L,KAAK2hB,aAAehd,EAAiCid,YAAYpZ,KACjExI,KAAK6hB,UAAY,GACjB7hB,KAAK8hB,gBAAkB,IAAI3X,IAC3BnK,KAAK+hB,iBAAmB,IAAI5X,IAC5BnK,KAAKgiB,IAAMlX,EACX9K,KAAKiiB,MAAQzlB,EACbuP,EAAgBA,GAAiB,GACjC/L,KAAKkiB,eAAiB,CAClBvX,iBAAkBoB,EAAcpB,kBAAoB,GACpD4U,YAAaxT,EAAcwT,aAAe,GAC1C4C,yBAA0BpW,EAAcoW,yBACxCC,kBAAmBrW,EAAcqW,mBAAqBpiB,KAAKiiB,MAC3DI,sBAAuBtW,EAAcsW,uBAAyB9d,EAAsBgH,MACpF+W,cAAevW,EAAcuW,eAAiB,OAC9CC,sBAAuBxW,EAAcwW,sBACrCC,4BAA6BzW,EAAcyW,4BAC3CC,2BAA4B1W,EAAc0W,yBAC1CC,aAAc3W,EAAc2W,cAAgB,IAAI/c,EAAoB3F,KAAKiiB,OACzEjW,WAAYD,EAAcC,YAAc,GACxC2W,cAAe5W,EAAc4W,cAC7BtC,gBAAiBtU,EAAcsU,gBAC/BuC,kBAAmB7W,EAAc6W,mBAErC5iB,KAAKkiB,eAAe3C,YAAcvf,KAAKkiB,eAAe3C,aAAe,GACrEvf,KAAK6iB,OAASnd,EAAYod,QAC1B9iB,KAAK+iB,wBAAqBjiB,EAC1Bd,KAAKgjB,yBAAsBliB,EAC3Bd,KAAKijB,uBAAoBniB,EACrBiL,EAAcmX,eACdljB,KAAKmjB,eAAiBpX,EAAcmX,cACpCljB,KAAKojB,uBAAwB,IAG7BpjB,KAAKmjB,oBAAiBriB,EACtBd,KAAKojB,uBAAwB,GAEjCpjB,KAAKqjB,oBAAsBtX,EAAcuX,mBACzCtjB,KAAKof,gBAAate,EAClBd,KAAKujB,gBAAaziB,EAClBd,KAAKwjB,kBAAe1iB,EACpBd,KAAKyjB,YAAc,GACnBzjB,KAAK0jB,kBAAoB,IAAI1e,EAAQ0J,QAAQ,KAC7C1O,KAAK2jB,SAAW,IAAI3iB,QAAQ,CAACC,EAASC,KAClClB,KAAK4jB,kBAAoB,IAAIpC,EAAQvgB,EAASC,KAElDlB,KAAK6jB,aAAU/iB,EACfd,KAAK8jB,kBAAoB,IAAInf,EAAiCof,QAC9D/jB,KAAKgkB,oBAAsB,IAAIrf,EAAiCof,QAChE/jB,KAAKikB,OAAStf,EAAiCuf,MAAMC,IACrDnkB,KAAKokB,QAAU,CACX3e,IAAK,CAAC4e,EAAqB5Z,KACnB1F,EAAGgM,OAAOsT,GACVrkB,KAAKskB,SAASD,EAAqB5Z,GAGnCzK,KAAKukB,eAAeF,KAIhCrkB,KAAKwkB,KAAO3f,EAAI4f,gBAAgB1Y,EAAc4W,cAAgB5W,EAAc4W,cAAc+B,mBAAgB5jB,GAC1Gd,KAAK2kB,KAAO7f,EAAI2f,gBAAgB1Y,EAAc4W,cAAgB5W,EAAc4W,cAAciC,mBAAgB9jB,GAC1Gd,KAAK0L,iBAAmB,IAAIvB,IAC5BnK,KAAK6kB,0BAET,YACI,OAAO7kB,KAAK6iB,OAEhB,UAAU3lB,GACN,IAAI4nB,EAAW9kB,KAAK+kB,iBACpB/kB,KAAK6iB,OAAS3lB,EACd,IAAI8nB,EAAWhlB,KAAK+kB,iBAChBC,IAAaF,GACb9kB,KAAKgkB,oBAAoBiB,KAAK,CAAEH,WAAUE,aAGlD,iBACI,OAAIhlB,KAAKklB,QAAUxf,EAAYyf,QACpB7gB,EAAM6gB,QAERnlB,KAAKklB,QAAUxf,EAAY0f,SACzB9gB,EAAM8gB,SAGN9gB,EAAM+gB,QAGrB,uBACI,OAAOrlB,KAAKijB,kBAEhB,YAAYnX,KAASoC,GACjB,IAAKlO,KAAKslB,qBACN,MAAM,IAAI/Z,MAAM,oCAEpBvL,KAAKulB,oBACL,IACI,OAAOvlB,KAAKgjB,oBAAoB5T,YAAYtD,KAASoC,GAEzD,MAAO/N,GAEH,MADAH,KAAKG,MAAM,mBAAmB4E,EAAGgM,OAAOjF,GAAQA,EAAOA,EAAKjN,iBAAkBsB,GACxEA,GAGd,UAAU2L,EAAM0Z,GACZ,IAAKxlB,KAAKslB,qBACN,MAAM,IAAI/Z,MAAM,oCAEpB,IACIvL,KAAKgjB,oBAAoByC,UAAU3Z,EAAM0Z,GAE7C,MAAOrlB,GAEH,MADAH,KAAKG,MAAM,+BAA+B4E,EAAGgM,OAAOjF,GAAQA,EAAOA,EAAKjN,iBAAkBsB,GACpFA,GAGd,iBAAiB2L,EAAMoC,GACnB,IAAKlO,KAAKslB,qBACN,MAAM,IAAI/Z,MAAM,oCAEpBvL,KAAKulB,oBACL,IACIvlB,KAAKgjB,oBAAoBhY,iBAAiBc,EAAMoC,GAEpD,MAAO/N,GAEH,MADAH,KAAKG,MAAM,wBAAwB4E,EAAGgM,OAAOjF,GAAQA,EAAOA,EAAKjN,iBAAkBsB,GAC7EA,GAGd,eAAe2L,EAAM0Z,GACjB,IAAKxlB,KAAKslB,qBACN,MAAM,IAAI/Z,MAAM,oCAEpB,IACIvL,KAAKgjB,oBAAoB0C,eAAe5Z,EAAM0Z,GAElD,MAAOrlB,GAEH,MADAH,KAAKG,MAAM,oCAAoC4E,EAAGgM,OAAOjF,GAAQA,EAAOA,EAAKjN,iBAAkBsB,GACzFA,GAGd,WAAW2L,EAAM4I,EAAO8Q,GACpB,IAAKxlB,KAAKslB,qBACN,MAAM,IAAI/Z,MAAM,oCAEpB,IACI,OAAOvL,KAAKgjB,oBAAoB2C,WAAW7Z,EAAM4I,EAAO8Q,GAE5D,MAAOrlB,GAEH,MADAH,KAAKG,MAAM,0CAA0CuU,YAAiBvU,GAChEA,GAGd,aAAa2L,EAAM4I,EAAOxX,GACtB,IAAK8C,KAAKslB,qBACN,MAAM,IAAI/Z,MAAM,oCAEpBvL,KAAKulB,oBACL,IACIvlB,KAAKgjB,oBAAoB4C,aAAa9Z,EAAM4I,EAAOxX,GAEvD,MAAOiD,GAEH,MADAH,KAAKG,MAAM,8BAA8BuU,YAAiBvU,GACpDA,GAGd,oBACI,OAAOH,KAAKkiB,eAEhB,6BACI,OAAOliB,KAAK2kB,KAEhB,6BACI,OAAO3kB,KAAKwkB,KAEhB,kBACI,OAAOxkB,KAAK8jB,kBAAkBhW,MAElC,uBACI,OAAO9N,KAAKgkB,oBAAoBlW,MAEpC,oBAII,OAHK9N,KAAKmjB,iBACNnjB,KAAKmjB,eAAiBze,EAAS6B,OAAOsf,oBAAoB7lB,KAAKkiB,eAAeE,kBAAoBpiB,KAAKkiB,eAAeE,kBAAoBpiB,KAAKiiB,QAE5IjiB,KAAKmjB,eAEhB,yBACI,OAAInjB,KAAKqjB,oBACErjB,KAAKqjB,oBAETrjB,KAAKkjB,cAEhB,kBACI,OAAOljB,KAAKwjB,aAEhB,4BACI,OAAO,IAAI7d,EAAoB3F,KAAKiiB,OAExC,UAAU/kB,GACN8C,KAAKikB,OAAS/mB,EACd8C,KAAK8lB,UAAUzW,KAAK,KAChBrP,KAAK+lB,oBAAoB1W,KAAM2W,IAC3BA,EAAWC,MAAMjmB,KAAKikB,OAAQjkB,KAAKokB,QAAS,CACxCpZ,kBAAkB,EAClBkb,YAAalmB,KAAK2hB,kBAG3B,QAGP,YAAYlX,GACR,GAAIA,aAAgB9F,EAAiCwhB,cAAe,CAChE,MAAMC,EAAgB3b,EACtB,MAAO,cAAc2b,EAAchhB,oBAAoBghB,EAAcC,QAAQD,EAAc3b,KAAO,KAAO2b,EAAc3b,KAAKpI,WAAa,KAE7I,OAAIoI,aAAgBc,MACZxG,EAAGgM,OAAOtG,EAAK6b,OACR7b,EAAK6b,MAET7b,EAAKrF,QAEZL,EAAGgM,OAAOtG,GACHA,EAEJA,EAAKpI,WAEhB,KAAK+C,EAASqF,EAAM8b,GAAmB,GACnCvmB,KAAKkjB,cAAcsD,WAAW,aAAa,IAAIrgB,MAAOsgB,yBAA0BrhB,KAC5EqF,GACAzK,KAAKkjB,cAAcsD,WAAWxmB,KAAK0mB,YAAYjc,IAE/C8b,GAAoBvmB,KAAKkiB,eAAeG,uBAAyB9d,EAAsBoiB,MACvF3mB,KAAK4mB,0BAGb,KAAKxhB,EAASqF,EAAM8b,GAAmB,GACnCvmB,KAAKkjB,cAAcsD,WAAW,aAAa,IAAIrgB,MAAOsgB,yBAA0BrhB,KAC5EqF,GACAzK,KAAKkjB,cAAcsD,WAAWxmB,KAAK0mB,YAAYjc,IAE/C8b,GAAoBvmB,KAAKkiB,eAAeG,uBAAyB9d,EAAsBsiB,MACvF7mB,KAAK4mB,0BAGb,MAAMxhB,EAASqF,EAAM8b,GAAmB,GACpCvmB,KAAKkjB,cAAcsD,WAAW,aAAa,IAAIrgB,MAAOsgB,yBAA0BrhB,KAC5EqF,GACAzK,KAAKkjB,cAAcsD,WAAWxmB,KAAK0mB,YAAYjc,IAE/C8b,GAAoBvmB,KAAKkiB,eAAeG,uBAAyB9d,EAAsBgH,OACvFvL,KAAK4mB,0BAGb,0BACIliB,EAAS6B,OAAOugB,uBAAuB,6DAA8D,gBAAgBzX,KAAK,KACtHrP,KAAKkjB,cAAc6D,MAAK,KAGhC,SAAS3hB,EAASqF,GACdzK,KAAKsjB,mBAAmBkD,WAAW,aAAa,IAAIrgB,MAAOsgB,yBAA0BrhB,KACjFqF,GACAzK,KAAKsjB,mBAAmBkD,WAAWxmB,KAAK0mB,YAAYjc,IAG5D,eAAeA,GACPA,EAAKuc,cAAgBvc,EAAKqB,KAC1B9L,KAAKsjB,mBAAmB2D,OAAO,aAAa,IAAI9gB,MAAOsgB,0BAGvDzmB,KAAKsjB,mBAAmB2D,OAAO,aAAa,IAAI9gB,MAAOsgB,0BAEvDhc,GACAzK,KAAKsjB,mBAAmBkD,WAAW,GAAGU,KAAKC,UAAU1c,IAG7D,aACI,OAAOzK,KAAKklB,QAAUxf,EAAYod,SAAW9iB,KAAKklB,QAAUxf,EAAY0hB,UAAYpnB,KAAKklB,QAAUxf,EAAY2f,QAEnH,YACI,OAAOrlB,KAAKklB,QAAUxf,EAAY0f,UAAYplB,KAAKklB,QAAUxf,EAAYyf,QAE7E,UACI,OAAOnlB,KAAK2jB,SAEhB,qBACI,OAAO3jB,KAAKklB,QAAUxf,EAAYyf,WAAanlB,KAAKgjB,oBAExD,QA4EI,OA3EIhjB,KAAK4jB,kBAAkByD,SACvBrnB,KAAK2jB,SAAW,IAAI3iB,QAAQ,CAACC,EAASC,KAClClB,KAAK4jB,kBAAoB,IAAIpC,EAAQvgB,EAASC,MAGtDlB,KAAKof,WAAa,GAClBpf,KAAKujB,WAAa,GAEbvjB,KAAKwjB,eACNxjB,KAAKwjB,aAAexjB,KAAKkiB,eAAeC,yBAClCzd,EAAS6F,UAAU+c,2BAA2BtnB,KAAKkiB,eAAeC,0BAClEzd,EAAS6F,UAAU+c,8BAE7BtnB,KAAKklB,MAAQxf,EAAY0f,SACzBplB,KAAK+lB,oBAAoB1W,KAAM2W,IAC3BA,EAAWuB,aAAcniB,IACrB,OAAQA,EAAQ0G,MACZ,KAAKnH,EAAiC6iB,YAAYjc,MAC9CvL,KAAKG,MAAMiF,EAAQA,aAAStE,GAAW,GACvC,MACJ,KAAK6D,EAAiC6iB,YAAYC,QAC9CznB,KAAKuF,KAAKH,EAAQA,aAAStE,GAAW,GACtC,MACJ,KAAK6D,EAAiC6iB,YAAYb,KAC9C3mB,KAAKwF,KAAKJ,EAAQA,aAAStE,GAAW,GACtC,MACJ,QACId,KAAKkjB,cAAcsD,WAAWphB,EAAQA,YAGlD4gB,EAAW0B,cAAetiB,IACtB,OAAQA,EAAQ0G,MACZ,KAAKnH,EAAiC6iB,YAAYjc,MAC9C7G,EAAS6B,OAAOC,iBAAiBpB,EAAQA,SACzC,MACJ,KAAKT,EAAiC6iB,YAAYC,QAC9C/iB,EAAS6B,OAAOohB,mBAAmBviB,EAAQA,SAC3C,MACJ,KAAKT,EAAiC6iB,YAAYb,KAC9CjiB,EAAS6B,OAAOugB,uBAAuB1hB,EAAQA,SAC/C,MACJ,QACIV,EAAS6B,OAAOugB,uBAAuB1hB,EAAQA,YAG3D4gB,EAAWP,UAAU9gB,EAAiCijB,mBAAmB9b,KAAOoC,IAC5E,IAAI2Z,EACJ,OAAQ3Z,EAAOpC,MACX,KAAKnH,EAAiC6iB,YAAYjc,MAC9Csc,EAAcnjB,EAAS6B,OAAOC,iBAC9B,MACJ,KAAK7B,EAAiC6iB,YAAYC,QAC9CI,EAAcnjB,EAAS6B,OAAOohB,mBAC9B,MACJ,KAAKhjB,EAAiC6iB,YAAYb,KAC9CkB,EAAcnjB,EAAS6B,OAAOugB,uBAC9B,MACJ,QACIe,EAAcnjB,EAAS6B,OAAOugB,uBAEtC,IAAIgB,EAAU5Z,EAAO4Z,SAAW,GAChC,OAAOD,EAAY3Z,EAAO9I,WAAY0iB,KAE1C9B,EAAW+B,YAAatd,IACpBzK,KAAK8jB,kBAAkBmB,KAAKxa,KAEhCub,EAAW/iB,SAEJjD,KAAKgoB,WAAWhC,KACxB3W,UAAKvO,EAAYX,IAChBH,KAAKklB,MAAQxf,EAAYuiB,YACzBjoB,KAAK4jB,kBAAkB1iB,OAAOf,GAC9BH,KAAKG,MAAM,yBAA0BA,GACrCuE,EAAS6B,OAAOC,iBAAiB,yBAAyBxG,KAAKiiB,SAE5D,IAAIvd,EAASnE,WAAW,KACvBP,KAAKkoB,aACLloB,KAAKmoB,SAIjB,oBAII,OAHKnoB,KAAK+iB,qBACN/iB,KAAK+iB,mBAAqB/iB,KAAKqD,oBAE5BrD,KAAK+iB,mBAEhB,WAAWiD,GACPhmB,KAAKooB,aAAapC,GAAY,GAC9B,IAAIqC,EAAaroB,KAAKkiB,eAAeK,sBACjC+F,EAAWtoB,KAAKkiB,eAAe7B,gBAC7BrgB,KAAKkiB,eAAe7B,gBAAgBxT,IAAI0b,OACxCvoB,KAAKwoB,qBACPC,EAAa,CACbC,UAAW,KACXC,WAAY,CACRnsB,KAAM,SACNosB,QAASlkB,EAASkkB,SAEtBN,SAAUA,GAAsB,KAChCO,QAASP,EAAWtoB,KAAKwkB,KAAKxS,MAAMtN,EAASokB,IAAIC,KAAKT,IAAa,KACnEjc,aAAcrM,KAAKgpB,4BACnBzG,sBAAuBxd,EAAGwE,KAAK8e,GAAcA,IAAeA,EAC5DpC,MAAOthB,EAAiCuf,MAAM7hB,SAASrC,KAAKikB,QAC5DgF,iBAAkB,MAGtB,GADAjpB,KAAKkpB,qBAAqBT,GACtBzoB,KAAKkiB,eAAeO,yBAA0B,CAC9C,MAAM/N,EAAQzP,EAAKyH,eACbyc,EAAO,IAAIjkB,EAAekkB,aAAapD,EAAYtR,GAEzD,OADA+T,EAAWY,cAAgB3U,EACpB1U,KAAKspB,aAAatD,EAAYyC,GAAYpZ,KAAM+J,IACnD+P,EAAKI,OACEnQ,GACPjZ,IAEA,MADAgpB,EAAKK,SACCrpB,IAIV,OAAOH,KAAKspB,aAAatD,EAAYyC,GAG7C,aAAazC,EAAYyC,GACrB,OAAOzC,EAAWgC,WAAWS,GAAYpZ,KAAM+J,IAC3CpZ,KAAKgjB,oBAAsBgD,EAC3BhmB,KAAKijB,kBAAoB7J,EACzBpZ,KAAKklB,MAAQxf,EAAYyf,QACzB,IAAI5Y,OAA0BzL,EAoC9B,OAnCIiE,EAAG0kB,OAAOrQ,EAAO/M,aAAaqd,kBAE1Bnd,EADA6M,EAAO/M,aAAaqd,mBAAqB/kB,EAAiC8I,qBAAqBC,KACrE,CACtBjB,WAAW,EACXe,OAAQ7I,EAAiC8I,qBAAqBC,KAC9DuC,UAAMnP,GAIgB,CACtB2L,WAAW,EACXe,OAAQ4L,EAAO/M,aAAaqd,iBAC5BzZ,KAAM,CACFE,aAAa,SAKqB,IAAzCiJ,EAAO/M,aAAaqd,kBAAwE,OAAzCtQ,EAAO/M,aAAaqd,mBAC5End,EAA0B6M,EAAO/M,aAAaqd,kBAElD1pB,KAAKwQ,cAAgB7T,OAAOgR,OAAO,GAAIyL,EAAO/M,aAAc,CAAEG,yBAA0BD,IACxFyZ,EAAW2D,cAAczb,GAAUlO,KAAK4pB,kBAAkB1b,IAC1D8X,EAAWP,UAAU9gB,EAAiCklB,oBAAoB/d,KAAMoC,GAAUlO,KAAK8pB,0BAA0B5b,IAEzH8X,EAAWP,UAAU,yBAA0BvX,GAAUlO,KAAK8pB,0BAA0B5b,IACxF8X,EAAWP,UAAU9gB,EAAiColB,sBAAsBje,KAAMoC,GAAUlO,KAAKgqB,4BAA4B9b,IAE7H8X,EAAWP,UAAU,2BAA4BvX,GAAUlO,KAAKgqB,4BAA4B9b,IAC5F8X,EAAWP,UAAU9gB,EAAiCslB,0BAA0Bne,KAAMoC,GAAUlO,KAAKkqB,yBAAyBhc,IAC9H8X,EAAWhb,iBAAiBrG,EAAiCwlB,wBAAwBre,KAAM,IAC3F9L,KAAKoqB,eAAepE,GACpBhmB,KAAKqqB,yBAAyBrE,GAC9BhmB,KAAKsqB,mBAAmBtE,GACxBhmB,KAAK4jB,kBAAkB3iB,UAChBmY,IACR/J,UAAKvO,EAAYX,IA6BhB,MA5BIH,KAAKkiB,eAAeM,4BAChBxiB,KAAKkiB,eAAeM,4BAA4BriB,GAChDH,KAAKgoB,WAAWhC,IAGhBhmB,KAAKmoB,OACLnoB,KAAK4jB,kBAAkB1iB,OAAOf,IAG7BA,aAAiBwE,EAAiCwhB,eAAiBhmB,EAAMsK,MAAQtK,EAAMsK,KAAK8f,MACjG7lB,EAAS6B,OAAOC,iBAAiBrG,EAAMiF,QAAS,CAAEolB,MAAO,QAAS1f,GAAI,UAAWuE,KAAK6F,IAC9EA,GAAoB,UAAZA,EAAKpK,GACb9K,KAAKgoB,WAAWhC,IAGhBhmB,KAAKmoB,OACLnoB,KAAK4jB,kBAAkB1iB,OAAOf,OAKlCA,GAASA,EAAMiF,SACfV,EAAS6B,OAAOC,iBAAiBrG,EAAMiF,SAE3CpF,KAAKG,MAAM,gCAAiCA,GAC5CH,KAAKmoB,OACLnoB,KAAK4jB,kBAAkB1iB,OAAOf,IAE5BA,IAGd,qBACI,IAAIsqB,EAAU/lB,EAASiH,UAAUsd,iBACjC,IAAKwB,GAA8B,IAAnBA,EAAQpkB,OACpB,OAEJ,IAAIqkB,EAASD,EAAQ,GACrB,MAA0B,SAAtBC,EAAO7d,IAAI8d,OACJD,EAAO7d,IAAI0b,YADtB,EAKJ,OAEI,OADAvoB,KAAKijB,uBAAoBniB,EACpBd,KAAK+iB,mBAIN/iB,KAAKklB,QAAUxf,EAAY0hB,UAAYpnB,KAAK6jB,QACrC7jB,KAAK6jB,SAEhB7jB,KAAKklB,MAAQxf,EAAY0hB,SACzBpnB,KAAK4qB,SAAQ,GAEN5qB,KAAK6jB,QAAU7jB,KAAK+lB,oBAAoB1W,KAAK2W,GACzCA,EAAW6E,WAAWxb,KAAK,KAC9B2W,EAAW8E,OACX9E,EAAWpkB,UACX5B,KAAKklB,MAAQxf,EAAY2f,QACzBrlB,KAAK+qB,iBACL/qB,KAAK6jB,aAAU/iB,EACfd,KAAK+iB,wBAAqBjiB,EAC1Bd,KAAKgjB,yBAAsBliB,OAjB/Bd,KAAKklB,MAAQxf,EAAY2f,QAClBrkB,QAAQC,WAoBvB,QAAQ+pB,GAAU,EAAMC,GAAc,GAC9BjrB,KAAKof,aACLpf,KAAKof,WAAWxS,QAAQse,GAAYA,EAAStpB,WAC7C5B,KAAKof,gBAAate,GAElBd,KAAKujB,aACLvjB,KAAKujB,WAAW3W,QAAQ+F,GAAYA,EAAS/Q,WAC7C5B,KAAKujB,gBAAaziB,GAElBd,KAAK0L,kBACL1L,KAAK0L,iBAAiBL,QAE1B,IAAK,IAAIma,KAAWxlB,KAAK+hB,iBAAiBhX,SACtCya,EAAQ5jB,UAERopB,GACAhrB,KAAK+qB,iBAELE,GAAejrB,KAAKwjB,eACpBxjB,KAAKwjB,aAAa5hB,UAClB5B,KAAKwjB,kBAAe1iB,GAG5B,iBACQd,KAAKmjB,gBAAkBnjB,KAAKojB,wBAC5BpjB,KAAKmjB,eAAevhB,UACpB5B,KAAKmjB,oBAAiBriB,GAG9B,gBAAgBgN,GACZ,IAAIqd,EACJ,MAAM1f,EAASzL,KACf,SAASorB,EAAqBtd,GAC1BrC,EAAOgY,YAAYvd,KAAK4H,GACxBrC,EAAOiY,kBAAkBjV,QAAQ,KAC7BhD,EAAOqa,UAAUzW,KAAK,KAClB5D,EAAOsa,oBAAoB1W,KAAK2W,IACxBva,EAAO6Z,uBACP7Z,EAAO8Z,oBACPS,EAAWqF,sBAAsB,CAAEC,QAAS7f,EAAOgY,eAEvDhY,EAAOgY,YAAc,MAEzBtjB,IACAsL,EAAOtL,MAAM,6BAA8BA,OAIvD,MAAMorB,EAA+D,QAAxCJ,EAAKnrB,KAAK+L,cAAcC,kBAA+B,IAAPmf,OAAgB,EAASA,EAAGxf,WACxG4f,aAAiE,EAASA,EAAoBH,sBAAwBG,EAAoBH,qBAAqBtd,EAAOsd,GAAwBA,EAAqBtd,GAExN,oBACI9N,KAAK+hB,iBAAiBjlB,IAAI6H,EAAiC4I,kCAAkCzB,KAAKjN,QAAQ0P,gBAE9G,kBAAkBL,GACd,IAAKlO,KAAKwjB,aACN,OAEJ,IAAI3W,EAAM7M,KAAK2kB,KAAK3S,MAAM9D,EAAOrB,KAC7Boe,EAAcjrB,KAAK2kB,KAAK6G,cAActd,EAAO+c,aAC7Cjf,EAAahM,KAAK+L,cAAcC,WAChCA,EAAW4d,kBACX5d,EAAW4d,kBAAkB/c,EAAKoe,EAAa,CAACpe,EAAKoe,IAAgBjrB,KAAKyrB,eAAe5e,EAAKoe,IAG9FjrB,KAAKyrB,eAAe5e,EAAKoe,GAGjC,eAAepe,EAAKoe,GACXjrB,KAAKwjB,cAGVxjB,KAAKwjB,aAAa3Y,IAAIgC,EAAKoe,GAE/B,mBACI,IAAIvI,EAAe,CAACviB,EAAOiF,EAASW,KAChC/F,KAAK0rB,sBAAsBvrB,EAAOiF,EAASW,IAE3C4lB,EAAe,KACf3rB,KAAK4rB,0BAET,OAAO5rB,KAAK6rB,wBAAwB7rB,KAAKkiB,eAAeI,eAAiB,QAAQjT,KAAMyc,GAvtE/F,SAA0BztB,EAAOC,EAAQokB,EAAciJ,EAAcntB,GACjE,IAAID,EAAS,IAAI4G,EACb6gB,EAAarhB,EAAiCvG,yBAAyBC,EAAOC,EAAQC,EAAQC,GAyClG,OAxCAwnB,EAAW+F,QAASthB,IAAWiY,EAAajY,EAAK,GAAIA,EAAK,GAAIA,EAAK,MACnEub,EAAWgG,QAAQL,GACN,CACT1oB,OAAQ,IAAM+iB,EAAW/iB,SACzBmM,YAAa,CAACtD,KAASoC,IAAW8X,EAAW5W,YAAYrK,EAAGgM,OAAOjF,GAAQA,EAAOA,EAAKjN,UAAWqP,GAClGuX,UAAW,CAAC3Z,EAAM0Z,IAAYQ,EAAWP,UAAU1gB,EAAGgM,OAAOjF,GAAQA,EAAOA,EAAKjN,OAAQ2mB,GACzFxa,iBAAkB,CAACc,EAAMoC,IAAW8X,EAAWhb,iBAAiBjG,EAAGgM,OAAOjF,GAAQA,EAAOA,EAAKjN,OAAQqP,GACtGwX,eAAgB,CAAC5Z,EAAM0Z,IAAYQ,EAAWN,eAAe3gB,EAAGgM,OAAOjF,GAAQA,EAAOA,EAAKjN,OAAQ2mB,GACnGG,WAAYK,EAAWL,WACvBC,aAAcI,EAAWJ,aACzBK,MAAO,CAAC/oB,EAAO+uB,EAAQC,KACnB,MAAMC,EAAsB,CACxBnhB,kBAAkB,EAClBkb,YAAavhB,EAAiCid,YAAYpZ,WAEvB,IAAnC0jB,EACAlG,EAAWC,MAAM/oB,EAAO+uB,EAAQE,IAE3BpnB,EAAGiO,QAAQkZ,GAChBlG,EAAWC,MAAM/oB,EAAO+uB,EAAQC,KAMxClE,WAAa9Z,GAAW8X,EAAW5W,YAAYzK,EAAiCynB,kBAAkBtgB,KAAMoC,GACxG2c,SAAU,IAAM7E,EAAW5W,YAAYzK,EAAiC0nB,gBAAgBvgB,UAAMhL,GAC9FgqB,KAAM,IAAM9E,EAAWhb,iBAAiBrG,EAAiC2nB,iBAAiBxgB,MAC1Fyb,aAAe/B,GAAYQ,EAAWN,eAAe/gB,EAAiC4nB,uBAAuBzgB,KAAM0Z,GACnHkC,cAAgBlC,GAAYQ,EAAWN,eAAe/gB,EAAiC6nB,wBAAwB1gB,KAAM0Z,GACrHuC,YAAcvC,GAAYQ,EAAWN,eAAe/gB,EAAiC8nB,2BAA2B3gB,KAAM0Z,GACtH3F,uBAAyB3R,GAAW8X,EAAWhb,iBAAiBrG,EAAiC0a,mCAAmCvT,KAAMoC,GAC1Imd,sBAAwBnd,GAAW8X,EAAWhb,iBAAiBrG,EAAiC4L,kCAAkCzE,KAAMoC,GACxIwe,oBAAsBxe,GAAW8X,EAAWhb,iBAAiBrG,EAAiCkH,gCAAgCC,KAAMoC,GACpIye,sBAAwBze,GAAW8X,EAAWhb,iBAAiBrG,EAAiC4I,kCAAkCzB,KAAMoC,GACxI0e,qBAAuB1e,GAAW8X,EAAWhb,iBAAiBrG,EAAiCsI,iCAAiCnB,KAAMoC,GACtI2e,oBAAsB3e,GAAW8X,EAAWhb,iBAAiBrG,EAAiCkL,gCAAgC/D,KAAMoC,GACpIyb,cAAgBnE,GAAYQ,EAAWN,eAAe/gB,EAAiCmoB,+BAA+BhhB,KAAM0Z,GAC5H5jB,QAAS,IAAMokB,EAAWpkB,WA+qEfyB,CAAiByoB,EAAWpoB,OAAQooB,EAAWloB,OAAQ8e,EAAciJ,EAAc3rB,KAAKkiB,eAAeU,oBAGtH,yBAEI,GAAI5iB,KAAKklB,QAAUxf,EAAY0hB,UAAYpnB,KAAKklB,QAAUxf,EAAY2f,QAClE,OAEJ,IACQrlB,KAAKgjB,qBACLhjB,KAAKgjB,oBAAoBphB,UAGjC,MAAOzB,IAGP,IAAI4sB,EAASvoB,EAAYiC,aACzB,IACIsmB,EAAS/sB,KAAKkiB,eAAeQ,aAAasK,SAE9C,MAAO7sB,IAGPH,KAAK+iB,wBAAqBjiB,EAC1Bd,KAAKgjB,yBAAsBliB,EACvBisB,IAAWvoB,EAAYiC,cACvBzG,KAAKG,MAAM,kEACXH,KAAKklB,MAAQxf,EAAY2f,QACzBrlB,KAAK4qB,SAAQ,GAAO,IAEfmC,IAAWvoB,EAAY8B,UAC5BtG,KAAKwF,KAAK,yDACVxF,KAAK4qB,SAAQ,GAAO,GACpB5qB,KAAKklB,MAAQxf,EAAYod,QACzB9iB,KAAKitB,SAGb,sBAAsB9sB,EAAOiF,EAASW,GACrB/F,KAAKkiB,eAAeQ,aAAaviB,MAAMA,EAAOiF,EAASW,KACrDtB,EAAYwB,WACvBjG,KAAKG,MAAM,2DACXH,KAAKmoB,QAGb,yBAAyBnC,GACrBthB,EAASiH,UAAU8T,yBAAyB,KACxCzf,KAAKooB,aAAapC,GAAY,KAGtC,aAAaA,EAAYhb,GAAmB,GACxC,IAAIiL,EAASvR,EAASiH,UAAU6U,iBAAiBxgB,KAAKgiB,KAClDiE,EAAQthB,EAAiCuf,MAAMC,IAC/C+B,EAAcvhB,EAAiCid,YAAYpZ,KAC/D,GAAIyN,EAAQ,CACR,MAAMiX,EAAcjX,EAAOnZ,IAAI,eAAgB,OACpB,iBAAhBowB,EACPjH,EAAQthB,EAAiCuf,MAAMiJ,WAAWD,IAG1DjH,EAAQthB,EAAiCuf,MAAMiJ,WAAWlX,EAAOnZ,IAAI,yBAA0B,QAC/FopB,EAAcvhB,EAAiCid,YAAYuL,WAAWlX,EAAOnZ,IAAI,sBAAuB,UAGhHkD,KAAKikB,OAASgC,EACdjmB,KAAK2hB,aAAeuE,EACpBF,EAAWC,MAAMjmB,KAAKikB,OAAQjkB,KAAKokB,QAAS,CACxCpZ,mBACAkb,YAAalmB,KAAK2hB,eAG1B,eAAeyL,GACX,IAIIxc,EAJAyc,EAAartB,KAAKkiB,eAAe3C,YAAY8N,WAC5CA,IAKDzc,EADA7L,EAAGuoB,MAAMD,GACEA,EAGA,CAACA,GAEXzc,GAGL5Q,KAAK+hB,iBAAiBjlB,IAAI6H,EAAiC4L,kCAAkCzE,KAAKjN,QAAQ0uB,YAAYtoB,EAAKyH,eAAgBkE,IAE/I,iBAAiB4c,GACb,IAAK,IAAIC,KAAWD,EAChBxtB,KAAK0tB,gBAAgBD,GAG7B,gBAAgBA,GAEZ,GADAztB,KAAK6hB,UAAU3b,KAAKunB,GAChBpkB,EAAepF,GAAGwpB,GAAU,CAC5B,IAAI/jB,EAAW+jB,EAAQ/jB,SACvB,GAAI5B,MAAM6I,QAAQjH,GACd,IAAK,IAAItE,KAAWsE,EAChB1J,KAAK8hB,gBAAgBjX,IAAIzF,EAAQvG,OAAQuG,GACzCpF,KAAK+hB,iBAAiBlX,IAAIzF,EAAQvG,OAAQ4uB,QAI9CztB,KAAK8hB,gBAAgBjX,IAAInB,EAAS7K,OAAQ6K,GAC1C1J,KAAK+hB,iBAAiBlX,IAAInB,EAAS7K,OAAQ4uB,IAIvD,WAAWE,GACP,OAAO3tB,KAAK+hB,iBAAiBjlB,IAAI6wB,GAErC,0BACI3tB,KAAK0tB,gBAAgB,IAAIvO,EAAqBnf,OAC9CA,KAAK0tB,gBAAgB,IAAIliB,EAA2BxL,KAAMA,KAAK0L,mBAC/D1L,KAAK0tB,gBAAgB,IAAItgB,EAA6BpN,OACtDA,KAAK0tB,gBAAgB,IAAI/e,EAAgB3O,OACzCA,KAAK0tB,gBAAgB,IAAIze,EAAyBjP,OAClDA,KAAK0tB,gBAAgB,IAAI/d,EAA2B3P,OACpDA,KAAK0tB,gBAAgB,IAAI3gB,EAA4B/M,KAAMA,KAAK0L,mBAChE1L,KAAK0tB,gBAAgB,IAAItd,EAAyBpQ,KAAO8N,GAAU9N,KAAK4tB,gBAAgB9f,KACxF9N,KAAK0tB,gBAAgB,IAAIxa,EAAsBlT,OAC/CA,KAAK0tB,gBAAgB,IAAIpY,EAAatV,OACtCA,KAAK0tB,gBAAgB,IAAI3X,EAAqB/V,OAC9CA,KAAK0tB,gBAAgB,IAAI5W,EAAkB9W,OAC3CA,KAAK0tB,gBAAgB,IAAIpW,EAAkBtX,OAC3CA,KAAK0tB,gBAAgB,IAAI5V,EAAyB9X,OAClDA,KAAK0tB,gBAAgB,IAAIrV,EAAsBrY,OAC/CA,KAAK0tB,gBAAgB,IAAIvU,EAAuBnZ,OAChDA,KAAK0tB,gBAAgB,IAAI9T,EAAkB5Z,OAC3CA,KAAK0tB,gBAAgB,IAAIjS,EAAgBzb,OACzCA,KAAK0tB,gBAAgB,IAAItR,EAA0Bpc,OACnDA,KAAK0tB,gBAAgB,IAAIhR,EAA+B1c,OACxDA,KAAK0tB,gBAAgB,IAAI3Q,EAAgC/c,OACzDA,KAAK0tB,gBAAgB,IAAIlQ,EAAcxd,OACvCA,KAAK0tB,gBAAgB,IAAIpP,EAAoBte,OAC7CA,KAAK0tB,gBAAgB,IAAI9M,EAAsB5gB,OAEnD,qBAAqBkO,GACjB,IAAK,IAAIuf,KAAWztB,KAAK6hB,UACjB9c,EAAGwE,KAAKkkB,EAAQvE,uBAChBuE,EAAQvE,qBAAqBhb,GAIzC,4BACI,IAAIkL,EAAS,GACbjQ,EAAOiQ,EAAQ,aAAayU,WAAY,EACxC,IAAIC,EAAgB3kB,EAAOA,EAAOiQ,EAAQ,aAAc,iBACxD0U,EAAcC,iBAAkB,EAChCD,EAAcE,mBAAqB,CAACrpB,EAAiCspB,sBAAsB3c,OAAQ3M,EAAiCspB,sBAAsBC,OAAQvpB,EAAiCspB,sBAAsBzc,QACzNsc,EAAcK,gBAAkBxpB,EAAiCypB,oBAAoBC,sBACrF,IAAIpD,EAAc9hB,EAAOA,EAAOiQ,EAAQ,gBAAiB,sBACzD6R,EAAYqD,oBAAqB,EACjCrD,EAAYsD,gBAAiB,EAC7BtD,EAAYjX,WAAa,CAAEC,SAAU,CAACtP,EAAiC6pB,cAAcC,YAAa9pB,EAAiC6pB,cAActlB,aACjJ+hB,EAAYyD,8BAA+B,EAC3C,IAAK,IAAIjB,KAAWztB,KAAK6hB,UACrB4L,EAAQkB,uBAAuBvV,GAEnC,OAAOA,EAEX,mBAAmBgU,GACf,IAAIziB,EAAmB3K,KAAKkiB,eAAevX,iBAC3C,IAAK,IAAI8iB,KAAWztB,KAAK6hB,UACrB4L,EAAQzF,WAAWhoB,KAAKwQ,cAAe7F,GAG/C,0BAA0BuD,GACtB,OAAO,IAAIlN,QAAQ,CAACC,EAASC,KACzB,IAAK,IAAIuR,KAAgBvE,EAAO0gB,cAAe,CAC3C,MAAMnB,EAAUztB,KAAK+hB,iBAAiBjlB,IAAI2V,EAAa5T,QACvD,IAAK4uB,EAED,YADAvsB,EAAO,IAAIqK,MAAM,iCAAiCkH,EAAa5T,uCAGnE,MAAML,EAAUiU,EAAa/H,iBAAmB,GAChDlM,EAAQmM,iBAAmBnM,EAAQmM,kBAAoB3K,KAAKkiB,eAAevX,iBAC3E,MAAMF,EAAO,CACTK,GAAI2H,EAAa3H,GACjBJ,gBAAiBlM,GAErBivB,EAAQjkB,SAASxJ,KAAK8hB,gBAAgBhlB,IAAI2V,EAAa5T,QAAS4L,GAEpExJ,MAGR,4BAA4BiN,GACxB,OAAO,IAAIlN,QAAQ,CAACC,EAASC,KACzB,IAAK,IAAI2tB,KAAkB3gB,EAAO4gB,iBAAkB,CAChD,MAAMrB,EAAUztB,KAAK+hB,iBAAiBjlB,IAAI+xB,EAAehwB,QACzD,IAAK4uB,EAED,YADAvsB,EAAO,IAAIqK,MAAM,iCAAiCsjB,EAAehwB,yCAGrE4uB,EAAQhkB,WAAWolB,EAAe/jB,IAEtC7J,MAGR,yBAAyBiN,GAGrB,IAAI4f,EAAgB5f,EAAO6gB,KACvBC,EAAoB,IAAI7kB,IAC5BzF,EAASiH,UAAUgB,cAAcC,QAAStB,GAAa0jB,EAAkBnkB,IAAIS,EAASuB,IAAIxK,WAAYiJ,IACtG,IAAI2jB,GAAkB,EACtB,GAAInB,EAAcC,gBACd,IAAK,MAAMvgB,KAAUsgB,EAAcC,gBAC/B,GAAIppB,EAAiCuqB,iBAAiBjrB,GAAGuJ,IAAWA,EAAOnD,aAAaue,SAAWpb,EAAOnD,aAAaue,SAAW,EAAG,CACjI,IAAIve,EAAe2kB,EAAkBlyB,IAAI0Q,EAAOnD,aAAawC,KAC7D,GAAIxC,GAAgBA,EAAaue,UAAYpb,EAAOnD,aAAaue,QAAS,CACtEqG,GAAkB,EAClB,OAKhB,OAAIA,EACOjuB,QAAQC,QAAQ,CAAEkuB,SAAS,IAE/BpqB,EAAGqqB,UAAU1qB,EAASiH,UAAUkiB,UAAU7tB,KAAK2kB,KAAK3G,gBAAgB9P,EAAO6gB,OAAO1f,KAAMnS,IAAmB,CAAEiyB,QAASjyB,MAEjI,oBAAoB4O,EAAM3L,EAAOkvB,GAE7B,GAAIlvB,aAAiBwE,EAAiCwhB,cAAe,CACjE,GAAIhmB,EAAMkmB,OAAS1hB,EAAiC2qB,WAAWC,iBAC3D,MAAMvvB,KAAKwvB,kBAEV,GAAIrvB,EAAMkmB,OAAS1hB,EAAiC2qB,WAAWG,gBAChE,OAAOJ,EAIf,MADArvB,KAAKG,MAAM,WAAW2L,EAAKjN,iBAAkBsB,GACvCA,EAEV,kBACI,MAAMiZ,EAAS,IAAI7N,MAAMpH,EAAmBurB,UAE5C,OADAtW,EAAO5c,KAAO2H,EAAmBurB,SAC1BtW,GAGfrd,EAAQoI,mBAAqBA,EAC7BA,EAAmBurB,SAAW,Y,6BCl+E9B,IAAIC,EACJ,SAAStqB,IACL,QAAavE,IAAT6uB,EACA,MAAM,IAAIpkB,MAAM,0CAEpB,OAAOokB,EANXhzB,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IAQtD,SAAWmI,GAOPA,EAAI9F,QANJ,SAAiBqwB,GACb,QAAY9uB,IAAR8uB,EACA,MAAM,IAAIrkB,MAAM,yCAEpBokB,EAAOC,GALf,CAQGvqB,IAAQA,EAAM,KACjBtJ,EAAQuD,QAAU+F,G,6BCXlB,SAAS0L,EAAO7T,GACZ,MAAwB,iBAAVA,GAAsBA,aAAiByK,OAWzD,SAAS4B,EAAKrM,GACV,MAAwB,mBAAVA,EAGlB,SAASowB,EAAMpwB,GACX,OAAO4K,MAAM6I,QAAQzT,GAWzB,SAAS2yB,EAAS3yB,GACd,OAAOA,GAASqM,EAAKrM,EAAMmS,MAnC/B1S,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQqzB,UAAYrzB,EAAQ8zB,SAAW9zB,EAAQ+zB,WAAa/zB,EAAQg0B,YAAch0B,EAAQuxB,MAAQvxB,EAAQwN,KAAOxN,EAAQoE,MAAQpE,EAAQ0tB,OAAS1tB,EAAQgV,OAAShV,EAAQiX,aAAU,EAIrLjX,EAAQiX,QAHR,SAAiB9V,GACb,OAAiB,IAAVA,IAA4B,IAAVA,GAM7BnB,EAAQgV,OAASA,EAIjBhV,EAAQ0tB,OAHR,SAAgBvsB,GACZ,MAAwB,iBAAVA,GAAsBA,aAAiB0K,QAMzD7L,EAAQoE,MAHR,SAAejD,GACX,OAAOA,aAAiBqO,OAM5BxP,EAAQwN,KAAOA,EAIfxN,EAAQuxB,MAAQA,EAIhBvxB,EAAQg0B,YAHR,SAAqB7yB,GACjB,OAAOowB,EAAMpwB,IAAUA,EAAM8yB,MAAMC,GAAQlf,EAAOkf,KAMtDl0B,EAAQ+zB,WAHR,SAAoB5yB,EAAOgzB,GACvB,OAAOpoB,MAAM6I,QAAQzT,IAAUA,EAAM8yB,MAAME,IAM/Cn0B,EAAQ8zB,SAAWA,EAcnB9zB,EAAQqzB,UAbR,SAAmBlyB,GACf,OAAIA,aAAiB8D,QACV9D,EAEF2yB,EAAS3yB,GACP,IAAI8D,QAAQ,CAACC,EAASC,KACzBhE,EAAMmS,KAAM8gB,GAAalvB,EAAQkvB,GAAYhwB,GAAUe,EAAOf,MAI3Da,QAAQC,QAAQ/D,K,6BC3C/B,SAAS6T,EAAO7T,GACZ,MAAwB,iBAAVA,GAAsBA,aAAiByK,OAezD,SAAS2lB,EAAMpwB,GACX,OAAO4K,MAAM6I,QAAQzT,GAtBzBP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IAItDnB,EAAQiX,QAHR,SAAiB9V,GACb,OAAiB,IAAVA,IAA4B,IAAVA,GAM7BnB,EAAQgV,OAASA,EAIjBhV,EAAQ0tB,OAHR,SAAgBvsB,GACZ,MAAwB,iBAAVA,GAAsBA,aAAiB0K,QAMzD7L,EAAQoE,MAHR,SAAejD,GACX,OAAOA,aAAiBqO,OAM5BxP,EAAQwN,KAHR,SAAcrM,GACV,MAAwB,mBAAVA,GAMlBnB,EAAQuxB,MAAQA,EAIhBvxB,EAAQg0B,YAHR,SAAqB7yB,GACjB,OAAOowB,EAAMpwB,IAAUA,EAAM8yB,MAAMC,GAAQlf,EAAOkf,M,6BC1BtDtzB,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMkzB,EAAQ,EAAQ,IAEtB,SAAWjoB,GACP,MAAMkoB,EAAc,CAAE,aACtBloB,EAAMuF,KAAO,WAAc,OAAO2iB,GAFtC,CAGWt0B,EAAQoM,QAAUpM,EAAQoM,MAAQ,KAC7C,MAAMmoB,EACF,IAAIhwB,EAAUqU,EAAU,KAAM4b,GACrBvwB,KAAKwwB,aACNxwB,KAAKwwB,WAAa,GAClBxwB,KAAKywB,UAAY,IAErBzwB,KAAKwwB,WAAWtqB,KAAK5F,GACrBN,KAAKywB,UAAUvqB,KAAKyO,GAChB7M,MAAM6I,QAAQ4f,IACdA,EAAOrqB,KAAK,CAAEtE,QAAS,IAAM5B,KAAK0wB,OAAOpwB,EAAUqU,KAG3D,OAAOrU,EAAUqU,EAAU,MACvB,IAAK3U,KAAKwwB,WACN,OAEJ,IAAIG,GAAoC,EACxC,IAAK,IAAI10B,EAAI,EAAG20B,EAAM5wB,KAAKwwB,WAAWnqB,OAAQpK,EAAI20B,EAAK30B,IACnD,GAAI+D,KAAKwwB,WAAWv0B,KAAOqE,EAAU,CACjC,GAAIN,KAAKywB,UAAUx0B,KAAO0Y,EAItB,OAFA3U,KAAKwwB,WAAWK,OAAO50B,EAAG,QAC1B+D,KAAKywB,UAAUI,OAAO50B,EAAG,GAIzB00B,GAAoC,EAIhD,GAAIA,EACA,MAAM,IAAIplB,MAAM,qFAGxB,UAAU2V,GACN,IAAKlhB,KAAKwwB,WACN,MAAO,GAEX,MAAMM,EAAM,GAAIC,EAAY/wB,KAAKwwB,WAAWQ,MAAM,GAAIC,EAAWjxB,KAAKywB,UAAUO,MAAM,GACtF,IAAK,IAAI/0B,EAAI,EAAG20B,EAAMG,EAAU1qB,OAAQpK,EAAI20B,EAAK30B,IAC7C,IACI60B,EAAI5qB,KAAK6qB,EAAU90B,GAAGi1B,MAAMD,EAASh1B,GAAIilB,IAE7C,MAAOiQ,GAEHf,EAAM9wB,UAAUgG,QAAQnF,MAAMgxB,GAGtC,OAAOL,EAEX,UACI,OAAQ9wB,KAAKwwB,YAAyC,IAA3BxwB,KAAKwwB,WAAWnqB,OAE/C,UACIrG,KAAKwwB,gBAAa1vB,EAClBd,KAAKywB,eAAY3vB,GAGzB,MAAMijB,EACF,YAAYvK,GACRxZ,KAAKwZ,SAAWA,EAMpB,YA6BI,OA5BKxZ,KAAK6J,SACN7J,KAAK6J,OAAS,CAACqhB,EAAUkG,EAAUC,KAC1BrxB,KAAKwwB,aACNxwB,KAAKwwB,WAAa,IAAIF,GAEtBtwB,KAAKwZ,UAAYxZ,KAAKwZ,SAAS8X,oBAAsBtxB,KAAKwwB,WAAWe,WACrEvxB,KAAKwZ,SAAS8X,mBAAmBtxB,MAErCA,KAAKwwB,WAAWgB,IAAItG,EAAUkG,GAC9B,MAAMhY,EAAS,CACXxX,QAAS,KACA5B,KAAKwwB,aAIVxwB,KAAKwwB,WAAWE,OAAOxF,EAAUkG,GACjChY,EAAOxX,QAAUmiB,EAAQ0N,MACrBzxB,KAAKwZ,UAAYxZ,KAAKwZ,SAASkY,sBAAwB1xB,KAAKwwB,WAAWe,WACvEvxB,KAAKwZ,SAASkY,qBAAqB1xB,SAO/C,OAHI8H,MAAM6I,QAAQ0gB,IACdA,EAAYnrB,KAAKkT,GAEdA,IAGRpZ,KAAK6J,OAMhB,KAAKiE,GACG9N,KAAKwwB,YACLxwB,KAAKwwB,WAAWmB,OAAOv1B,KAAK4D,KAAKwwB,WAAY1iB,GAGrD,UACQ9N,KAAKwwB,aACLxwB,KAAKwwB,WAAW5uB,UAChB5B,KAAKwwB,gBAAa1vB,IAI9B/E,EAAQgoB,QAAUA,EAClBA,EAAQ0N,MAAQ,c,cC9HhBz1B,EAAOD,QAAUkC,QAAQ,S,cCAzBjC,EAAOD,QAAUkC,QAAQ,O,2QCKzB,aACA,QAGA,IAAiB2zB,EAGAC,EAIAC,GAPjB,SAAiBF,GACH,EAAA9lB,KAA2E,IAAI,EAAA9M,YAAY,cADzG,CAAiB4yB,EAAA,EAAAA,mBAAA,EAAAA,iBAAgB,KAGjC,SAAiBC,GACH,EAAA/lB,KAAgD,IAAI,EAAA9M,YAAY,WAD9E,CAAiB6yB,EAAA,EAAAA,gBAAA,EAAAA,cAAa,KAI9B,SAAiBC,GACH,EAAAhmB,KAA4D,IAAI,EAAA9M,YAAY,cAD1F,CAAiB8yB,EAAA,EAAAA,mBAAA,EAAAA,iBAAgB,KAIjC,mCAAwCrmB,EAA8BsmB,GACrEtmB,EAAOga,UAAUmM,EAAiB9lB,KAAOkmB,IACxC,MAAMnlB,EAAM,EAAAic,IAAImJ,MAAMD,EAAMnlB,KAC5B,MAAmB,SAAfA,EAAI8d,QAAqBoH,EAAQG,GAC7BH,EAAQG,GAAGC,WAAWH,EAAMnlB,KAE7B,EAAAlB,UAAUumB,GAAGE,SAASvlB,GAAKwC,KAAKgjB,GAC/B,IAAIN,EAAQO,YAAYN,EAAM1wB,UAAUixB,OAAOF,MAGxD5mB,EAAOga,UAAUqM,EAAiBhmB,KAAO0mB,IACxC,MAAM3lB,EAAM,EAAAic,IAAImJ,MAAMO,GACtB,MAAmB,SAAf3lB,EAAI8d,QAAqBoH,EAAQG,GAC7BH,EAAQG,GAAGO,cAAcD,GAE1B,EAAA7mB,UAAUumB,GAAGO,cAAc5lB,KAEnCpB,EAAOga,UAAUoM,EAAc/lB,KAAO0mB,IACrC,MAAM3lB,EAAM,EAAAic,IAAImJ,MAAMO,GACtB,MAAmB,SAAf3lB,EAAI8d,QAAqBoH,EAAQG,GAC7BH,EAAQG,GAAGQ,KAAKF,GAEjB,EAAA7mB,UAAUumB,GAAGQ,KAAK7lB,MAI3B,SAAY8lB,GAIX,yBAIA,mBAIA,6BAIA,oCAhBD,CAAY,EAAAA,WAAA,EAAAA,SAAQ,KA6CpB,qBAA0B9lB,GACzB,OAAOA,EAAI4T,OAAO,EAAG5T,EAAI0T,QAAQ,OAGlC,mBAAwB1T,GACvB,MAAM+lB,EAAmB/lB,EAAIgmB,YAAY,KACzC,OAA6B,IAAtBD,EAA0B/lB,EAAI4T,OAAO,EAAGmS,GAAoB,IAGpE,oBAAyB/lB,GACxB,MAAM+lB,EAAmB/lB,EAAIgmB,YAAY,KACzC,OAAOhmB,EAAI4T,OAAOmS,EAAmB,IAGtC,MAAME,EAAQ,IAAIC,WAAW,GACvBC,EAAM,IAAID,WAAW,GAE3B,SAAgBE,EAAexzB,GAC9B,OAAOA,EAAKszB,WAAW,KAAOD,EAU/B,SAAgBI,EAAcC,GAC7B,MAAMC,EAAqB,GAC3B,IAAK,MAAMjK,KAAQgK,EACE,IAAhBhK,EAAK9iB,QAAgC,IAAhB8iB,EAAK9iB,QAAgB8iB,EAAK4J,WAAW,KAAOC,IAE1C,IAAhB7J,EAAK9iB,QAAgB8iB,EAAK4J,WAAW,KAAOC,GAAO7J,EAAK4J,WAAW,KAAOC,EACpFI,EAASC,MAETD,EAASltB,KAAKijB,IAGZgK,EAAM9sB,OAAS,GAAwC,IAAnC8sB,EAAMA,EAAM9sB,OAAS,GAAGA,QAC/C+sB,EAASltB,KAAK,IAEf,IAAIotB,EAAMF,EAAS7wB,KAAK,KAIxB,OAHwB,IAApB4wB,EAAM,GAAG9sB,SACZitB,EAAM,IAAMA,GAENA,EAIR,SAAgBC,EAAS1mB,KAAa2mB,GACrC,MAAML,EAAQtmB,EAAIpN,KAAKihB,MAAM,KAC7B,IAAK,IAAIjhB,KAAQ+zB,EAChBL,EAAMjtB,QAAQzG,EAAKihB,MAAM,MAE1B,OAAO7T,EAAI4mB,KAAK,CAAEh0B,KAAMyzB,EAAcC,KAtCvC,mBAIA,uBAA4BtmB,EAAUpN,GACrC,OAAIwzB,EAAexzB,GACXoN,EAAI4mB,KAAK,CAAEh0B,KAAMyzB,EAAczzB,EAAKihB,MAAM,QAE3C6S,EAAS1mB,EAAKpN,IAGtB,kBAsBA,c,6BCxIA,IAAIi0B,EAAmB1zB,MAAQA,KAAK0zB,kBAAqB/2B,OAAOY,OAAS,SAAUb,EAAGL,EAAGs3B,EAAGC,QAC7E9yB,IAAP8yB,IAAkBA,EAAKD,GAC3Bh3B,OAAOC,eAAeF,EAAGk3B,EAAI,CAAE/2B,YAAY,EAAMC,IAAK,WAAa,OAAOT,EAAEs3B,OAC3E,SAAUj3B,EAAGL,EAAGs3B,EAAGC,QACT9yB,IAAP8yB,IAAkBA,EAAKD,GAC3Bj3B,EAAEk3B,GAAMv3B,EAAEs3B,KAEVE,EAAgB7zB,MAAQA,KAAK6zB,cAAiB,SAASx3B,EAAGN,GAC1D,IAAK,IAAIgC,KAAK1B,EAAa,YAAN0B,GAAoBhC,EAAQ+B,eAAeC,IAAI21B,EAAgB33B,EAASM,EAAG0B,IAEpGpB,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQ+3B,eAAiB/3B,EAAQg4B,eAAiBh4B,EAAQi4B,mBAAgB,EAC1E,MAAMC,EAAK,EAAQ,IACb/B,EAAK,EAAQ,IACbgC,EAAS,EAAQ,IACjBxvB,EAAW,EAAQ,GACnBK,EAAK,EAAQ,GACbovB,EAAiB,EAAQ,IACzBC,EAAW,EAAQ,GACnBC,EAAc,EAAQ,IACtBl2B,EAAS,EAAQ,IACvB01B,EAAa,EAAQ,IAAkB93B,GAEvC,IAAIu4B,EAOAN,EAOAO,EAQAC,EAOAC,EAQAC,GApCJ,SAAWJ,GAIPA,EAAWrwB,GAHX,SAAY/G,GACR,OAAO6H,EAAGgM,OAAO7T,EAAM+jB,UAF/B,CAKGqT,IAAeA,EAAa,KAE/B,SAAWN,GACPA,EAAcA,EAAqB,MAAI,GAAK,QAC5CA,EAAcA,EAAmB,IAAI,GAAK,MAC1CA,EAAcA,EAAoB,KAAI,GAAK,OAC3CA,EAAcA,EAAsB,OAAI,GAAK,SAJjD,CAKGA,EAAgBj4B,EAAQi4B,gBAAkBj4B,EAAQi4B,cAAgB,KAErE,SAAWO,GAKPA,EAAUI,SAJV,SAAkBz3B,GACd,IAAIoM,EAAYpM,EAChB,OAAOoM,GAAaA,EAAU8H,OAAS4iB,EAAc3yB,QAAU0D,EAAG0kB,OAAOngB,EAAU/F,OAH3F,CAMGgxB,IAAcA,EAAY,KAE7B,SAAWC,GAIPA,EAAWvwB,GAHX,SAAY/G,GACR,OAAO6H,EAAGgM,OAAO7T,EAAMlB,SAF/B,CAKGw4B,IAAeA,EAAa,KAE/B,SAAWC,GAKPA,EAAWxwB,GAJX,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,QAAkC,IAArBA,EAAU1F,aAA0C,IAArB0F,EAAU5F,QAHrE,CAMG+wB,IAAeA,EAAa,KAE/B,SAAWC,GAKPA,EAAiBzwB,GAJjB,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,QAAmC,IAAtBA,EAAUvJ,SAAoD,kBAAvBuJ,EAAUsrB,UAH7E,CAMGF,IAAqBA,EAAmB,KAC3C,MAAMX,UAAuBI,EAAeU,qBACxC,YAAYC,EAAMC,EAAMC,EAAMC,EAAMC,GAChC,IAAIpqB,EACAtO,EACA24B,EACAppB,EACAqpB,EACArwB,EAAGgM,OAAOgkB,IACVjqB,EAAKgqB,EACLt4B,EAAOu4B,EACPI,EAAgBH,EAChBjpB,EAAgBkpB,EAChBG,IAAeF,IAGfpqB,EAAKgqB,EAAKO,cACV74B,EAAOs4B,EACPK,EAAgBJ,EAChBhpB,EAAgBipB,EAChBI,EAAaH,QAEE,IAAfG,IACAA,GAAa,GAEjBt2B,MAAMgM,EAAItO,EAAMuP,GAChB/L,KAAKs1B,eAAiBH,EACtBn1B,KAAKu1B,YAAcH,EACnB,IACIp1B,KAAKw1B,eAET,MAAOr1B,GAIH,MAHI4E,EAAGgM,OAAO5Q,EAAMiF,UAChBpF,KAAKkjB,cAAcsD,WAAWrmB,EAAMiF,SAElCjF,GAGd,eACI,IAAIs1B,EAAcvB,EAAOjC,MAAMvtB,EAASkkB,SACxC,IAAK6M,EACD,MAAM,IAAIlqB,MAAM,yDAAyD7G,EAASkkB,SAMtF,GAHI6M,EAAYC,YAAcD,EAAYC,WAAWrvB,OAAS,IAC1DovB,EAAYC,WAAa,KAExBxB,EAAOyB,UAAUF,EA5FE,WA6FpB,MAAM,IAAIlqB,MAAM,6EAAgG7G,EAASkkB,SAGjI,OACI,OAAO9pB,MAAMqpB,OAAO9Y,KAAK,KACrB,GAAIrP,KAAK41B,eAAgB,CACrB,IAAIC,EAAU71B,KAAK41B,eACnB51B,KAAK41B,oBAAiB90B,OACG,IAArBd,KAAK81B,aAA2B91B,KAAK81B,aACrC91B,KAAK+1B,iBAAiBF,GAE1B71B,KAAK81B,iBAAch1B,KAI/B,iBAAiBk1B,GACRA,GAGLC,WAAW,KAEP,IACIl2B,QAAQm2B,KAAKF,EAAaG,IAAK,GAC/B9B,EAAY+B,UAAUJ,GAE1B,MAAO71B,MAGR,KAEP,yBACIH,KAAK41B,oBAAiB90B,EACtBhC,MAAM8sB,yBAEV,qBAAqB1d,GACjBpP,MAAMoqB,qBAAqBhb,GACF,OAArBA,EAAOwa,YACPxa,EAAOwa,UAAY3oB,QAAQo2B,KAGnC,wBAAwB70B,GACpB,SAAS+0B,EAAeC,EAAKC,GACzB,IAAKD,IAAQC,EACT,OAEJ,IAAInd,EAASzc,OAAOY,OAAO,MAS3B,OARAZ,OAAOsjB,KAAKlgB,QAAQu2B,KAAK1pB,QAAQpP,GAAO4b,EAAO5b,GAAOuC,QAAQu2B,IAAI94B,IAC9D+4B,IACAnd,EAA6B,qBAAI,IACjCA,EAAyB,iBAAI,KAE7Bkd,GACA35B,OAAOsjB,KAAKqW,GAAK1pB,QAAQpP,GAAO4b,EAAO5b,GAAO84B,EAAI94B,IAE/C4b,EAEX,MAAMod,EAAiB,CAAC,WAAY,eAAgB,aAAc,kBAC5DC,EAAc,CAAC,UAAW,cAAe,YAAa,iBAW5D,SAASC,EAAY32B,GACjB,GAAsB,OAAlBA,EAAQ42B,OAAqC,OAAnB52B,EAAQ62B,QAAsC,OAAnB72B,EAAQ82B,OAC7D,MAAM,IAAItrB,MAAM,yCAGxB,IA2BIurB,EA3BAh0B,EAAS9C,KAAKs1B,eAElB,GAAIvwB,EAAGwE,KAAKzG,GACR,OAAOA,IAASuM,KAAM+J,IAClB,GAAIgb,EAAShwB,kBAAkBH,GAAGmV,GAE9B,OADApZ,KAAK81B,cAAgB1c,EAAOwb,SACrBxb,EAEN,GAAIqb,EAAWxwB,GAAGmV,GAEnB,OADApZ,KAAK81B,cAAgB1c,EAAOwb,SACrB,CAAElxB,OAAQ,IAAIvF,EAAO2D,oBAAoBsX,EAAO1V,QAASE,OAAQ,IAAIzF,EAAO6D,oBAAoBoX,EAAOxV,SAE7G,CACD,IAAIqwB,EAUJ,OATIS,EAAiBzwB,GAAGmV,IACpB6a,EAAK7a,EAAOrZ,QACZC,KAAK81B,YAAc1c,EAAOwb,WAG1BX,EAAK7a,EACLpZ,KAAK81B,aAAc,GAEvB7B,EAAG4C,OAAO32B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KACvF,CAAEoC,OAAQ,IAAIvF,EAAO2D,oBAAoBmyB,EAAG2C,QAAShzB,OAAQ,IAAIzF,EAAO6D,oBAAoBiyB,EAAG0C,WAKlH,IAAII,EAAWj0B,EAYf,OATQg0B,EAFJC,EAASC,KAAOD,EAASE,MACrBj3B,KAAKu1B,aA7Cb,WACI,IAAIrU,EAAOnhB,QAAQm3B,SACnB,QAAIhW,GACOA,EAAKvB,KAAMwX,GACPX,EAAe7W,KAAKziB,GAASi6B,EAAIC,WAAWl6B,KAC/Cu5B,EAAY9W,KAAKziB,GAASi6B,IAAQj6B,IAwCtBm6B,GACbN,EAASE,MAGTF,EAASC,IAIbl0B,EAEJ9C,KAAKs3B,qBAAqBR,EAAKt4B,SAAS6Q,KAAKkoB,IAChD,GAAI/C,EAAWvwB,GAAG6yB,IAASA,EAAK96B,OAAQ,CACpC,IAAIw7B,EAAOV,EACPW,EAAYD,EAAKC,WAAazD,EAAc0D,MAChD,IAAIF,EAAKzF,QA0EJ,CACD,IAAIrvB,OAAW5B,EACf,OAAO,IAAIE,QAAQ,CAACC,EAAS4B,KACzB,IAAIqe,EAAOsW,EAAKtW,MAAQsW,EAAKtW,KAAK8P,SAAW,GACzCyG,IAAczD,EAAc2D,IAC5BzW,EAAKhb,KAAK,cAELuxB,IAAczD,EAAc0D,MACjCxW,EAAKhb,KAAK,WAELuxB,IAAczD,EAAc4D,MACjCl1B,EAAWvE,EAAO+D,yBAClBgf,EAAKhb,KAAK,UAAUxD,IAEf6xB,EAAUI,SAAS8C,IACxBvW,EAAKhb,KAAK,YAAYuxB,EAAUl0B,MAEpC2d,EAAKhb,KAAK,qBAAqBnG,QAAQo2B,IAAI9zB,YAC3C,IAAI7D,EAAUg5B,EAAKh5B,SAAW7B,OAAOY,OAAO,MAK5C,GAJAiB,EAAQ83B,IAAMD,EAAe73B,EAAQ83B,KAAK,GAC1C93B,EAAQ04B,SAAW14B,EAAQ04B,UAAY,GACvC14B,EAAQq5B,IAAMN,EACd/4B,EAAQs5B,QAAS,EACbL,IAAczD,EAAc2D,KAAOF,IAAczD,EAAc0D,MAAO,CACtE,IAAIK,EAAK9D,EAAGsC,KAAKiB,EAAKx7B,OAAQklB,GAAQ,GAAI1iB,GAC1Ck4B,EAAYqB,GACZ/3B,KAAK41B,eAAiBmC,EACtBA,EAAGlB,OAAO32B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KAC1Fm2B,IAAczD,EAAc2D,KAC5BI,EAAGnB,OAAO12B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KAC9FL,EAAQ,CAAEyC,OAAQ,IAAIvF,EAAO0B,iBAAiBG,KAAK41B,gBAAiBhyB,OAAQ,IAAIzF,EAAOsC,iBAAiBT,KAAK41B,mBAG7G30B,EAAQ,CAAEyC,OAAQ,IAAIvF,EAAO2D,oBAAoBi2B,EAAGnB,QAAShzB,OAAQ,IAAIzF,EAAO6D,oBAAoB+1B,EAAGpB,cAGtGc,IAAczD,EAAc4D,KACjCz5B,EAAOsE,0BAA0BC,GAAU2M,KAAMooB,IAC7C,IAAIM,EAAK9D,EAAGsC,KAAKiB,EAAKx7B,OAAQklB,GAAQ,GAAI1iB,GAC1Ck4B,EAAYqB,GACZ/3B,KAAK41B,eAAiBmC,EACtBA,EAAGlB,OAAO32B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KAC9Fy2B,EAAGnB,OAAO12B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KAC9Fm2B,EAAUt0B,cAAckM,KAAM2oB,IAC1B/2B,EAAQ,CAAEyC,OAAQs0B,EAAS,GAAIp0B,OAAQo0B,EAAS,SAInDzD,EAAUI,SAAS8C,IACxBt5B,EAAOmF,4BAA4Bm0B,EAAUl0B,MAAM8L,KAAMooB,IACrD,IAAIM,EAAK9D,EAAGsC,KAAKiB,EAAKx7B,OAAQklB,GAAQ,GAAI1iB,GAC1Ck4B,EAAYqB,GACZ/3B,KAAK41B,eAAiBmC,EACtBA,EAAGlB,OAAO32B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KAC9Fy2B,EAAGnB,OAAO12B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KAC9Fm2B,EAAUt0B,cAAckM,KAAM2oB,IAC1B/2B,EAAQ,CAAEyC,OAAQs0B,EAAS,GAAIp0B,OAAQo0B,EAAS,WAlIlD,CACd,IAAI9W,EAAO,GACP1iB,EAAUg5B,EAAKh5B,SAAW7B,OAAOY,OAAO,MACxCiB,EAAQ04B,UACR14B,EAAQ04B,SAAStqB,QAAQkM,GAAWoI,EAAKhb,KAAK4S,IAElDoI,EAAKhb,KAAKsxB,EAAKx7B,QACXw7B,EAAKtW,MACLsW,EAAKtW,KAAKtU,QAAQkM,GAAWoI,EAAKhb,KAAK4S,IAE3C,IAAImf,EAAct7B,OAAOY,OAAO,MAChC06B,EAAYJ,IAAMN,EAClBU,EAAY3B,IAAMD,EAAe73B,EAAQ83B,KAAK,GAC9C,IAAI5zB,OAAW5B,EAiBf,GAhBI22B,IAAczD,EAAc2D,KAE5BM,EAAYP,MAAQ,CAAC,KAAM,KAAM,KAAM,OACvCxW,EAAKhb,KAAK,eAELuxB,IAAczD,EAAc0D,MACjCxW,EAAKhb,KAAK,WAELuxB,IAAczD,EAAc4D,MACjCl1B,EAAWvE,EAAO+D,yBAClBgf,EAAKhb,KAAK,UAAUxD,IAEf6xB,EAAUI,SAAS8C,IACxBvW,EAAKhb,KAAK,YAAYuxB,EAAUl0B,MAEpC2d,EAAKhb,KAAK,qBAAqBnG,QAAQo2B,IAAI9zB,YACvCo1B,IAAczD,EAAc2D,KAAOF,IAAczD,EAAc0D,MAAO,CACtE,IAAIQ,EAAgBjE,EAAGkE,MAAMX,EAAKzF,QAAS7Q,EAAM+W,GACjD,OAAKC,GAAkBA,EAAc/B,KAGrCn2B,KAAK41B,eAAiBsC,EACtBA,EAAcrB,OAAO32B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KACrGm2B,IAAczD,EAAc2D,KAC5BO,EAActB,OAAO12B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KAClGN,QAAQC,QAAQ,CAAEyC,OAAQ,IAAIvF,EAAO0B,iBAAiBq4B,GAAgBt0B,OAAQ,IAAIzF,EAAOsC,iBAAiBy3B,MAG1Gl3B,QAAQC,QAAQ,CAAEyC,OAAQ,IAAIvF,EAAO2D,oBAAoBo2B,EAActB,QAAShzB,OAAQ,IAAIzF,EAAO6D,oBAAoBk2B,EAAcvB,UATrI31B,QAAQE,OAAO,kCAAkCs2B,EAAKzF,mBAYhE,GAAI0F,IAAczD,EAAc4D,KACjC,OAAOz5B,EAAOsE,0BAA0BC,GAAU2M,KAAMooB,IACpD,IAAI13B,EAAUk0B,EAAGkE,MAAMX,EAAKzF,QAAS7Q,EAAM+W,GAC3C,OAAKl4B,GAAYA,EAAQo2B,KAGzBn2B,KAAK41B,eAAiB71B,EACtBA,EAAQ82B,OAAO32B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KACnGvB,EAAQ62B,OAAO12B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KAC5Fm2B,EAAUt0B,cAAckM,KAAM2oB,IAC1B,CAAEt0B,OAAQs0B,EAAS,GAAIp0B,OAAQo0B,EAAS,OANxCh3B,QAAQE,OAAO,kCAAkCs2B,EAAKzF,qBAUpE,GAAIwC,EAAUI,SAAS8C,GACxB,OAAOt5B,EAAOmF,4BAA4Bm0B,EAAUl0B,MAAM8L,KAAMooB,IAC5D,IAAI13B,EAAUk0B,EAAGkE,MAAMX,EAAKzF,QAAS7Q,EAAM+W,GAC3C,OAAKl4B,GAAYA,EAAQo2B,KAGzBn2B,KAAK41B,eAAiB71B,EACtBA,EAAQ82B,OAAO32B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KACnGvB,EAAQ62B,OAAO12B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KAC5Fm2B,EAAUt0B,cAAckM,KAAM2oB,IAC1B,CAAEt0B,OAAQs0B,EAAS,GAAIp0B,OAAQo0B,EAAS,OANxCh3B,QAAQE,OAAO,kCAAkCs2B,EAAKzF,2BA0E5E,GAAIuC,EAAWrwB,GAAG6yB,IAASA,EAAK7V,QAAS,CAC1C,IAAIA,EAAU6V,EACV5V,EAAOD,EAAQC,MAAQ,GACvB1iB,EAAU7B,OAAOgR,OAAO,GAAIsT,EAAQziB,SACxCA,EAAQq5B,IAAMr5B,EAAQq5B,KAAON,EAC7B,IAAIW,EAAgBjE,EAAGkE,MAAMlX,EAAQA,QAASC,EAAM1iB,GACpD,OAAK05B,GAAkBA,EAAc/B,KAGrC+B,EAAcrB,OAAO32B,GAAG,OAAQuK,GAAQzK,KAAKkjB,cAAc+D,OAAOliB,EAAGgM,OAAOtG,GAAQA,EAAOA,EAAKpI,SAASf,KACzGtB,KAAK41B,eAAiBsC,EACtBl4B,KAAK81B,cAAgBt3B,EAAQo2B,SACtB5zB,QAAQC,QAAQ,CAAEyC,OAAQ,IAAIvF,EAAO2D,oBAAoBo2B,EAActB,QAAShzB,OAAQ,IAAIzF,EAAO6D,oBAAoBk2B,EAAcvB,UALjI31B,QAAQE,OAAO,kCAAkC+f,EAAQA,mBAOxE,OAAOjgB,QAAQE,OAAO,IAAIqK,MAAM,oCAAsC2b,KAAKC,UAAUrkB,EAAQ,KAAM,OAG3G,mBACI,IAAI2nB,EAAU/lB,EAASiH,UAAUsd,iBACjC,IAAKwB,GAA8B,IAAnBA,EAAQpkB,OACpB,OAEJ,IAAIqkB,EAASD,EAAQ,GACrB,MAA0B,SAAtBC,EAAO7d,IAAI8d,OACJD,EAAO7d,IAAI0b,YADtB,EAKJ,qBAAqB/pB,GACjB,IAAIq5B,EAAMr5B,GAAWA,EAAQq5B,IAM7B,OALKA,IACDA,EAAM73B,KAAK+L,cAAcsU,gBACnBrgB,KAAK+L,cAAcsU,gBAAgBxT,IAAI0b,OACvCvoB,KAAKo4B,oBAEXP,EAEO,IAAI72B,QAAQhD,IACfk0B,EAAGmG,MAAMR,EAAK,CAACS,EAAKC,KAChBv6B,GAAGs6B,GAAOC,EAAMC,cAAgBX,OAAM/2B,OAI3CE,QAAQC,aAAQH,IAG/B/E,EAAQg4B,eAAiBA,EA6BzBh4B,EAAQ+3B,eA5BR,MACI,YAAYlqB,EAAS6uB,GACjBz4B,KAAK4J,QAAUA,EACf5J,KAAKy4B,SAAWA,EAChBz4B,KAAKof,WAAa,GAEtB,QAGI,OAFA1a,EAASiH,UAAU8T,yBAAyBzf,KAAKyf,yBAA0Bzf,KAAMA,KAAKof,YACtFpf,KAAKyf,2BACE,IAAI/a,EAASnE,WAAW,KACvBP,KAAK4J,QAAQse,aACbloB,KAAK4J,QAAQue,SAIzB,2BACI,IAAI7H,EAAQtgB,KAAKy4B,SAASlY,QAAQ,KAC9BmY,EAAUpY,GAAS,EAAItgB,KAAKy4B,SAAShY,OAAO,EAAGH,GAAStgB,KAAKy4B,SAC7DE,EAAOrY,GAAS,EAAItgB,KAAKy4B,SAAShY,OAAOH,EAAQ,QAAKxf,EACtD83B,EAAUD,EAAOj0B,EAASiH,UAAU6U,iBAAiBkY,GAAS57B,IAAI67B,GAAM,GAASj0B,EAASiH,UAAU6U,iBAAiBkY,GACrHE,GAAW54B,KAAK4J,QAAQivB,aACxB74B,KAAK4J,QAAQqjB,SAEP2L,GAAW54B,KAAK4J,QAAQse,aAC9BloB,KAAK4J,QAAQue,U,cC7bzBnsB,EAAOD,QAAUkC,QAAQ,kB,6BCKzBtB,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQ+8B,iBAAmB/8B,EAAQ84B,0BAAuB,EAC1D,MAAMT,EAAW,EAAQ,GACnB2E,EAAkB,EAAQ,IAC1Bn0B,EAAkB,EAAQ,IAC1Bo0B,EAAmB,EAAQ,IAC3BC,EAAmB,EAAQ,IAC3BC,EAAqB,EAAQ,IAC7BC,EAAiB,EAAQ,IACzBC,EAAgB,EAAQ,IACxBC,EAAmB,EAAQ,IAC3BC,EAAa,EAAQ,IACrBC,EAAkB,EAAQ,IAC1BC,EAA4B,EAAQ,IAC1C,MAAM3E,UAA6BT,EAASjwB,mBACxC,YAAY2G,EAAItO,EAAMuP,GAClBjN,MAAMgM,EAAItO,EAAMuP,GAEpB,2BACI/L,KAAKy5B,iBAAiBX,EAAiBY,UAAU15B,OAErD,0BACIlB,MAAM+lB,0BACN7kB,KAAK0tB,gBAAgB,IAAI9oB,EAAgBua,qBAAqBnf,OAC9DA,KAAK0tB,gBAAgB,IAAIuL,EAAiBU,sBAAsB35B,OAChEA,KAAK0tB,gBAAgB,IAAIsL,EAAiBY,sBAAsB55B,OAChEA,KAAK0tB,gBAAgB,IAAIqL,EAAgBc,qBAAqB75B,OAC9DA,KAAK0tB,gBAAgB,IAAIwL,EAAmBY,wBAAwB95B,OACpEA,KAAK0tB,gBAAgB,IAAIyL,EAAeY,oBAAoB/5B,OAC5DA,KAAK0tB,gBAAgB,IAAI0L,EAAcY,mBAAmBh6B,OAC1DA,KAAK0tB,gBAAgB,IAAI2L,EAAiBY,sBAAsBj6B,OAChEA,KAAK0tB,gBAAgB,IAAI4L,EAAWY,gBAAgBl6B,OACpDA,KAAK0tB,gBAAgB,IAAI6L,EAAgBY,qBAAqBn6B,QAKtE,IAAI84B,EAFJ/8B,EAAQ84B,qBAAuBA,EAG/B,SAAWiE,GAOPA,EAAiBY,UANjB,SAAmBjuB,GAIf,MAHa,CACT,IAAI+tB,EAA0BY,sBAAsB3uB,KAHhE,CAQGqtB,EAAmB/8B,EAAQ+8B,mBAAqB/8B,EAAQ+8B,iBAAmB,M,6BC7C9E98B,EAAOD,QAAU,EAAQ,I,6BCDzBY,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IAEtD,SAAWqD,GAMPA,EAAWhD,OALX,SAAgBgM,GACZ,MAAO,CACH3H,QAAS2H,IAHrB,CAOgBxN,EAAQwE,aAAexE,EAAQwE,WAAa,M,cCd5DvE,EAAOD,QAAUkC,QAAQ,S,6BCMzBtB,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMm9B,EAAa,EAAQ,IAC3Bt+B,EAAQiD,YAAcq7B,EAAWr7B,YACjCjD,EAAQ6C,aAAey7B,EAAWz7B,aAClC7C,EAAQu+B,aAAeD,EAAWC,aAClCv+B,EAAQw+B,aAAeF,EAAWE,aAClCx+B,EAAQy+B,aAAeH,EAAWG,aAClCz+B,EAAQ0+B,aAAeJ,EAAWI,aAClC1+B,EAAQ2+B,aAAeL,EAAWK,aAClC3+B,EAAQ4+B,aAAeN,EAAWM,aAClC5+B,EAAQ6+B,aAAeP,EAAWO,aAClC7+B,EAAQ8+B,aAAeR,EAAWQ,aAClC9+B,EAAQ++B,aAAeT,EAAWS,aAClC/+B,EAAQoqB,cAAgBkU,EAAWlU,cACnCpqB,EAAQuzB,WAAa+K,EAAW/K,WAChCvzB,EAAQmD,iBAAmBm7B,EAAWn7B,iBACtCnD,EAAQqD,kBAAoBi7B,EAAWj7B,kBACvCrD,EAAQg/B,kBAAoBV,EAAWU,kBACvCh/B,EAAQi/B,kBAAoBX,EAAWW,kBACvCj/B,EAAQk/B,kBAAoBZ,EAAWY,kBACvCl/B,EAAQm/B,kBAAoBb,EAAWa,kBACvCn/B,EAAQo/B,kBAAoBd,EAAWc,kBACvCp/B,EAAQq/B,kBAAoBf,EAAWe,kBACvCr/B,EAAQs/B,kBAAoBhB,EAAWgB,kBACvCt/B,EAAQu/B,kBAAoBjB,EAAWiB,kBACvCv/B,EAAQw/B,kBAAoBlB,EAAWkB,kBACvC,MAAMC,EAAe,EAAQ,IAC7Bz/B,EAAQwE,WAAai7B,EAAaj7B,WAClC,MAAMk7B,EAAW,EAAQ,GACzB1/B,EAAQoM,MAAQszB,EAAStzB,MACzBpM,EAAQgoB,QAAU0X,EAAS1X,QAC3B,MAAM2X,EAAiB,EAAQ,IAC/B3/B,EAAQ4/B,wBAA0BD,EAAeC,wBACjD5/B,EAAQ6/B,kBAAoBF,EAAeE,kBAC3C,MAAMC,EAAkB,EAAQ,IAChC9/B,EAAQulB,cAAgBua,EAAgBva,cACxCvlB,EAAQ+D,sBAAwB+7B,EAAgB/7B,sBAChD/D,EAAQqF,4BAA8By6B,EAAgBz6B,4BACtD,MAAM06B,EAAkB,EAAQ,IAChC//B,EAAQwlB,cAAgBua,EAAgBva,cACxCxlB,EAAQ2E,sBAAwBo7B,EAAgBp7B,sBAChD3E,EAAQ2F,6BAA+Bo6B,EAAgBp6B,6BACvD,MAAMq6B,EAAe,EAAQ,IAC7BhgC,EAAQiI,mBAAqB+3B,EAAa/3B,mBAC1CjI,EAAQigC,kBAAoBD,EAAaC,kBACzCjgC,EAAQ0H,WAAas4B,EAAat4B,WAClC1H,EAAQ0C,wBAA0Bs9B,EAAat9B,wBAC/C1C,EAAQkgC,aAAeF,EAAaE,aACpClgC,EAAQmoB,MAAQ6X,EAAa7X,MAC7BnoB,EAAQ6lB,YAAcma,EAAana,YACnC7lB,EAAQmgC,qBAAuBH,EAAaG,qBAC5CngC,EAAQogC,qBAAuBJ,EAAaI,qBAC5CpgC,EAAQqgC,iBAAmBL,EAAaK,iBACxCrgC,EAAQsgC,gBAAkBN,EAAaM,gBACvCtgC,EAAQugC,6BAA+BP,EAAaO,6BACpDvgC,EAAQwgC,2BAA6BR,EAAaQ,2BAClDxgC,EAAQygC,qBAAuBT,EAAaS,qBAC5C,MAAMpM,EAAQ,EAAQ,GACtBr0B,EAAQsJ,IAAM+qB,EAAM9wB,S,6BC3DpB3C,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAM+G,EAAK,EAAQ,GAInB,IAAIqrB,GACJ,SAAWA,GAEPA,EAAWmN,YAAc,MACzBnN,EAAWoN,gBAAkB,MAC7BpN,EAAWqN,gBAAkB,MAC7BrN,EAAWsN,eAAiB,MAC5BtN,EAAWuN,eAAiB,MAC5BvN,EAAWwN,kBAAoB,MAC/BxN,EAAWyN,gBAAkB,KAC7BzN,EAAW0N,sBAAwB,MACnC1N,EAAW2N,kBAAoB,MAE/B3N,EAAWC,kBAAoB,MAC/BD,EAAWG,iBAAmB,MAE9BH,EAAW4N,kBAAoB,EAC/B5N,EAAW6N,iBAAmB,EAhBlC,CAiBG7N,EAAavzB,EAAQuzB,aAAevzB,EAAQuzB,WAAa,KAK5D,MAAMnJ,UAAsB5a,MACxB,YAAY8a,EAAMjhB,EAASqF,GACvB3L,MAAMsG,GACNpF,KAAKqmB,KAAOpiB,EAAGwlB,OAAOpD,GAAQA,EAAOiJ,EAAW2N,iBAChDj9B,KAAKyK,KAAOA,EACZ9N,OAAOygC,eAAep9B,KAAMmmB,EAActoB,WAE9C,SACI,MAAO,CACHwoB,KAAMrmB,KAAKqmB,KACXjhB,QAASpF,KAAKoF,QACdqF,KAAMzK,KAAKyK,OAIvB1O,EAAQoqB,cAAgBA,EAIxB,MAAMkX,EACF,YAAY3sB,EAAS4sB,GACjBt9B,KAAK0Q,QAAUA,EACf1Q,KAAKs9B,gBAAkBA,EAE3B,aACI,OAAOt9B,KAAK0Q,QAEhB,qBACI,OAAO1Q,KAAKs9B,iBAGpBvhC,EAAQshC,yBAA2BA,EAanCthC,EAAQ6C,aALR,cAA2By+B,EACvB,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQiD,YALR,cAA0Bq+B,EACtB,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQu+B,aALR,cAA2B+C,EACvB,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQw+B,aALR,cAA2B8C,EACvB,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQy+B,aALR,cAA2B6C,EACvB,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQ0+B,aALR,cAA2B4C,EACvB,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQ2+B,aALR,cAA2B2C,EACvB,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQ4+B,aALR,cAA2B0C,EACvB,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQ6+B,aALR,cAA2ByC,EACvB,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQ8+B,aALR,cAA2BwC,EACvB,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQ++B,aALR,cAA2BuC,EACvB,YAAYx+B,GACRC,MAAMD,EAAQ,KAetB9C,EAAQmD,iBANR,cAA+Bm+B,EAC3B,YAAYx+B,GACRC,MAAMD,EAAQ,GACdmB,KAAKu9B,OAAIz8B,IASjB/E,EAAQqD,kBALR,cAAgCi+B,EAC5B,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQg/B,kBALR,cAAgCsC,EAC5B,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQi/B,kBALR,cAAgCqC,EAC5B,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQk/B,kBALR,cAAgCoC,EAC5B,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQm/B,kBALR,cAAgCmC,EAC5B,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQo/B,kBALR,cAAgCkC,EAC5B,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQq/B,kBALR,cAAgCiC,EAC5B,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQs/B,kBALR,cAAgCgC,EAC5B,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQu/B,kBALR,cAAgC+B,EAC5B,YAAYx+B,GACRC,MAAMD,EAAQ,KAStB9C,EAAQw/B,kBALR,cAAgC8B,EAC5B,YAAYx+B,GACRC,MAAMD,EAAQ,KAWtB9C,EAAQyhC,iBAJR,SAA0Bp4B,GACtB,MAAMkE,EAAYlE,EAClB,OAAOkE,GAAarF,EAAG8M,OAAOzH,EAAUzK,UAAYoF,EAAG8M,OAAOzH,EAAUwB,KAAO7G,EAAGwlB,OAAOngB,EAAUwB,MAUvG/O,EAAQ0hC,sBAJR,SAA+Br4B,GAC3B,MAAMkE,EAAYlE,EAClB,OAAOkE,GAAarF,EAAG8M,OAAOzH,EAAUzK,cAA0B,IAAfuG,EAAQ0F,IAU/D/O,EAAQ2hC,kBAJR,SAA2Bt4B,GACvB,MAAMkE,EAAYlE,EAClB,OAAOkE,SAAmC,IAArBA,EAAU8P,UAAuB9P,EAAUnJ,SAAW8D,EAAG8M,OAAOzH,EAAUwB,KAAO7G,EAAGwlB,OAAOngB,EAAUwB,KAAwB,OAAjBxB,EAAUwB,M,6BClO/InO,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMkzB,EAAQ,EAAQ,GAChBrrB,EAAK,EAAQ,GACb02B,EAAW,EAAQ,GACzB,IAAIG,GACJ,SAAWA,GACPA,EAAkBluB,KAAO/Q,OAAOghC,OAAO,CACnCC,yBAAyB,EACzBC,wBAAyBpC,EAAStzB,MAAMuF,OAE5CkuB,EAAkBkC,UAAYnhC,OAAOghC,OAAO,CACxCC,yBAAyB,EACzBC,wBAAyBpC,EAAStzB,MAAMuF,OAQ5CkuB,EAAkB33B,GANlB,SAAY/G,GACR,MAAMoM,EAAYpM,EAClB,OAAOoM,IAAcA,IAAcsyB,EAAkBluB,MAC9CpE,IAAcsyB,EAAkBkC,WAC/B/4B,EAAGiO,QAAQ1J,EAAUs0B,4BAA8Bt0B,EAAUu0B,0BAb7E,CAgBGjC,EAAoB7/B,EAAQ6/B,oBAAsB7/B,EAAQ6/B,kBAAoB,KACjF,MAAMmC,EAAgBphC,OAAOghC,QAAO,SAAUr9B,EAAUqU,GACpD,MAAMqpB,EAAS5N,EAAM9wB,UAAU2+B,MAAMhI,WAAW31B,EAAS7C,KAAKkX,GAAU,GACxE,MAAO,CAAE,UAAYyb,EAAM9wB,UAAU2+B,MAAMC,aAAaF,QAE5D,MAAMG,EACF,cACIn+B,KAAKo+B,cAAe,EAExB,SACSp+B,KAAKo+B,eACNp+B,KAAKo+B,cAAe,EAChBp+B,KAAKq+B,WACLr+B,KAAKq+B,SAASpZ,UAAKnkB,GACnBd,KAAK4B,YAIjB,8BACI,OAAO5B,KAAKo+B,aAEhB,8BACI,OAAIp+B,KAAKo+B,aACEL,GAEN/9B,KAAKq+B,WACNr+B,KAAKq+B,SAAW,IAAI5C,EAAS1X,SAE1B/jB,KAAKq+B,SAASvwB,OAEzB,UACQ9N,KAAKq+B,WACLr+B,KAAKq+B,SAASz8B,UACd5B,KAAKq+B,cAAWv9B,IAmC5B/E,EAAQ4/B,wBA/BR,MACI,YAMI,OALK37B,KAAKs+B,SAGNt+B,KAAKs+B,OAAS,IAAIH,GAEfn+B,KAAKs+B,OAEhB,SACSt+B,KAAKs+B,OAONt+B,KAAKs+B,OAAO9U,SAHZxpB,KAAKs+B,OAAS1C,EAAkBkC,UAMxC,UACS99B,KAAKs+B,OAIDt+B,KAAKs+B,kBAAkBH,GAE5Bn+B,KAAKs+B,OAAO18B,UAJZ5B,KAAKs+B,OAAS1C,EAAkBluB,Q,6BCjF5C/Q,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQ4kB,aAAe5kB,EAAQojB,0BAAuB,EACtD,MAAMza,EAAW,EAAQ,GACnBC,EAAmC,EAAQ,GAwDjD,SAASgc,EAAaP,GAClB,GAAIA,EAAK,CACL,GAAItY,MAAM6I,QAAQyP,GACd,OAAOA,EAAIme,IAAI5d,GAEd,GAAmB,iBAARP,EAAkB,CAC9B,MAAMkT,EAAM32B,OAAOY,OAAO,MAC1B,IAAK,MAAMC,KAAO4iB,EACVzjB,OAAOkB,UAAUC,eAAe1B,KAAKgkB,EAAK5iB,KAC1C81B,EAAI91B,GAAOmjB,EAAaP,EAAI5iB,KAGpC,OAAO81B,GAGf,OAAOlT,EAhBXrkB,EAAQojB,qBAtDR,MACI,YAAYvV,GACR5J,KAAK4J,QAAUA,EAEnB,uBAAuByC,GACnBA,EAAaV,UAAYU,EAAaV,WAAa,GACnDU,EAAaV,UAAU6yB,eAAgB,EAE3C,aACI,IAAI/yB,EAASzL,KAAK4J,QAClB6B,EAAOga,UAAU9gB,EAAiC85B,qBAAqB3yB,KAAM,CAACoC,EAAQwG,KAClF,IAAI8pB,EAAiBtwB,IACjB,IAAIkL,EAAS,GACb,IAAK,IAAIlE,KAAQhH,EAAOwwB,MAAO,CAC3B,IAAI3sB,OAA6B,IAAlBmD,EAAKypB,UAAyC,OAAlBzpB,EAAKypB,SAAoB3+B,KAAK4J,QAAQ4F,uBAAuBwC,MAAMkD,EAAKypB,eAAY79B,EAC/HsY,EAAOlT,KAAKlG,KAAKwgB,iBAAiBzO,EAA2B,OAAjBmD,EAAKoK,QAAmBpK,EAAKoK,aAAUxe,IAEvF,OAAOsY,GAEPpN,EAAaP,EAAOM,cAAcC,WAAWL,UACjD,OAAOK,GAAcA,EAAWwyB,cAC1BxyB,EAAWwyB,cAActwB,EAAQwG,EAAO8pB,GACxCA,EAActwB,KAG5B,iBAAiB6D,EAAUuN,GACvB,IAAIlG,EAAS,KACb,GAAIkG,EAAS,CACT,IAAIgB,EAAQhB,EAAQuT,YAAY,KAChC,IAAe,IAAXvS,EACAlH,EAASuH,EAAajc,EAASiH,UAAU6U,sBAAiB1f,EAAWiR,GAAUjV,IAAIwiB,QAElF,CACD,IAAIrJ,EAASvR,EAASiH,UAAU6U,iBAAiBlB,EAAQmB,OAAO,EAAGH,GAAQvO,GACvEkE,IACAmD,EAASuH,EAAa1K,EAAOnZ,IAAIwiB,EAAQmB,OAAOH,EAAQ,WAI/D,CACD,IAAIrK,EAASvR,EAASiH,UAAU6U,sBAAiB1f,EAAWiR,GAC5DqH,EAAS,GACT,IAAK,IAAI5b,KAAOb,OAAOsjB,KAAKhK,GACpBA,EAAOnJ,IAAItP,KACX4b,EAAO5b,GAAOmjB,EAAa1K,EAAOnZ,IAAIU,KAOlD,YAHesD,IAAXsY,IACAA,EAAS,MAENA,IAqBfrd,EAAQ4kB,aAAeA,G,6BC5EvBhkB,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMmpB,EAAO,EAAQ,GACrB,MAAMuY,UAA+BvY,EAAKwY,eACtC,YAAYC,GACRhgC,MAAMggC,IAGd/iC,EAAQuD,QAAUs/B,G,6BCPlBjiC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMmpB,EAAO,EAAQ,GACrB,MAAM0Y,UAAyB1Y,EAAK2Y,SAChC,YAAYnkB,GACR/b,MAAM+b,IAGd9e,EAAQuD,QAAUy/B,G,6BCPlBpiC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMmpB,EAAO,EAAQ,GACrB,MAAM4Y,UAA6B5Y,EAAK6Y,aACpC,YAAYrkB,EAAOzR,GACftK,MAAM+b,EAAOzR,IAGrBrN,EAAQuD,QAAU2/B,G,6BCPlBtiC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQ2Q,aAAe3Q,EAAQk2B,MAAQl2B,EAAQojC,OAASpjC,EAAQqjC,GAAKrjC,EAAQsjC,WAAQ,EACrF,MAAMC,EACF,YAAYC,GACRv/B,KAAKu/B,OAASA,EAGlB,QACI,OAAOv/B,KAAKu/B,OAEhB,OAAOC,GACH,OAAOx/B,KAAKy/B,UAAYD,EAAMC,SAGtC,MAAMC,UAAeJ,EACjB,cACIxgC,MAAM,CACF4gC,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACP,IACAD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACP,IACA,IACAD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACP,IACAD,EAAOE,OAAOF,EAAOG,eACrBH,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACP,IACAD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,cACTp9B,KAAK,KAEX,cAAc+qB,GACV,OAAOA,EAAMwS,KAAKC,MAAMzS,EAAMjnB,OAASy5B,KAAKE,WAEhD,oBACI,OAAON,EAAOE,OAAOF,EAAOO,SASpC,SAASb,IACL,OAAO,IAAIM,EAPfA,EAAOO,OAAS,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACjGP,EAAOG,cAAgB,CAAC,IAAK,IAAK,IAAK,KAIvC9jC,EAAQsjC,MAAQ,IAAIC,EAAU,wCAI9BvjC,EAAQqjC,GAAKA,EACb,MAAMc,EAAe,kEACrB,SAASf,EAAOjiC,GACZ,OAAOgjC,EAAaC,KAAKjjC,GAE7BnB,EAAQojC,OAASA,EAWjBpjC,EAAQk2B,MANR,SAAe/0B,GACX,IAAKiiC,EAAOjiC,GACR,MAAM,IAAIqO,MAAM,gBAEpB,OAAO,IAAI+zB,EAAUpiC,IAMzBnB,EAAQ2Q,aAHR,WACI,OAAO0yB,IAAKK,U,6BCzFhB9iC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQqtB,kBAAe,EACvB,MAAM1kB,EAAW,EAAQ,GACnBC,EAAmC,EAAQ,GAC3CI,EAAK,EAAQ,GAsEnBhJ,EAAQqtB,aArER,MACI,YAAYxf,EAAS00B,GACjBt+B,KAAK4J,QAAUA,EACf5J,KAAKs+B,OAASA,EACdt+B,KAAKogC,UAAY,EACjBpgC,KAAKqwB,YAAcrwB,KAAK4J,QAAQ+b,WAAWhhB,EAAiC07B,iBAAiBv0B,KAAM9L,KAAKs+B,OAASphC,IAC7G,OAAQA,EAAMkU,MACV,IAAK,QACDpR,KAAKsgC,MAAMpjC,GACX,MACJ,IAAK,SACD8C,KAAKugC,OAAOrjC,GACZ,MACJ,IAAK,MACD8C,KAAKupB,UAKrB,MAAMrb,GACF,IAAIsyB,EAAWtyB,EAAOuyB,YAAc/7B,EAASg8B,iBAAiBC,aAAej8B,EAASg8B,iBAAiBE,OACvGl8B,EAAS6B,OAAOs6B,aAAa,CAAEL,WAAUC,YAAavyB,EAAOuyB,YAAajW,MAAOtc,EAAOsc,OAASsW,MAAOC,EAAUC,KAC9GhhC,KAAKihC,UAAYF,EACjB/gC,KAAKkhC,eAAkCpgC,IAAtBoN,EAAOizB,WACxBnhC,KAAKohC,mBAAqBJ,EAC1BhhC,KAAKohC,mBAAmBvD,wBAAwB,KAC5C79B,KAAK4J,QAAQoB,iBAAiBrG,EAAiC08B,mCAAmCv1B,KAAM,CAAE4I,MAAO1U,KAAKs+B,WAE1Ht+B,KAAKugC,OAAOryB,GACL,IAAIlN,QAAQ,CAACC,EAASC,KACzBlB,KAAKyhB,SAAWxgB,EAChBjB,KAAK6C,QAAU3B,MAI3B,OAAOgN,GACH,GAAIlO,KAAKkhC,WAAan8B,EAAGgM,OAAO7C,EAAO9I,SACnCpF,KAAKihC,UAAUV,OAAO,CAAEn7B,QAAS8I,EAAO9I,eAEvC,GAAIL,EAAG0kB,OAAOvb,EAAOizB,YAAa,CACnC,IAAIA,EAAarB,KAAKwB,IAAI,EAAGxB,KAAKyB,IAAIrzB,EAAOizB,WAAY,MACrDK,EAAQ1B,KAAKwB,IAAI,EAAGH,EAAanhC,KAAKogC,WAC1CpgC,KAAKihC,UAAUV,OAAO,CAAEn7B,QAAS8I,EAAO9I,QAASq8B,UAAWD,IAC5DxhC,KAAKogC,WAAaoB,GAG1B,SACQxhC,KAAKqwB,cACLrwB,KAAKqwB,YAAYzuB,UACjB5B,KAAKqwB,iBAAcvvB,GAEnBd,KAAK6C,UACL7C,KAAK6C,UACL7C,KAAKyhB,cAAW3gB,EAChBd,KAAK6C,aAAU/B,GAGvB,OACQd,KAAKqwB,cACLrwB,KAAKqwB,YAAYzuB,UACjB5B,KAAKqwB,iBAAcvvB,GAEnBd,KAAKyhB,WACLzhB,KAAKyhB,WACLzhB,KAAKyhB,cAAW3gB,EAChBd,KAAK6C,aAAU/B,M,gGCtE3B,cACA,OACA,QACA,QACA,QAGA,oBAAyB6T,G,QAExB,MAEM+sB,EAAa,aAA8C,MAFsB,QAApE,EAAuD,QAAvD,IAAAC,WAAWC,aAAa,uCAA+B,eAAEC,mBAAW,eAAEC,OAAQ,IAEvDvhB,QAAQ,UAAmB,OAAS,2BACxEwhB,EAAeptB,EAAQqtB,eAAeN,GAOtCvM,EAA+B,CACpC6B,IAAK,CAAEh7B,OAAQ+lC,EAActK,UAAW,EAAAzD,cAAc2D,KACtDV,MAAO,CAAEj7B,OAAQ+lC,EAActK,UAAW,EAAAzD,cAAc2D,IAAKn5B,QANzC,CAAE04B,SAAU,CAAC,WAAY,qBAa9C,EAAA+K,YAAYttB,EAJyC,CAAC7J,EAAYtO,EAAcuP,IACxE,IAAI,EAAAgoB,eAAejpB,EAAItO,EAAM24B,EAAeppB,GAGZ,CAAEmmB,GAAI,EAAAgQ,0BAA2B5P,YAAA,EAAAA,gB,+GC5B1E,cACA,OACA,QAEA,qCACC,SAAS6P,EAAc3B,GACtB,GAA4B,SAAxB,EAAA4B,UAAU5B,GACb,MAAM,IAAIj1B,MAAM,gDAGlB,MAAO,CACN4mB,WAAU,CAACqO,EAAkBl/B,KAC5B6gC,EAAc3B,GACP,IAAIx/B,QAAQ,CAAC1E,EAAG60B,KACtB,MAAMtkB,EAAM,EAAAic,IAAImJ,MAAMuO,GACtBtO,EAAGE,SAASvlB,EAAI0b,OAAQjnB,EAAU,CAACg3B,EAAK+J,KACvC,GAAI/J,EACH,OAAOnH,EAAEmH,GAEVh8B,EAAE+lC,EAAIhgC,iBAKTqwB,KAAK8N,IACJ2B,EAAc3B,GACP,IAAIx/B,QAAQ,CAAC1E,EAAG60B,KACtB,MAAMtkB,EAAM,EAAAic,IAAImJ,MAAMuO,GACtBtO,EAAGQ,KAAK7lB,EAAI0b,OAAQ,CAAC+P,EAAKC,KACzB,GAAID,EACH,MAAiB,WAAbA,EAAIjS,KACA/pB,EAAE,CAAEwP,KAAM,EAAA6mB,SAAS2P,QAASC,OAAQ,EAAGC,OAAQ,EAAGp3B,MAAO,IAEzD+lB,EAAEmH,GAIX,IAAIxsB,EAAO,EAAA6mB,SAAS2P,QAChB/J,EAAMkK,SACT32B,EAAO,EAAA6mB,SAAS9rB,KACN0xB,EAAMC,cAChB1sB,EAAO,EAAA6mB,SAAS+P,UACNnK,EAAMoK,mBAChB72B,EAAO,EAAA6mB,SAASiQ,cAGjBtmC,EAAE,CACDwP,OACAy2B,MAAOhK,EAAMgK,MAAMM,UACnBL,MAAOjK,EAAMiK,MAAMK,UACnBz3B,KAAMmtB,EAAMntB,YAKhBqnB,cAAc+N,IACb2B,EAAc3B,GACP,IAAIx/B,QAAQ,CAAC1E,EAAG60B,KACtB,MAAM1xB,EAAO,EAAAqpB,IAAImJ,MAAMuO,GAAUjY,OAEjC2J,EAAG4Q,QAAQrjC,EAAM,CAAEsjC,eAAe,GAAQ,CAACzK,EAAK0K,KAC/C,GAAI1K,EACH,OAAOnH,EAAEmH,GAEVh8B,EAAE0mC,EAASzE,IAAI7L,GACVA,EAAKiQ,iBACD,CAACjQ,EAAKl2B,KAAM,EAAAm2B,SAASiQ,cAClBlQ,EAAK8F,cACR,CAAC9F,EAAKl2B,KAAM,EAAAm2B,SAAS+P,WAClBhQ,EAAK+P,SACR,CAAC/P,EAAKl2B,KAAM,EAAAm2B,SAAS9rB,MAErB,CAAC6rB,EAAKl2B,KAAM,EAAAm2B,SAAS2P,mB,cC3EnC,IAAIrL,EAFJl7B,EAAUC,EAAOD,QAAUm4B,EAQzB+C,EAJqB,iBAAZl3B,SACPA,QAAQu2B,KACRv2B,QAAQu2B,IAAI2M,YACZ,cAAc9C,KAAKpgC,QAAQu2B,IAAI2M,YACzB,WACN,IAAI/hB,EAAOpZ,MAAMjK,UAAUmzB,MAAM50B,KAAK+kB,UAAW,GACjDD,EAAKgiB,QAAQ,UACb59B,QAAQG,IAAIyrB,MAAM5rB,QAAS4b,IAGrB,aAKVnlB,EAAQonC,oBAAsB,QAE9B,IACIC,EAAmBx7B,OAAOw7B,kBACD,iBAMzBC,EAAKtnC,EAAQsnC,GAAK,GAClBC,EAAMvnC,EAAQunC,IAAM,GACpBnmC,EAAIpB,EAAQwnC,OAAS,GACrBC,EAAI,EAER,SAASC,EAAK/lC,GACZP,EAAEO,GAAK8lC,IASTC,EAAI,qBACJH,EAAInmC,EAAEumC,mBAAqB,cAC3BD,EAAI,0BACJH,EAAInmC,EAAEwmC,wBAA0B,SAMhCF,EAAI,wBACJH,EAAInmC,EAAEymC,sBAAwB,6BAK9BH,EAAI,eACJH,EAAInmC,EAAE0mC,aAAe,IAAMP,EAAInmC,EAAEumC,mBAAZ,QACIJ,EAAInmC,EAAEumC,mBADV,QAEIJ,EAAInmC,EAAEumC,mBAAqB,IAEpDD,EAAI,oBACJH,EAAInmC,EAAE2mC,kBAAoB,IAAMR,EAAInmC,EAAEwmC,wBAAZ,QACIL,EAAInmC,EAAEwmC,wBADV,QAEIL,EAAInmC,EAAEwmC,wBAA0B,IAK9DF,EAAI,wBACJH,EAAInmC,EAAE4mC,sBAAwB,MAAQT,EAAInmC,EAAEumC,mBAChB,IAAMJ,EAAInmC,EAAEymC,sBAAwB,IAEhEH,EAAI,6BACJH,EAAInmC,EAAE6mC,2BAA6B,MAAQV,EAAInmC,EAAEwmC,wBAChB,IAAML,EAAInmC,EAAEymC,sBAAwB,IAMrEH,EAAI,cACJH,EAAInmC,EAAE8mC,YAAc,QAAUX,EAAInmC,EAAE4mC,sBAClB,SAAWT,EAAInmC,EAAE4mC,sBAAwB,OAE3DN,EAAI,mBACJH,EAAInmC,EAAE+mC,iBAAmB,SAAWZ,EAAInmC,EAAE6mC,2BACnB,SAAWV,EAAInmC,EAAE6mC,2BAA6B,OAKrEP,EAAI,mBACJH,EAAInmC,EAAEgnC,iBAAmB,gBAMzBV,EAAI,SACJH,EAAInmC,EAAEinC,OAAS,UAAYd,EAAInmC,EAAEgnC,iBACpB,SAAWb,EAAInmC,EAAEgnC,iBAAmB,OAWjDV,EAAI,QACJA,EAAI,aACJH,EAAInmC,EAAEknC,WAAa,KAAOf,EAAInmC,EAAE0mC,aACdP,EAAInmC,EAAE8mC,YAAc,IACpBX,EAAInmC,EAAEinC,OAAS,IAEjCd,EAAInmC,EAAEmnC,MAAQ,IAAMhB,EAAInmC,EAAEknC,WAAa,IAKvCZ,EAAI,cACJH,EAAInmC,EAAEonC,YAAc,WAAajB,EAAInmC,EAAE2mC,kBACrBR,EAAInmC,EAAE+mC,iBAAmB,IACzBZ,EAAInmC,EAAEinC,OAAS,IAEjCX,EAAI,SACJH,EAAInmC,EAAEqnC,OAAS,IAAMlB,EAAInmC,EAAEonC,YAAc,IAEzCd,EAAI,QACJH,EAAInmC,EAAEsnC,MAAQ,eAKdhB,EAAI,yBACJH,EAAInmC,EAAEunC,uBAAyBpB,EAAInmC,EAAEwmC,wBAA0B,WAC/DF,EAAI,oBACJH,EAAInmC,EAAEwnC,kBAAoBrB,EAAInmC,EAAEumC,mBAAqB,WAErDD,EAAI,eACJH,EAAInmC,EAAEynC,aAAe,YAActB,EAAInmC,EAAEwnC,kBAApB,WACUrB,EAAInmC,EAAEwnC,kBADhB,WAEUrB,EAAInmC,EAAEwnC,kBAFhB,OAGMrB,EAAInmC,EAAE8mC,YAAc,KAC5BX,EAAInmC,EAAEinC,OAJJ,QAOrBX,EAAI,oBACJH,EAAInmC,EAAE0nC,kBAAoB,YAAcvB,EAAInmC,EAAEunC,uBAApB,WACUpB,EAAInmC,EAAEunC,uBADhB,WAEUpB,EAAInmC,EAAEunC,uBAFhB,OAGMpB,EAAInmC,EAAE+mC,iBAAmB,KACjCZ,EAAInmC,EAAEinC,OAJJ,QAO1BX,EAAI,UACJH,EAAInmC,EAAE2nC,QAAU,IAAMxB,EAAInmC,EAAEsnC,MAAQ,OAASnB,EAAInmC,EAAEynC,aAAe,IAClEnB,EAAI,eACJH,EAAInmC,EAAE4nC,aAAe,IAAMzB,EAAInmC,EAAEsnC,MAAQ,OAASnB,EAAInmC,EAAE0nC,kBAAoB,IAI5EpB,EAAI,UACJH,EAAInmC,EAAE6nC,QAAU,0EAKhBvB,EAAI,aACJJ,EAAGlmC,EAAE8nC,WAAa,IAAIC,OAAO5B,EAAInmC,EAAE6nC,QAAS,KAI5CvB,EAAI,aACJH,EAAInmC,EAAEgoC,WAAa,UAEnB1B,EAAI,aACJH,EAAInmC,EAAEioC,WAAa,SAAW9B,EAAInmC,EAAEgoC,WAAa,OACjD9B,EAAGlmC,EAAEioC,WAAa,IAAIF,OAAO5B,EAAInmC,EAAEioC,WAAY,KAG/C3B,EAAI,SACJH,EAAInmC,EAAEkoC,OAAS,IAAM/B,EAAInmC,EAAEgoC,WAAa7B,EAAInmC,EAAEynC,aAAe,IAC7DnB,EAAI,cACJH,EAAInmC,EAAEmoC,YAAc,IAAMhC,EAAInmC,EAAEgoC,WAAa7B,EAAInmC,EAAE0nC,kBAAoB,IAIvEpB,EAAI,aACJH,EAAInmC,EAAEooC,WAAa,UAEnB9B,EAAI,aACJH,EAAInmC,EAAEqoC,WAAa,SAAWlC,EAAInmC,EAAEooC,WAAa,OACjDlC,EAAGlmC,EAAEqoC,WAAa,IAAIN,OAAO5B,EAAInmC,EAAEqoC,WAAY,KAG/C/B,EAAI,SACJH,EAAInmC,EAAEsoC,OAAS,IAAMnC,EAAInmC,EAAEooC,WAAajC,EAAInmC,EAAEynC,aAAe,IAC7DnB,EAAI,cACJH,EAAInmC,EAAEuoC,YAAc,IAAMpC,EAAInmC,EAAEooC,WAAajC,EAAInmC,EAAE0nC,kBAAoB,IAGvEpB,EAAI,mBACJH,EAAInmC,EAAEwoC,iBAAmB,IAAMrC,EAAInmC,EAAEsnC,MAAQ,QAAUnB,EAAInmC,EAAEonC,YAAc,QAC3Ed,EAAI,cACJH,EAAInmC,EAAEyoC,YAAc,IAAMtC,EAAInmC,EAAEsnC,MAAQ,QAAUnB,EAAInmC,EAAEknC,WAAa,QAIrEZ,EAAI,kBACJH,EAAInmC,EAAE0oC,gBAAkB,SAAWvC,EAAInmC,EAAEsnC,MACnB,QAAUnB,EAAInmC,EAAEonC,YAAc,IAAMjB,EAAInmC,EAAEynC,aAAe,IAG/EvB,EAAGlmC,EAAE0oC,gBAAkB,IAAIX,OAAO5B,EAAInmC,EAAE0oC,gBAAiB,KAOzDpC,EAAI,eACJH,EAAInmC,EAAE2oC,aAAe,SAAWxC,EAAInmC,EAAEynC,aAAjB,cAEItB,EAAInmC,EAAEynC,aAFV,SAKrBnB,EAAI,oBACJH,EAAInmC,EAAE4oC,kBAAoB,SAAWzC,EAAInmC,EAAE0nC,kBAAjB,cAEIvB,EAAInmC,EAAE0nC,kBAFV,SAM1BpB,EAAI,QACJH,EAAInmC,EAAE6oC,MAAQ,kBAId,IAAK,IAAI/pC,EAAI,EAAGA,EAAIunC,EAAGvnC,IACrBg7B,EAAMh7B,EAAGqnC,EAAIrnC,IACRonC,EAAGpnC,KACNonC,EAAGpnC,GAAK,IAAIipC,OAAO5B,EAAIrnC,KAK3B,SAASg2B,EAAOrJ,EAASpqB,GAQvB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRynC,QAASznC,EACT0nC,mBAAmB,IAInBtd,aAAmBsL,EACrB,OAAOtL,EAGT,GAAuB,iBAAZA,EACT,OAAO,KAGT,GAAIA,EAAQviB,OAxPG,IAyPb,OAAO,KAIT,KADQ7H,EAAQynC,MAAQ5C,EAAGlmC,EAAEqnC,OAASnB,EAAGlmC,EAAEmnC,OACpCnE,KAAKvX,GACV,OAAO,KAGT,IACE,OAAO,IAAIsL,EAAOtL,EAASpqB,GAC3B,MAAO2nC,GACP,OAAO,MAkBX,SAASjS,EAAQtL,EAASpqB,GAOxB,GANKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRynC,QAASznC,EACT0nC,mBAAmB,IAGnBtd,aAAmBsL,EAAQ,CAC7B,GAAItL,EAAQqd,QAAUznC,EAAQynC,MAC5B,OAAOrd,EAEPA,EAAUA,EAAQA,aAEf,GAAuB,iBAAZA,EAChB,MAAM,IAAIwd,UAAU,oBAAsBxd,GAG5C,GAAIA,EAAQviB,OAvSG,IAwSb,MAAM,IAAI+/B,UAAU,yCAGtB,KAAMpmC,gBAAgBk0B,GACpB,OAAO,IAAIA,EAAOtL,EAASpqB,GAG7By4B,EAAM,SAAUrO,EAASpqB,GACzBwB,KAAKxB,QAAUA,EACfwB,KAAKimC,QAAUznC,EAAQynC,MAEvB,IAAI5pC,EAAIusB,EAAQyd,OAAO77B,MAAMhM,EAAQynC,MAAQ5C,EAAGlmC,EAAEqnC,OAASnB,EAAGlmC,EAAEmnC,OAEhE,IAAKjoC,EACH,MAAM,IAAI+pC,UAAU,oBAAsBxd,GAU5C,GAPA5oB,KAAKsmC,IAAM1d,EAGX5oB,KAAKumC,OAASlqC,EAAE,GAChB2D,KAAKwmC,OAASnqC,EAAE,GAChB2D,KAAKymC,OAASpqC,EAAE,GAEZ2D,KAAKumC,MAAQnD,GAAoBpjC,KAAKumC,MAAQ,EAChD,MAAM,IAAIH,UAAU,yBAGtB,GAAIpmC,KAAKwmC,MAAQpD,GAAoBpjC,KAAKwmC,MAAQ,EAChD,MAAM,IAAIJ,UAAU,yBAGtB,GAAIpmC,KAAKymC,MAAQrD,GAAoBpjC,KAAKymC,MAAQ,EAChD,MAAM,IAAIL,UAAU,yBAIjB/pC,EAAE,GAGL2D,KAAK01B,WAAar5B,EAAE,GAAGqkB,MAAM,KAAK6d,KAAI,SAAUzzB,GAC9C,GAAI,WAAWq1B,KAAKr1B,GAAK,CACvB,IAAI47B,GAAO57B,EACX,GAAI47B,GAAO,GAAKA,EAAMtD,EACpB,OAAOsD,EAGX,OAAO57B,KATT9K,KAAK01B,WAAa,GAapB11B,KAAK2mC,MAAQtqC,EAAE,GAAKA,EAAE,GAAGqkB,MAAM,KAAO,GACtC1gB,KAAK4mC,SArHP7qC,EAAQk2B,MAAQA,EAiChBl2B,EAAQ8qC,MACR,SAAgBje,EAASpqB,GACvB,IAAIsoC,EAAI7U,EAAMrJ,EAASpqB,GACvB,OAAOsoC,EAAIA,EAAEle,QAAU,MAGzB7sB,EAAQgrC,MACR,SAAgBne,EAASpqB,GACvB,IAAIR,EAAIi0B,EAAMrJ,EAAQyd,OAAOW,QAAQ,SAAU,IAAKxoC,GACpD,OAAOR,EAAIA,EAAE4qB,QAAU,MAGzB7sB,EAAQm4B,OAASA,EA2EjBA,EAAOr2B,UAAU+oC,OAAS,WAKxB,OAJA5mC,KAAK4oB,QAAU5oB,KAAKumC,MAAQ,IAAMvmC,KAAKwmC,MAAQ,IAAMxmC,KAAKymC,MACtDzmC,KAAK01B,WAAWrvB,SAClBrG,KAAK4oB,SAAW,IAAM5oB,KAAK01B,WAAWnzB,KAAK,MAEtCvC,KAAK4oB,SAGdsL,EAAOr2B,UAAUwE,SAAW,WAC1B,OAAOrC,KAAK4oB,SAGdsL,EAAOr2B,UAAUopC,QAAU,SAAUzH,GAMnC,OALAvI,EAAM,iBAAkBj3B,KAAK4oB,QAAS5oB,KAAKxB,QAASghC,GAC9CA,aAAiBtL,IACrBsL,EAAQ,IAAItL,EAAOsL,EAAOx/B,KAAKxB,UAG1BwB,KAAKknC,YAAY1H,IAAUx/B,KAAKmnC,WAAW3H,IAGpDtL,EAAOr2B,UAAUqpC,YAAc,SAAU1H,GAKvC,OAJMA,aAAiBtL,IACrBsL,EAAQ,IAAItL,EAAOsL,EAAOx/B,KAAKxB,UAG1B4oC,EAAmBpnC,KAAKumC,MAAO/G,EAAM+G,QACrCa,EAAmBpnC,KAAKwmC,MAAOhH,EAAMgH,QACrCY,EAAmBpnC,KAAKymC,MAAOjH,EAAMiH,QAG9CvS,EAAOr2B,UAAUspC,WAAa,SAAU3H,GAMtC,GALMA,aAAiBtL,IACrBsL,EAAQ,IAAItL,EAAOsL,EAAOx/B,KAAKxB,UAI7BwB,KAAK01B,WAAWrvB,SAAWm5B,EAAM9J,WAAWrvB,OAC9C,OAAQ,EACH,IAAKrG,KAAK01B,WAAWrvB,QAAUm5B,EAAM9J,WAAWrvB,OACrD,OAAO,EACF,IAAKrG,KAAK01B,WAAWrvB,SAAWm5B,EAAM9J,WAAWrvB,OACtD,OAAO,EAGT,IAAIpK,EAAI,EACR,EAAG,CACD,IAAIorC,EAAIrnC,KAAK01B,WAAWz5B,GACpBqrC,EAAI9H,EAAM9J,WAAWz5B,GAEzB,GADAg7B,EAAM,qBAAsBh7B,EAAGorC,EAAGC,QACxBxmC,IAANumC,QAAyBvmC,IAANwmC,EACrB,OAAO,EACF,QAAUxmC,IAANwmC,EACT,OAAO,EACF,QAAUxmC,IAANumC,EACT,OAAQ,EACH,GAAIA,IAAMC,EAGf,OAAOF,EAAmBC,EAAGC,WAEtBrrC,IAGbi4B,EAAOr2B,UAAU0pC,aAAe,SAAU/H,GAClCA,aAAiBtL,IACrBsL,EAAQ,IAAItL,EAAOsL,EAAOx/B,KAAKxB,UAGjC,IAAIvC,EAAI,EACR,EAAG,CACD,IAAIorC,EAAIrnC,KAAK2mC,MAAM1qC,GACfqrC,EAAI9H,EAAMmH,MAAM1qC,GAEpB,GADAg7B,EAAM,qBAAsBh7B,EAAGorC,EAAGC,QACxBxmC,IAANumC,QAAyBvmC,IAANwmC,EACrB,OAAO,EACF,QAAUxmC,IAANwmC,EACT,OAAO,EACF,QAAUxmC,IAANumC,EACT,OAAQ,EACH,GAAIA,IAAMC,EAGf,OAAOF,EAAmBC,EAAGC,WAEtBrrC,IAKbi4B,EAAOr2B,UAAU2pC,IAAM,SAAUC,EAASC,GACxC,OAAQD,GACN,IAAK,WACHznC,KAAK01B,WAAWrvB,OAAS,EACzBrG,KAAKymC,MAAQ,EACbzmC,KAAKwmC,MAAQ,EACbxmC,KAAKumC,QACLvmC,KAAKwnC,IAAI,MAAOE,GAChB,MACF,IAAK,WACH1nC,KAAK01B,WAAWrvB,OAAS,EACzBrG,KAAKymC,MAAQ,EACbzmC,KAAKwmC,QACLxmC,KAAKwnC,IAAI,MAAOE,GAChB,MACF,IAAK,WAIH1nC,KAAK01B,WAAWrvB,OAAS,EACzBrG,KAAKwnC,IAAI,QAASE,GAClB1nC,KAAKwnC,IAAI,MAAOE,GAChB,MAGF,IAAK,aAC4B,IAA3B1nC,KAAK01B,WAAWrvB,QAClBrG,KAAKwnC,IAAI,QAASE,GAEpB1nC,KAAKwnC,IAAI,MAAOE,GAChB,MAEF,IAAK,QAKgB,IAAf1nC,KAAKwmC,OACU,IAAfxmC,KAAKymC,OACsB,IAA3BzmC,KAAK01B,WAAWrvB,QAClBrG,KAAKumC,QAEPvmC,KAAKwmC,MAAQ,EACbxmC,KAAKymC,MAAQ,EACbzmC,KAAK01B,WAAa,GAClB,MACF,IAAK,QAKgB,IAAf11B,KAAKymC,OAA0C,IAA3BzmC,KAAK01B,WAAWrvB,QACtCrG,KAAKwmC,QAEPxmC,KAAKymC,MAAQ,EACbzmC,KAAK01B,WAAa,GAClB,MACF,IAAK,QAK4B,IAA3B11B,KAAK01B,WAAWrvB,QAClBrG,KAAKymC,QAEPzmC,KAAK01B,WAAa,GAClB,MAGF,IAAK,MACH,GAA+B,IAA3B11B,KAAK01B,WAAWrvB,OAClBrG,KAAK01B,WAAa,CAAC,OACd,CAEL,IADA,IAAIz5B,EAAI+D,KAAK01B,WAAWrvB,SACfpK,GAAK,GACsB,iBAAvB+D,KAAK01B,WAAWz5B,KACzB+D,KAAK01B,WAAWz5B,KAChBA,GAAK,IAGE,IAAPA,GAEF+D,KAAK01B,WAAWxvB,KAAK,GAGrBwhC,IAGE1nC,KAAK01B,WAAW,KAAOgS,EACrBC,MAAM3nC,KAAK01B,WAAW,MACxB11B,KAAK01B,WAAa,CAACgS,EAAY,IAGjC1nC,KAAK01B,WAAa,CAACgS,EAAY,IAGnC,MAEF,QACE,MAAM,IAAIn8B,MAAM,+BAAiCk8B,GAIrD,OAFAznC,KAAK4mC,SACL5mC,KAAKsmC,IAAMtmC,KAAK4oB,QACT5oB,MAGTjE,EAAQyrC,IACR,SAAc5e,EAAS6e,EAASxB,EAAOyB,GACd,iBAAZ,IACTA,EAAazB,EACbA,OAAQnlC,GAGV,IACE,OAAO,IAAIozB,EAAOtL,EAASqd,GAAOuB,IAAIC,EAASC,GAAY9e,QAC3D,MAAOud,GACP,OAAO,OAIXpqC,EAAQ6rC,KACR,SAAeC,EAAUC,GACvB,GAAIC,EAAGF,EAAUC,GACf,OAAO,KAEP,IAAIE,EAAK/V,EAAM4V,GACXI,EAAKhW,EAAM6V,GACXI,EAAS,GACb,GAAIF,EAAGtS,WAAWrvB,QAAU4hC,EAAGvS,WAAWrvB,OAAQ,CAChD6hC,EAAS,MACT,IAAIC,EAAgB,aAEtB,IAAK,IAAI3qC,KAAOwqC,EACd,IAAY,UAARxqC,GAA2B,UAARA,GAA2B,UAARA,IACpCwqC,EAAGxqC,KAASyqC,EAAGzqC,GACjB,OAAO0qC,EAAS1qC,EAItB,OAAO2qC,GAIXpsC,EAAQqrC,mBAAqBA,EAE7B,IAAIgB,EAAU,WACd,SAAShB,EAAoBC,EAAGC,GAC9B,IAAIe,EAAOD,EAAQjI,KAAKkH,GACpBiB,EAAOF,EAAQjI,KAAKmH,GAOxB,OALIe,GAAQC,IACVjB,GAAKA,EACLC,GAAKA,GAGAD,IAAMC,EAAI,EACZe,IAASC,GAAS,EAClBA,IAASD,EAAQ,EAClBhB,EAAIC,GAAK,EACT,EAwBN,SAASL,EAASI,EAAGC,EAAGrB,GACtB,OAAO,IAAI/R,EAAOmT,EAAGpB,GAAOgB,QAAQ,IAAI/S,EAAOoT,EAAGrB,IAmCpD,SAASsC,EAAIlB,EAAGC,EAAGrB,GACjB,OAAOgB,EAAQI,EAAGC,EAAGrB,GAAS,EAIhC,SAASuC,EAAInB,EAAGC,EAAGrB,GACjB,OAAOgB,EAAQI,EAAGC,EAAGrB,GAAS,EAIhC,SAAS8B,EAAIV,EAAGC,EAAGrB,GACjB,OAAgC,IAAzBgB,EAAQI,EAAGC,EAAGrB,GAIvB,SAASwC,EAAKpB,EAAGC,EAAGrB,GAClB,OAAgC,IAAzBgB,EAAQI,EAAGC,EAAGrB,GAIvB,SAASyC,EAAKrB,EAAGC,EAAGrB,GAClB,OAAOgB,EAAQI,EAAGC,EAAGrB,IAAU,EAIjC,SAAS0C,EAAKtB,EAAGC,EAAGrB,GAClB,OAAOgB,EAAQI,EAAGC,EAAGrB,IAAU,EAIjC,SAAS2C,EAAKvB,EAAGwB,EAAIvB,EAAGrB,GACtB,OAAQ4C,GACN,IAAK,MAKH,MAJiB,iBAANxB,IACTA,EAAIA,EAAEze,SACS,iBAAN0e,IACTA,EAAIA,EAAE1e,SACDye,IAAMC,EAEf,IAAK,MAKH,MAJiB,iBAAND,IACTA,EAAIA,EAAEze,SACS,iBAAN0e,IACTA,EAAIA,EAAE1e,SACDye,IAAMC,EAEf,IAAK,GACL,IAAK,IACL,IAAK,KACH,OAAOS,EAAGV,EAAGC,EAAGrB,GAElB,IAAK,KACH,OAAOwC,EAAIpB,EAAGC,EAAGrB,GAEnB,IAAK,IACH,OAAOsC,EAAGlB,EAAGC,EAAGrB,GAElB,IAAK,KACH,OAAOyC,EAAIrB,EAAGC,EAAGrB,GAEnB,IAAK,IACH,OAAOuC,EAAGnB,EAAGC,EAAGrB,GAElB,IAAK,KACH,OAAO0C,EAAItB,EAAGC,EAAGrB,GAEnB,QACE,MAAM,IAAIG,UAAU,qBAAuByC,IAKjD,SAASC,EAAYC,EAAMvqC,GAQzB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRynC,QAASznC,EACT0nC,mBAAmB,IAInB6C,aAAgBD,EAAY,CAC9B,GAAIC,EAAK9C,UAAYznC,EAAQynC,MAC3B,OAAO8C,EAEPA,EAAOA,EAAK7rC,MAIhB,KAAM8C,gBAAgB8oC,GACpB,OAAO,IAAIA,EAAWC,EAAMvqC,GAG9By4B,EAAM,aAAc8R,EAAMvqC,GAC1BwB,KAAKxB,QAAUA,EACfwB,KAAKimC,QAAUznC,EAAQynC,MACvBjmC,KAAKiyB,MAAM8W,GAEP/oC,KAAKgpC,SAAWC,EAClBjpC,KAAK9C,MAAQ,GAEb8C,KAAK9C,MAAQ8C,KAAKkpC,SAAWlpC,KAAKgpC,OAAOpgB,QAG3CqO,EAAM,OAAQj3B,MAhKhBjE,EAAQotC,oBACR,SAA8B9B,EAAGC,GAC/B,OAAOF,EAAmBE,EAAGD,IAG/BtrC,EAAQwqC,MACR,SAAgBc,EAAGpB,GACjB,OAAO,IAAI/R,EAAOmT,EAAGpB,GAAOM,OAG9BxqC,EAAQyqC,MACR,SAAgBa,EAAGpB,GACjB,OAAO,IAAI/R,EAAOmT,EAAGpB,GAAOO,OAG9BzqC,EAAQ0qC,MACR,SAAgBY,EAAGpB,GACjB,OAAO,IAAI/R,EAAOmT,EAAGpB,GAAOQ,OAG9B1qC,EAAQkrC,QAAUA,EAKlBlrC,EAAQqtC,aACR,SAAuB/B,EAAGC,GACxB,OAAOL,EAAQI,EAAGC,GAAG,IAGvBvrC,EAAQwrC,aACR,SAAuBF,EAAGC,EAAGrB,GAC3B,IAAIoD,EAAW,IAAInV,EAAOmT,EAAGpB,GACzBqD,EAAW,IAAIpV,EAAOoT,EAAGrB,GAC7B,OAAOoD,EAASpC,QAAQqC,IAAaD,EAAS9B,aAAa+B,IAG7DvtC,EAAQwtC,SACR,SAAmBlC,EAAGC,EAAGrB,GACvB,OAAOgB,EAAQK,EAAGD,EAAGpB,IAGvBlqC,EAAQytC,KACR,SAAeC,EAAMxD,GACnB,OAAOwD,EAAKD,MAAK,SAAUnC,EAAGC,GAC5B,OAAOvrC,EAAQwrC,aAAaF,EAAGC,EAAGrB,OAItClqC,EAAQ2tC,MACR,SAAgBD,EAAMxD,GACpB,OAAOwD,EAAKD,MAAK,SAAUnC,EAAGC,GAC5B,OAAOvrC,EAAQwrC,aAAaD,EAAGD,EAAGpB,OAItClqC,EAAQwsC,GAAKA,EAKbxsC,EAAQysC,GAAKA,EAKbzsC,EAAQgsC,GAAKA,EAKbhsC,EAAQ0sC,IAAMA,EAKd1sC,EAAQ2sC,IAAMA,EAKd3sC,EAAQ4sC,IAAMA,EAKd5sC,EAAQ6sC,IAAMA,EA0Cd7sC,EAAQ+sC,WAAaA,EAmCrB,IAAIG,EAAM,GAiGV,SAAS9qB,EAAOtD,EAAOrc,GAQrB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRynC,QAASznC,EACT0nC,mBAAmB,IAInBrrB,aAAiBsD,EACnB,OAAItD,EAAMorB,UAAYznC,EAAQynC,OAC1BprB,EAAMqrB,sBAAwB1nC,EAAQ0nC,kBACjCrrB,EAEA,IAAIsD,EAAMtD,EAAMyrB,IAAK9nC,GAIhC,GAAIqc,aAAiBiuB,EACnB,OAAO,IAAI3qB,EAAMtD,EAAM3d,MAAOsB,GAGhC,KAAMwB,gBAAgBme,GACpB,OAAO,IAAIA,EAAMtD,EAAOrc,GAgB1B,GAbAwB,KAAKxB,QAAUA,EACfwB,KAAKimC,QAAUznC,EAAQynC,MACvBjmC,KAAKkmC,oBAAsB1nC,EAAQ0nC,kBAGnClmC,KAAKsmC,IAAMzrB,EACX7a,KAAK6K,IAAMgQ,EAAM6F,MAAM,cAAc6d,KAAI,SAAU1jB,GACjD,OAAO7a,KAAK2pC,WAAW9uB,EAAMwrB,UAC5BrmC,MAAM4pC,QAAO,SAAUttC,GAExB,OAAOA,EAAE+J,WAGNrG,KAAK6K,IAAIxE,OACZ,MAAM,IAAI+/B,UAAU,yBAA2BvrB,GAGjD7a,KAAK4mC,SA8EP,SAASiD,EAAeC,EAAatrC,GAKnC,IAJA,IAAI4a,GAAS,EACT2wB,EAAuBD,EAAY9Y,QACnCgZ,EAAiBD,EAAqB1W,MAEnCja,GAAU2wB,EAAqB1jC,QACpC+S,EAAS2wB,EAAqB/Z,OAAM,SAAUia,GAC5C,OAAOD,EAAeE,WAAWD,EAAiBzrC,MAGpDwrC,EAAiBD,EAAqB1W,MAGxC,OAAOja,EA6BT,SAAS+wB,EAAKr/B,GACZ,OAAQA,GAA2B,MAArBA,EAAGuqB,eAAgC,MAAPvqB,EAuM5C,SAASs/B,EAAeC,EACtBC,EAAMC,EAAIC,EAAIC,EAAIC,EAAKC,EACvBC,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,GAuBrB,QArBEX,EADEH,EAAII,GACC,GACEJ,EAAIK,GACN,KAAOD,EAAK,OACVJ,EAAIM,GACN,KAAOF,EAAK,IAAMC,EAAK,KAEvB,KAAOF,GAeD,KAXbM,EADET,EAAIU,GACD,GACIV,EAAIW,GACR,MAAQD,EAAK,GAAK,OACdV,EAAIY,GACR,IAAMF,EAAK,MAAQC,EAAK,GAAK,KACzBE,EACJ,KAAOH,EAAK,IAAMC,EAAK,IAAMC,EAAK,IAAMC,EAExC,KAAOJ,IAGWvE,OAyB3B,SAAS6E,EAASrgC,EAAK+d,EAASpqB,GAC9B,IAAK,IAAIvC,EAAI,EAAGA,EAAI4O,EAAIxE,OAAQpK,IAC9B,IAAK4O,EAAI5O,GAAGkkC,KAAKvX,GACf,OAAO,EAIX,GAAIA,EAAQ8M,WAAWrvB,SAAW7H,EAAQ0nC,kBAAmB,CAM3D,IAAKjqC,EAAI,EAAGA,EAAI4O,EAAIxE,OAAQpK,IAE1B,GADAg7B,EAAMpsB,EAAI5O,GAAG+sC,QACTn+B,EAAI5O,GAAG+sC,SAAWC,GAIlBp+B,EAAI5O,GAAG+sC,OAAOtT,WAAWrvB,OAAS,EAAG,CACvC,IAAI8kC,EAAUtgC,EAAI5O,GAAG+sC,OACrB,GAAImC,EAAQ5E,QAAU3d,EAAQ2d,OAC1B4E,EAAQ3E,QAAU5d,EAAQ4d,OAC1B2E,EAAQ1E,QAAU7d,EAAQ6d,MAC5B,OAAO,EAMb,OAAO,EAGT,OAAO,EAIT,SAAS9Q,EAAW/M,EAAS/N,EAAOrc,GAClC,IACEqc,EAAQ,IAAIsD,EAAMtD,EAAOrc,GACzB,MAAO2nC,GACP,OAAO,EAET,OAAOtrB,EAAMslB,KAAKvX,GA6HpB,SAASwiB,EAASxiB,EAAS/N,EAAOwwB,EAAM7sC,GAItC,IAAI8sC,EAAMC,EAAOC,EAAMzC,EAAM0C,EAC7B,OAJA7iB,EAAU,IAAIsL,EAAOtL,EAASpqB,GAC9Bqc,EAAQ,IAAIsD,EAAMtD,EAAOrc,GAGjB6sC,GACN,IAAK,IACHC,EAAO/C,EACPgD,EAAQ5C,EACR6C,EAAOhD,EACPO,EAAO,IACP0C,EAAQ,KACR,MACF,IAAK,IACHH,EAAO9C,EACP+C,EAAQ7C,EACR8C,EAAOjD,EACPQ,EAAO,IACP0C,EAAQ,KACR,MACF,QACE,MAAM,IAAIrF,UAAU,yCAIxB,GAAIzQ,EAAU/M,EAAS/N,EAAOrc,GAC5B,OAAO,EAMT,IAAK,IAAIvC,EAAI,EAAGA,EAAI4e,EAAMhQ,IAAIxE,SAAUpK,EAAG,CACzC,IAAI6tC,EAAcjvB,EAAMhQ,IAAI5O,GAExByvC,EAAO,KACPC,EAAM,KAiBV,GAfA7B,EAAYl9B,SAAQ,SAAUg/B,GACxBA,EAAW5C,SAAWC,IACxB2C,EAAa,IAAI9C,EAAW,YAE9B4C,EAAOA,GAAQE,EACfD,EAAMA,GAAOC,EACTN,EAAKM,EAAW5C,OAAQ0C,EAAK1C,OAAQxqC,GACvCktC,EAAOE,EACEJ,EAAKI,EAAW5C,OAAQ2C,EAAI3C,OAAQxqC,KAC7CmtC,EAAMC,MAMNF,EAAKxC,WAAaH,GAAQ2C,EAAKxC,WAAauC,EAC9C,OAAO,EAKT,KAAME,EAAIzC,UAAYyC,EAAIzC,WAAaH,IACnCwC,EAAM3iB,EAAS+iB,EAAI3C,QACrB,OAAO,EACF,GAAI2C,EAAIzC,WAAauC,GAASD,EAAK5iB,EAAS+iB,EAAI3C,QACrD,OAAO,EAGX,OAAO,EAtuBTF,EAAWjrC,UAAUo0B,MAAQ,SAAU8W,GACrC,IAAIhsC,EAAIiD,KAAKxB,QAAQynC,MAAQ5C,EAAGlmC,EAAEwoC,iBAAmBtC,EAAGlmC,EAAEyoC,YACtDvpC,EAAI0sC,EAAKv+B,MAAMzN,GAEnB,IAAKV,EACH,MAAM,IAAI+pC,UAAU,uBAAyB2C,GAG/C/oC,KAAKkpC,cAAoBpoC,IAATzE,EAAE,GAAmBA,EAAE,GAAK,GACtB,MAAlB2D,KAAKkpC,WACPlpC,KAAKkpC,SAAW,IAIb7sC,EAAE,GAGL2D,KAAKgpC,OAAS,IAAI9U,EAAO73B,EAAE,GAAI2D,KAAKxB,QAAQynC,OAF5CjmC,KAAKgpC,OAASC,GAMlBH,EAAWjrC,UAAUwE,SAAW,WAC9B,OAAOrC,KAAK9C,OAGd4rC,EAAWjrC,UAAUsiC,KAAO,SAAUvX,GAGpC,GAFAqO,EAAM,kBAAmBrO,EAAS5oB,KAAKxB,QAAQynC,OAE3CjmC,KAAKgpC,SAAWC,GAAOrgB,IAAYqgB,EACrC,OAAO,EAGT,GAAuB,iBAAZrgB,EACT,IACEA,EAAU,IAAIsL,EAAOtL,EAAS5oB,KAAKxB,SACnC,MAAO2nC,GACP,OAAO,EAIX,OAAOyC,EAAIhgB,EAAS5oB,KAAKkpC,SAAUlpC,KAAKgpC,OAAQhpC,KAAKxB,UAGvDsqC,EAAWjrC,UAAUqsC,WAAa,SAAUnB,EAAMvqC,GAChD,KAAMuqC,aAAgBD,GACpB,MAAM,IAAI1C,UAAU,4BAUtB,IAAIyF,EAEJ,GATKrtC,GAA8B,iBAAZA,IACrBA,EAAU,CACRynC,QAASznC,EACT0nC,mBAAmB,IAMD,KAAlBlmC,KAAKkpC,SACP,MAAmB,KAAflpC,KAAK9C,QAGT2uC,EAAW,IAAI1tB,EAAM4qB,EAAK7rC,MAAOsB,GAC1Bm3B,EAAU31B,KAAK9C,MAAO2uC,EAAUrtC,IAClC,GAAsB,KAAlBuqC,EAAKG,SACd,MAAmB,KAAfH,EAAK7rC,QAGT2uC,EAAW,IAAI1tB,EAAMne,KAAK9C,MAAOsB,GAC1Bm3B,EAAUoT,EAAKC,OAAQ6C,EAAUrtC,IAG1C,IAAIstC,IACiB,OAAlB9rC,KAAKkpC,UAAuC,MAAlBlpC,KAAKkpC,UACb,OAAlBH,EAAKG,UAAuC,MAAlBH,EAAKG,UAC9B6C,IACiB,OAAlB/rC,KAAKkpC,UAAuC,MAAlBlpC,KAAKkpC,UACb,OAAlBH,EAAKG,UAAuC,MAAlBH,EAAKG,UAC9B8C,EAAahsC,KAAKgpC,OAAOpgB,UAAYmgB,EAAKC,OAAOpgB,QACjDqjB,IACiB,OAAlBjsC,KAAKkpC,UAAuC,OAAlBlpC,KAAKkpC,UACb,OAAlBH,EAAKG,UAAuC,OAAlBH,EAAKG,UAC9BgD,EACFtD,EAAI5oC,KAAKgpC,OAAQ,IAAKD,EAAKC,OAAQxqC,KACf,OAAlBwB,KAAKkpC,UAAuC,MAAlBlpC,KAAKkpC,YACd,OAAlBH,EAAKG,UAAuC,MAAlBH,EAAKG,UAC9BiD,EACFvD,EAAI5oC,KAAKgpC,OAAQ,IAAKD,EAAKC,OAAQxqC,KACf,OAAlBwB,KAAKkpC,UAAuC,MAAlBlpC,KAAKkpC,YACd,OAAlBH,EAAKG,UAAuC,MAAlBH,EAAKG,UAElC,OAAO4C,GAA2BC,GAC/BC,GAAcC,GACfC,GAA8BC,GAGlCpwC,EAAQoiB,MAAQA,EA8ChBA,EAAMtgB,UAAU+oC,OAAS,WAIvB,OAHA5mC,KAAK6a,MAAQ7a,KAAK6K,IAAI0zB,KAAI,SAAU6N,GAClC,OAAOA,EAAM7pC,KAAK,KAAK8jC,UACtB9jC,KAAK,MAAM8jC,OACPrmC,KAAK6a,OAGdsD,EAAMtgB,UAAUwE,SAAW,WACzB,OAAOrC,KAAK6a,OAGdsD,EAAMtgB,UAAU8rC,WAAa,SAAU9uB,GACrC,IAAIorB,EAAQjmC,KAAKxB,QAAQynC,MACzBprB,EAAQA,EAAMwrB,OAEd,IAAIgG,EAAKpG,EAAQ5C,EAAGlmC,EAAE4oC,kBAAoB1C,EAAGlmC,EAAE2oC,aAC/CjrB,EAAQA,EAAMmsB,QAAQqF,EAAIjC,GAC1BnT,EAAM,iBAAkBpc,GAExBA,EAAQA,EAAMmsB,QAAQ3D,EAAGlmC,EAAE0oC,gBAvtBD,UAwtB1B5O,EAAM,kBAAmBpc,EAAOwoB,EAAGlmC,EAAE0oC,iBASrChrB,GAHAA,GAHAA,EAAQA,EAAMmsB,QAAQ3D,EAAGlmC,EAAEioC,WA/vBN,QAkwBP4B,QAAQ3D,EAAGlmC,EAAEqoC,WAnvBN,QAsvBP9kB,MAAM,OAAOne,KAAK,KAKhC,IAAI+pC,EAASrG,EAAQ5C,EAAGlmC,EAAEwoC,iBAAmBtC,EAAGlmC,EAAEyoC,YAC9C/6B,EAAMgQ,EAAM6F,MAAM,KAAK6d,KAAI,SAAUwK,GACvC,OAoEJ,SAA0BA,EAAMvqC,GAU9B,OATAy4B,EAAM,OAAQ8R,EAAMvqC,GACpBuqC,EA6DF,SAAwBA,EAAMvqC,GAC5B,OAAOuqC,EAAK1C,OAAO3lB,MAAM,OAAO6d,KAAI,SAAUwK,GAC5C,OAIJ,SAAuBA,EAAMvqC,GAC3By4B,EAAM,QAAS8R,EAAMvqC,GACrB,IAAIzB,EAAIyB,EAAQynC,MAAQ5C,EAAGlmC,EAAEuoC,YAAcrC,EAAGlmC,EAAEsoC,OAChD,OAAOsD,EAAK/B,QAAQjqC,GAAG,SAAUwgC,EAAGgP,EAAGlwC,EAAG0B,EAAGyuC,GAE3C,IAAI1b,EA2CJ,OA5CAmG,EAAM,QAAS8R,EAAMxL,EAAGgP,EAAGlwC,EAAG0B,EAAGyuC,GAG7BrC,EAAIoC,GACNzb,EAAM,GACGqZ,EAAI9tC,GACby0B,EAAM,KAAOyb,EAAI,WAAaA,EAAI,GAAK,OAC9BpC,EAAIpsC,GAEX+yB,EADQ,MAANyb,EACI,KAAOA,EAAI,IAAMlwC,EAAI,OAASkwC,EAAI,MAAQlwC,EAAI,GAAK,KAEnD,KAAOkwC,EAAI,IAAMlwC,EAAI,SAAWkwC,EAAI,GAAK,OAExCC,GACTvV,EAAM,kBAAmBuV,GAGrB1b,EAFM,MAANyb,EACQ,MAANlwC,EACI,KAAOkwC,EAAI,IAAMlwC,EAAI,IAAM0B,EAAI,IAAMyuC,EACrC,KAAOD,EAAI,IAAMlwC,EAAI,MAAQ0B,EAAI,GAEjC,KAAOwuC,EAAI,IAAMlwC,EAAI,IAAM0B,EAAI,IAAMyuC,EACrC,KAAOD,EAAI,MAAQlwC,EAAI,GAAK,KAG9B,KAAOkwC,EAAI,IAAMlwC,EAAI,IAAM0B,EAAI,IAAMyuC,EACrC,OAASD,EAAI,GAAK,SAG1BtV,EAAM,SAGFnG,EAFM,MAANyb,EACQ,MAANlwC,EACI,KAAOkwC,EAAI,IAAMlwC,EAAI,IAAM0B,EAC3B,KAAOwuC,EAAI,IAAMlwC,EAAI,MAAQ0B,EAAI,GAEjC,KAAOwuC,EAAI,IAAMlwC,EAAI,IAAM0B,EAC3B,KAAOwuC,EAAI,MAAQlwC,EAAI,GAAK,KAG9B,KAAOkwC,EAAI,IAAMlwC,EAAI,IAAM0B,EAC3B,OAASwuC,EAAI,GAAK,QAI5BtV,EAAM,eAAgBnG,GACfA,KApDA2b,CAAa1D,EAAMvqC,MACzB+D,KAAK,KAhEDmqC,CAAc3D,EAAMvqC,GAC3By4B,EAAM,QAAS8R,GACfA,EAmBF,SAAwBA,EAAMvqC,GAC5B,OAAOuqC,EAAK1C,OAAO3lB,MAAM,OAAO6d,KAAI,SAAUwK,GAC5C,OAIJ,SAAuBA,EAAMvqC,GAC3B,IAAIzB,EAAIyB,EAAQynC,MAAQ5C,EAAGlmC,EAAEmoC,YAAcjC,EAAGlmC,EAAEkoC,OAChD,OAAO0D,EAAK/B,QAAQjqC,GAAG,SAAUwgC,EAAGgP,EAAGlwC,EAAG0B,EAAGyuC,GAE3C,IAAI1b,EAoBJ,OArBAmG,EAAM,QAAS8R,EAAMxL,EAAGgP,EAAGlwC,EAAG0B,EAAGyuC,GAG7BrC,EAAIoC,GACNzb,EAAM,GACGqZ,EAAI9tC,GACby0B,EAAM,KAAOyb,EAAI,WAAaA,EAAI,GAAK,OAC9BpC,EAAIpsC,GAEb+yB,EAAM,KAAOyb,EAAI,IAAMlwC,EAAI,OAASkwC,EAAI,MAAQlwC,EAAI,GAAK,KAChDmwC,GACTvV,EAAM,kBAAmBuV,GACzB1b,EAAM,KAAOyb,EAAI,IAAMlwC,EAAI,IAAM0B,EAAI,IAAMyuC,EACrC,KAAOD,EAAI,MAAQlwC,EAAI,GAAK,MAGlCy0B,EAAM,KAAOyb,EAAI,IAAMlwC,EAAI,IAAM0B,EAC3B,KAAOwuC,EAAI,MAAQlwC,EAAI,GAAK,KAGpC46B,EAAM,eAAgBnG,GACfA,KA5BA6b,CAAa5D,EAAMvqC,MACzB+D,KAAK,KAtBDqqC,CAAc7D,EAAMvqC,GAC3By4B,EAAM,SAAU8R,GAChBA,EAmHF,SAAyBA,EAAMvqC,GAE7B,OADAy4B,EAAM,iBAAkB8R,EAAMvqC,GACvBuqC,EAAKroB,MAAM,OAAO6d,KAAI,SAAUwK,GACrC,OAIJ,SAAwBA,EAAMvqC,GAC5BuqC,EAAOA,EAAK1C,OACZ,IAAItpC,EAAIyB,EAAQynC,MAAQ5C,EAAGlmC,EAAE4nC,aAAe1B,EAAGlmC,EAAE2nC,QACjD,OAAOiE,EAAK/B,QAAQjqC,GAAG,SAAU+zB,EAAK+b,EAAMN,EAAGlwC,EAAG0B,EAAGyuC,GACnDvV,EAAM,SAAU8R,EAAMjY,EAAK+b,EAAMN,EAAGlwC,EAAG0B,EAAGyuC,GAC1C,IAAIM,EAAK3C,EAAIoC,GACTQ,EAAKD,GAAM3C,EAAI9tC,GACf2wC,EAAKD,GAAM5C,EAAIpsC,GACfkvC,EAAOD,EA4DX,MA1Da,MAATH,GAAgBI,IAClBJ,EAAO,IAKTL,EAAKhuC,EAAQ0nC,kBAAoB,KAAO,GAEpC4G,EAGAhc,EAFW,MAAT+b,GAAyB,MAATA,EAEZ,WAGA,IAECA,GAAQI,GAGbF,IACF1wC,EAAI,GAEN0B,EAAI,EAES,MAAT8uC,GAIFA,EAAO,KACHE,GACFR,GAAKA,EAAI,EACTlwC,EAAI,EACJ0B,EAAI,IAEJ1B,GAAKA,EAAI,EACT0B,EAAI,IAEY,OAAT8uC,IAGTA,EAAO,IACHE,EACFR,GAAKA,EAAI,EAETlwC,GAAKA,EAAI,GAIby0B,EAAM+b,EAAON,EAAI,IAAMlwC,EAAI,IAAM0B,EAAIyuC,GAC5BO,EACTjc,EAAM,KAAOyb,EAAI,OAASC,EAAK,OAASD,EAAI,GAAK,OAASC,EACjDQ,IACTlc,EAAM,KAAOyb,EAAI,IAAMlwC,EAAI,KAAOmwC,EAChC,KAAOD,EAAI,MAAQlwC,EAAI,GAAK,KAAOmwC,GAGvCvV,EAAM,gBAAiBnG,GAEhBA,KAxEAoc,CAAcnE,EAAMvqC,MAC1B+D,KAAK,KAvHD4qC,CAAepE,EAAMvqC,GAC5By4B,EAAM,SAAU8R,GAChBA,EAkMF,SAAuBA,EAAMvqC,GAG3B,OAFAy4B,EAAM,eAAgB8R,EAAMvqC,GAErBuqC,EAAK1C,OAAOW,QAAQ3D,EAAGlmC,EAAE6oC,MAAO,IArMhCoH,CAAarE,EAAMvqC,GAC1By4B,EAAM,QAAS8R,GACRA,EA9EEsE,CAAgBtE,EAAM/oC,KAAKxB,WACjCwB,MAAMuC,KAAK,KAAKme,MAAM,OAWzB,OAVI1gB,KAAKxB,QAAQynC,QAEfp7B,EAAMA,EAAI++B,QAAO,SAAUb,GACzB,QAASA,EAAKv+B,MAAM8hC,OAGxBzhC,EAAMA,EAAI0zB,KAAI,SAAUwK,GACtB,OAAO,IAAID,EAAWC,EAAM/oC,KAAKxB,WAChCwB,OAKLme,EAAMtgB,UAAUqsC,WAAa,SAAUrvB,EAAOrc,GAC5C,KAAMqc,aAAiBsD,GACrB,MAAM,IAAIioB,UAAU,uBAGtB,OAAOpmC,KAAK6K,IAAI8U,MAAK,SAAU2tB,GAC7B,OACEzD,EAAcyD,EAAiB9uC,IAC/Bqc,EAAMhQ,IAAI8U,MAAK,SAAU4tB,GACvB,OACE1D,EAAc0D,EAAkB/uC,IAChC8uC,EAAgBtd,OAAM,SAAUwd,GAC9B,OAAOD,EAAiBvd,OAAM,SAAUyd,GACtC,OAAOD,EAAetD,WAAWuD,EAAiBjvC,gBA4BhEzC,EAAQ2xC,cACR,SAAwB7yB,EAAOrc,GAC7B,OAAO,IAAI2f,EAAMtD,EAAOrc,GAASqM,IAAI0zB,KAAI,SAAUwK,GACjD,OAAOA,EAAKxK,KAAI,SAAUjiC,GACxB,OAAOA,EAAEY,SACRqF,KAAK,KAAK8jC,OAAO3lB,MAAM,SAyP9BvC,EAAMtgB,UAAUsiC,KAAO,SAAUvX,GAC/B,IAAKA,EACH,OAAO,EAGT,GAAuB,iBAAZA,EACT,IACEA,EAAU,IAAIsL,EAAOtL,EAAS5oB,KAAKxB,SACnC,MAAO2nC,GACP,OAAO,EAIX,IAAK,IAAIlqC,EAAI,EAAGA,EAAI+D,KAAK6K,IAAIxE,OAAQpK,IACnC,GAAIivC,EAAQlrC,KAAK6K,IAAI5O,GAAI2sB,EAAS5oB,KAAKxB,SACrC,OAAO,EAGX,OAAO,GAuCTzC,EAAQ45B,UAAYA,EAUpB55B,EAAQ4xC,cACR,SAAwBC,EAAU/yB,EAAOrc,GACvC,IAAI8iC,EAAM,KACNuM,EAAQ,KACZ,IACE,IAAIC,EAAW,IAAI3vB,EAAMtD,EAAOrc,GAChC,MAAO2nC,GACP,OAAO,KAYT,OAVAyH,EAAShhC,SAAQ,SAAUk6B,GACrBgH,EAAS3N,KAAK2G,KAEXxF,IAA6B,IAAtBuM,EAAM5G,QAAQH,KAGxB+G,EAAQ,IAAI3Z,EADZoN,EAAMwF,EACkBtoC,QAIvB8iC,GAGTvlC,EAAQgyC,cACR,SAAwBH,EAAU/yB,EAAOrc,GACvC,IAAI+iC,EAAM,KACNyM,EAAQ,KACZ,IACE,IAAIF,EAAW,IAAI3vB,EAAMtD,EAAOrc,GAChC,MAAO2nC,GACP,OAAO,KAYT,OAVAyH,EAAShhC,SAAQ,SAAUk6B,GACrBgH,EAAS3N,KAAK2G,KAEXvF,GAA4B,IAArByM,EAAM/G,QAAQH,KAGxBkH,EAAQ,IAAI9Z,EADZqN,EAAMuF,EACkBtoC,QAIvB+iC,GAGTxlC,EAAQkyC,WACR,SAAqBpzB,EAAOorB,GAC1BprB,EAAQ,IAAIsD,EAAMtD,EAAOorB,GAEzB,IAAIiI,EAAS,IAAIha,EAAO,SACxB,GAAIrZ,EAAMslB,KAAK+N,GACb,OAAOA,EAIT,GADAA,EAAS,IAAIha,EAAO,WAChBrZ,EAAMslB,KAAK+N,GACb,OAAOA,EAGTA,EAAS,KACT,IAAK,IAAIjyC,EAAI,EAAGA,EAAI4e,EAAMhQ,IAAIxE,SAAUpK,EAAG,CACvB4e,EAAMhQ,IAAI5O,GAEhB2Q,SAAQ,SAAUg/B,GAE5B,IAAIuC,EAAU,IAAIja,EAAO0X,EAAW5C,OAAOpgB,SAC3C,OAAQgjB,EAAW1C,UACjB,IAAK,IAC+B,IAA9BiF,EAAQzY,WAAWrvB,OACrB8nC,EAAQ1H,QAER0H,EAAQzY,WAAWxvB,KAAK,GAE1BioC,EAAQ7H,IAAM6H,EAAQvH,SAExB,IAAK,GACL,IAAK,KACEsH,IAAU3F,EAAG2F,EAAQC,KACxBD,EAASC,GAEX,MACF,IAAK,IACL,IAAK,KAEH,MAEF,QACE,MAAM,IAAI5iC,MAAM,yBAA2BqgC,EAAW1C,cAK9D,GAAIgF,GAAUrzB,EAAMslB,KAAK+N,GACvB,OAAOA,EAGT,OAAO,MAGTnyC,EAAQqyC,WACR,SAAqBvzB,EAAOrc,GAC1B,IAGE,OAAO,IAAI2f,EAAMtD,EAAOrc,GAASqc,OAAS,IAC1C,MAAOsrB,GACP,OAAO,OAKXpqC,EAAQsyC,IACR,SAAczlB,EAAS/N,EAAOrc,GAC5B,OAAO4sC,EAAQxiB,EAAS/N,EAAO,IAAKrc,IAItCzC,EAAQuyC,IACR,SAAc1lB,EAAS/N,EAAOrc,GAC5B,OAAO4sC,EAAQxiB,EAAS/N,EAAO,IAAKrc,IAGtCzC,EAAQqvC,QAAUA,EAsElBrvC,EAAQ25B,WACR,SAAqB9M,EAASpqB,GAC5B,IAAI+vC,EAAStc,EAAMrJ,EAASpqB,GAC5B,OAAQ+vC,GAAUA,EAAO7Y,WAAWrvB,OAAUkoC,EAAO7Y,WAAa,MAGpE35B,EAAQmuC,WACR,SAAqBsE,EAAIC,EAAIjwC,GAG3B,OAFAgwC,EAAK,IAAIrwB,EAAMqwB,EAAIhwC,GACnBiwC,EAAK,IAAItwB,EAAMswB,EAAIjwC,GACZgwC,EAAGtE,WAAWuE,IAGvB1yC,EAAQ2yC,OACR,SAAiB9lB,EAASpqB,GACxB,GAAIoqB,aAAmBsL,EACrB,OAAOtL,EAGc,iBAAZA,IACTA,EAAUjhB,OAAOihB,IAGnB,GAAuB,iBAAZA,EACT,OAAO,KAKT,IAAIpe,EAAQ,KACZ,IAHAhM,EAAUA,GAAW,IAGRmwC,IAEN,CAUL,IADA,IAAIC,GACIA,EAAOvL,EAAGlmC,EAAE8nC,WAAW4J,KAAKjmB,OAChCpe,GAASA,EAAM8V,MAAQ9V,EAAM,GAAGnE,SAAWuiB,EAAQviB,SAEhDmE,GACDokC,EAAKtuB,MAAQsuB,EAAK,GAAGvoC,SAAWmE,EAAM8V,MAAQ9V,EAAM,GAAGnE,SACzDmE,EAAQokC,GAEVvL,EAAGlmC,EAAE8nC,WAAW6J,UAAYF,EAAKtuB,MAAQsuB,EAAK,GAAGvoC,OAASuoC,EAAK,GAAGvoC,OAGpEg9B,EAAGlmC,EAAE8nC,WAAW6J,WAAa,OArB7BtkC,EAAQoe,EAAQpe,MAAM64B,EAAGlmC,EAAE6nC,SAwB7B,GAAc,OAAVx6B,EACF,OAAO,KAGT,OAAOynB,EAAMznB,EAAM,GACjB,KAAOA,EAAM,IAAM,KACnB,KAAOA,EAAM,IAAM,KAAMhM,K,6BCrjD7B7B,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMkzB,EAAQ,EAAQ,GAChBoL,EAAe,EAAQ,IACvBuT,EAAS,EAAQ,IAEjBC,EAAKC,OAAO3E,KAAK,KAAM,SAAS,GAChC4E,EAAKD,OAAO3E,KAAK,KAAM,SAAS,GAEtC,MAAM6E,EACF,YAAY7tC,EAAW,SACnBtB,KAAKovC,UAAY9tC,EACjBtB,KAAKsgB,MAAQ,EACbtgB,KAAKqyB,OAAS4c,OAAOI,YART,MAUhB,eACI,OAAOrvC,KAAKovC,UAEhB,OAAOE,GACH,IAAIC,EAOJ,GALIA,EADiB,iBAAVD,EACIL,OAAO3E,KAAKgF,EAAOtvC,KAAKovC,WAGxBE,EAEXtvC,KAAKqyB,OAAOhsB,OAASrG,KAAKsgB,OAASivB,EAASlpC,OAC5CrG,KAAKqyB,OAAOxnB,IAAI0kC,EAAUvvC,KAAKsgB,WAE9B,CACD,IAAIkvB,EAzBI,MAyBO1P,KAAK2P,MAAMzvC,KAAKsgB,MAAQivB,EAASlpC,QAzBxC,MAyBiE,GACtD,IAAfrG,KAAKsgB,OACLtgB,KAAKqyB,OAAS4c,OAAOI,YAAYG,GACjCxvC,KAAKqyB,OAAOxnB,IAAI0kC,IAGhBvvC,KAAKqyB,OAAS4c,OAAOS,OAAO,CAAC1vC,KAAKqyB,OAAOrB,MAAM,EAAGhxB,KAAKsgB,OAAQivB,GAAWC,GAGlFxvC,KAAKsgB,OAASivB,EAASlpC,OAE3B,iBACI,IAAI8Z,EAAU,EACd,KAAOA,EAAU,EAAIngB,KAAKsgB,QAAUtgB,KAAKqyB,OAAOlS,KAAa6uB,GAAMhvC,KAAKqyB,OAAOlS,EAAU,KAAO+uB,GAAMlvC,KAAKqyB,OAAOlS,EAAU,KAAO6uB,GAAMhvC,KAAKqyB,OAAOlS,EAAU,KAAO+uB,IAClK/uB,IAGJ,GAAIA,EAAU,GAAKngB,KAAKsgB,MACpB,OAEJ,MAAMlH,EAAS,IAAIjP,IACHnK,KAAKqyB,OAAOhwB,SAAS,QAAS,EAAG8d,GAASO,MA3CrD,QA4CG9T,QAAS+iC,IACb,IAAIrvB,EAAQqvB,EAAOpvB,QAAQ,KAC3B,IAAe,IAAXD,EACA,MAAM,IAAI/U,MAAM,sDAEpB,IAAI/N,EAAMmyC,EAAOlvB,OAAO,EAAGH,GACvBpjB,EAAQyyC,EAAOlvB,OAAOH,EAAQ,GAAG+lB,OACrCjtB,EAAOvO,IAAIrN,EAAKN,KAEpB,IAAI0yC,EAAYzvB,EAAU,EAG1B,OAFAngB,KAAKqyB,OAASryB,KAAKqyB,OAAOrB,MAAM4e,GAChC5vC,KAAKsgB,MAAQtgB,KAAKsgB,MAAQsvB,EACnBx2B,EAEX,YAAY/S,GACR,GAAIrG,KAAKsgB,MAAQja,EACb,OAEJ,MAAM+S,EAAS61B,OAAOY,MAAMxpC,GAC5BrG,KAAKqyB,OAAOyd,KAAK12B,EAAQ,EAAG,EAAG/S,GAC/B,MAAMupC,EAAYvpC,EAGlB,OAFArG,KAAKqyB,OAAOyd,KAAK9vC,KAAKqyB,OAAQ,EAAGud,GACjC5vC,KAAKsgB,MAAQtgB,KAAKsgB,MAAQsvB,EACnBx2B,EAEX,oBACI,OAAOpZ,KAAKsgB,OAGpB,MAAMyvB,EACF,YAAYxuC,GACRvB,KAAKuB,OAASA,EAElB,QAAQ2pB,GAEJ,OADAlrB,KAAKuB,OAAOrB,GAAG,QAASgrB,GACjBsQ,EAAaj7B,WAAWhD,OAAO,IAAMyC,KAAKuB,OAAOf,IAAI,QAAS0qB,IAEzE,QAAQA,GAEJ,OADAlrB,KAAKuB,OAAOrB,GAAG,QAASgrB,GACjBsQ,EAAaj7B,WAAWhD,OAAO,IAAMyC,KAAKuB,OAAOf,IAAI,QAAS0qB,IAEzE,MAAMA,GAEF,OADAlrB,KAAKuB,OAAOrB,GAAG,MAAOgrB,GACfsQ,EAAaj7B,WAAWhD,OAAO,IAAMyC,KAAKuB,OAAOf,IAAI,MAAO0qB,IAEvE,OAAOA,GAEH,OADAlrB,KAAKuB,OAAOrB,GAAG,OAAQgrB,GAChBsQ,EAAaj7B,WAAWhD,OAAO,IAAMyC,KAAKuB,OAAOf,IAAI,OAAQ0qB,KAG5E,MAAM8kB,EACF,YAAYzuC,GACRvB,KAAKuB,OAASA,EAElB,QAAQ2pB,GAEJ,OADAlrB,KAAKuB,OAAOrB,GAAG,QAASgrB,GACjBsQ,EAAaj7B,WAAWhD,OAAO,IAAMyC,KAAKuB,OAAOf,IAAI,QAAS0qB,IAEzE,QAAQA,GAEJ,OADAlrB,KAAKuB,OAAOrB,GAAG,QAASgrB,GACjBsQ,EAAaj7B,WAAWhD,OAAO,IAAMyC,KAAKuB,OAAOf,IAAI,QAAS0qB,IAEzE,MAAMA,GAEF,OADAlrB,KAAKuB,OAAOrB,GAAG,MAAOgrB,GACfsQ,EAAaj7B,WAAWhD,OAAO,IAAMyC,KAAKuB,OAAOf,IAAI,MAAO0qB,IAEvE,MAAMzgB,EAAMnJ,GACR,OAAO,IAAIN,QAAQ,CAACC,EAASC,KACzB,MAAMZ,EAAYH,IACVA,QACAc,IAGAC,EAAOf,IAGK,iBAATsK,EACPzK,KAAKuB,OAAOsC,MAAM4G,EAAMnJ,EAAUhB,GAGlCN,KAAKuB,OAAOsC,MAAM4G,EAAMnK,KAIpC,MACIN,KAAKuB,OAAOuC,OAGpB,MAAMmsC,EAAOtzC,OAAOghC,OAAO,CACvBuS,cAAevzC,OAAOghC,OAAO,CACzBpgC,OAAS+D,GAAa,IAAI6tC,EAAc7tC,KAE5C6uC,gBAAiBxzC,OAAOghC,OAAO,CAC3ByS,QAASzzC,OAAOghC,OAAO,CACnBnhC,KAAM,mBACN6zC,OAAQ,CAACzvC,EAAKpC,IACHwC,QAAQC,QAAQguC,OAAO3E,KAAKpjB,KAAKC,UAAUvmB,OAAKE,EAAW,GAAItC,EAAQ8xC,YAGtFC,QAAS5zC,OAAOghC,OAAO,CACnBnhC,KAAM,mBACN+1B,OAAQ,CAACF,EAAQ7zB,IACT6zB,aAAkB4c,OACXjuC,QAAQC,QAAQimB,KAAK+K,MAAMI,EAAOhwB,SAAS7D,EAAQ8xC,WAGnDtvC,QAAQC,QAAQimB,KAAK+K,MAAM,IAAI8c,EAAOzc,YAAY9zB,EAAQ8xC,SAAS/d,OAAOF,SAKjG9wB,OAAQ5E,OAAOghC,OAAO,CAClBn8B,iBAAmBH,GAAW,IAAI0uC,EAAsB1uC,GACxDM,iBAAmBN,GAAW,IAAI2uC,EAAsB3uC,KAE5DiE,QAASA,QACT24B,MAAOthC,OAAOghC,OAAO,CACjB1H,WAAU,CAAC31B,EAAUkwC,KAAOtvB,IACjB+U,WAAW31B,EAAUkwC,KAAOtvB,GAEvC,aAAa8c,GACTE,aAAaF,IAEjByS,aAAY,CAACnwC,KAAa4gB,IACfuvB,aAAanwC,KAAa4gB,GAErC,eAAe8c,GACX0S,eAAe1S,QAI3B,SAAS2S,IACL,OAAOV,GAEX,SAAWU,GAIPA,EAAIpxC,QAHJ,WACI6wB,EAAM9wB,QAAQC,QAAQ0wC,IAF9B,CAKGU,IAAQA,EAAM,KACjB50C,EAAQuD,QAAUqxC,G,6BC/LlBh0C,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMkzB,EAAQ,EAAQ,GAChBrrB,EAAK,EAAQ,GACb02B,EAAW,EAAQ,GACzB,IA+CImV,GA9CJ,SAAWtvB,GAMPA,EAAcrd,GALd,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,GAAavE,EAAGwE,KAAKD,EAAUrG,SAAW8B,EAAGwE,KAAKD,EAAU1H,UAC/DmD,EAAGwE,KAAKD,EAAUyiB,UAAYhnB,EAAGwE,KAAKD,EAAU0iB,UAAYjnB,EAAGwE,KAAKD,EAAUunC,mBAJ1F,CAOmB90C,EAAQulB,gBAAkBvlB,EAAQulB,cAAgB,KACrE,MAAMxhB,EACF,cACIE,KAAK8wC,aAAe,IAAIrV,EAAS1X,QACjC/jB,KAAK+wC,aAAe,IAAItV,EAAS1X,QACjC/jB,KAAKgxC,sBAAwB,IAAIvV,EAAS1X,QAE9C,UACI/jB,KAAK8wC,aAAalvC,UAClB5B,KAAK+wC,aAAanvC,UAEtB,cACI,OAAO5B,KAAK8wC,aAAahjC,MAE7B,UAAU3N,GACNH,KAAK8wC,aAAa7rB,KAAKjlB,KAAKixC,QAAQ9wC,IAExC,cACI,OAAOH,KAAK+wC,aAAajjC,MAE7B,YACI9N,KAAK+wC,aAAa9rB,UAAKnkB,GAE3B,uBACI,OAAOd,KAAKgxC,sBAAsBljC,MAEtC,mBAAmBtI,GACfxF,KAAKgxC,sBAAsB/rB,KAAKzf,GAEpC,QAAQrF,GACJ,OAAIA,aAAiBoL,MACVpL,EAGA,IAAIoL,MAAM,mCAAkCxG,EAAGgM,OAAO5Q,EAAMiF,SAAWjF,EAAMiF,QAAU,aAI1GrJ,EAAQ+D,sBAAwBA,EAEhC,SAAW8wC,GAuCPA,EAA6BM,YAtC7B,SAAqB1yC,GACjB,IAAI2sB,EACJ,IAAImlB,EAEAa,EACJ,MAAMC,EAAkB,IAAIjnC,IAC5B,IAAIknC,EACJ,MAAMC,EAAsB,IAAInnC,IAChC,QAAgBrJ,IAAZtC,GAA4C,iBAAZA,EAChC8xC,EAAU9xC,QAAyCA,EAAU,YAE5D,CAMD,GALA8xC,EAAqC,QAA1BnlB,EAAK3sB,EAAQ8xC,eAA4B,IAAPnlB,EAAgBA,EAAK,aACnCrqB,IAA3BtC,EAAQ2yC,iBACRA,EAAiB3yC,EAAQ2yC,eACzBC,EAAgBvmC,IAAIsmC,EAAe30C,KAAM20C,SAEbrwC,IAA5BtC,EAAQ4yC,gBACR,IAAK,MAAMb,KAAW/xC,EAAQ4yC,gBAC1BA,EAAgBvmC,IAAI0lC,EAAQ/zC,KAAM+zC,GAO1C,QAJmCzvC,IAA/BtC,EAAQ6yC,qBACRA,EAAqB7yC,EAAQ6yC,mBAC7BC,EAAoBzmC,IAAIwmC,EAAmB70C,KAAM60C,SAEjBvwC,IAAhCtC,EAAQ8yC,oBACR,IAAK,MAAMf,KAAW/xC,EAAQ8yC,oBAC1BA,EAAoBzmC,IAAI0lC,EAAQ/zC,KAAM+zC,GAQlD,YAJ2BzvC,IAAvBuwC,IACAA,EAAqBjhB,EAAM9wB,UAAU6wC,gBAAgBI,QACrDe,EAAoBzmC,IAAIwmC,EAAmB70C,KAAM60C,IAE9C,CAAEf,UAASa,iBAAgBC,kBAAiBC,qBAAoBC,wBArC/E,CAwCGV,IAAiCA,EAA+B,KA6FnE70C,EAAQqF,4BA5FR,cAA0CtB,EACtC,YAAYyxC,EAAU/yC,GAClBM,QACAkB,KAAKuxC,SAAWA,EAChBvxC,KAAKxB,QAAUoyC,EAA6BM,YAAY1yC,GACxDwB,KAAKqyB,OAASjC,EAAM9wB,UAAU4wC,cAAc3yC,OAAOyC,KAAKxB,QAAQ8xC,SAChEtwC,KAAKwxC,uBAAyB,IAC9BxxC,KAAKyxC,mBAAqB,EAC1BzxC,KAAK0xC,aAAe,EAExB,0BAA0BC,GACtB3xC,KAAKwxC,uBAAyBG,EAElC,4BACI,OAAO3xC,KAAKwxC,uBAEhB,OAAOlxC,GACHN,KAAKyxC,mBAAqB,EAC1BzxC,KAAK0xC,aAAe,EACpB1xC,KAAK4xC,yBAAsB9wC,EAC3Bd,KAAKM,SAAWA,EAChB,MAAM8Y,EAASpZ,KAAKuxC,SAASM,OAAQpnC,IACjCzK,KAAK6xC,OAAOpnC,KAIhB,OAFAzK,KAAKuxC,SAASxlB,QAAS5rB,GAAUH,KAAKI,UAAUD,IAChDH,KAAKuxC,SAASvlB,QAAQ,IAAMhsB,KAAKK,aAC1B+Y,EAEX,OAAO3O,GAEH,IADAzK,KAAKqyB,OAAOpL,OAAOxc,KACN,CACT,IAAgC,IAA5BzK,KAAKyxC,kBAA0B,CAC/B,MAAMK,EAAU9xC,KAAKqyB,OAAO0f,iBAC5B,IAAKD,EACD,OAEJ,MAAME,EAAgBF,EAAQh1C,IAAI,kBAClC,IAAKk1C,EACD,MAAM,IAAIzmC,MAAM,kDAEpB,MAAMlF,EAAS4rC,SAASD,GACxB,GAAIrK,MAAMthC,GACN,MAAM,IAAIkF,MAAM,0CAEpBvL,KAAKyxC,kBAAoBprC,EAE7B,MAAM6rC,EAAOlyC,KAAKqyB,OAAO8f,YAAYnyC,KAAKyxC,mBAC1C,QAAa3wC,IAAToxC,EAGA,YADAlyC,KAAKoyC,yBAKT,IAAIr0C,EAFJiC,KAAKqyC,2BACLryC,KAAKyxC,mBAAqB,EAGtB1zC,OADgC+C,IAAhCd,KAAKxB,QAAQ2yC,eACTnxC,KAAKxB,QAAQ2yC,eAAe5e,OAAO2f,GAGnClxC,QAAQC,QAAQixC,GAExBn0C,EAAEsR,KAAMnS,IACJ8C,KAAKxB,QAAQ6yC,mBAAmB9e,OAAOr1B,EAAO8C,KAAKxB,SAAS6Q,KAAMzO,IAC9DZ,KAAKM,SAASM,IACdT,IACAH,KAAKI,UAAUD,MAEnBA,IACAH,KAAKI,UAAUD,MAI3B,2BACQH,KAAK4xC,sBACLxhB,EAAM9wB,UAAU2+B,MAAMC,aAAal+B,KAAK4xC,qBACxC5xC,KAAK4xC,yBAAsB9wC,GAGnC,yBACId,KAAKqyC,2BACDryC,KAAKwxC,wBAA0B,IAGnCxxC,KAAK4xC,oBAAsBxhB,EAAM9wB,UAAU2+B,MAAMhI,WAAW,CAACvhB,EAAOi9B,KAChE3xC,KAAK4xC,yBAAsB9wC,EACvB4T,IAAU1U,KAAK0xC,eACf1xC,KAAKsyC,mBAAmB,CAAEZ,aAAch9B,EAAO69B,YAAaZ,IAC5D3xC,KAAKoyC,2BAEVpyC,KAAKwxC,uBAAwBxxC,KAAK0xC,aAAc1xC,KAAKwxC,4B,6BCtLhE70C,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMkzB,EAAQ,EAAQ,GAChBrrB,EAAK,EAAQ,GACbytC,EAAc,EAAQ,IACtB/W,EAAW,EAAQ,GAGzB,IAwCIgX,GAvCJ,SAAWlxB,GAMPA,EAActd,GALd,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,GAAavE,EAAGwE,KAAKD,EAAU1H,UAAYmD,EAAGwE,KAAKD,EAAU0iB,UAChEjnB,EAAGwE,KAAKD,EAAUyiB,UAAYhnB,EAAGwE,KAAKD,EAAUzF,QAJ5D,CAOmB9H,EAAQwlB,gBAAkBxlB,EAAQwlB,cAAgB,KACrE,MAAM7gB,EACF,cACIV,KAAK8wC,aAAe,IAAIrV,EAAS1X,QACjC/jB,KAAK+wC,aAAe,IAAItV,EAAS1X,QAErC,UACI/jB,KAAK8wC,aAAalvC,UAClB5B,KAAK+wC,aAAanvC,UAEtB,cACI,OAAO5B,KAAK8wC,aAAahjC,MAE7B,UAAU3N,EAAOiF,EAASW,GACtB/F,KAAK8wC,aAAa7rB,KAAK,CAACjlB,KAAKixC,QAAQ9wC,GAAQiF,EAASW,IAE1D,cACI,OAAO/F,KAAK+wC,aAAajjC,MAE7B,YACI9N,KAAK+wC,aAAa9rB,UAAKnkB,GAE3B,QAAQX,GACJ,OAAIA,aAAiBoL,MACVpL,EAGA,IAAIoL,MAAM,mCAAkCxG,EAAGgM,OAAO5Q,EAAMiF,SAAWjF,EAAMiF,QAAU,aAI1GrJ,EAAQ2E,sBAAwBA,EAEhC,SAAW+xC,GAUPA,EAA6BvB,YAT7B,SAAqB1yC,GACjB,IAAI2sB,EAAIunB,EACR,YAAgB5xC,IAAZtC,GAA4C,iBAAZA,EACzB,CAAE8xC,QAAS9xC,QAAyCA,EAAU,QAASm0C,mBAAoBviB,EAAM9wB,UAAU6wC,gBAAgBC,SAG3H,CAAEE,QAAoC,QAA1BnlB,EAAK3sB,EAAQ8xC,eAA4B,IAAPnlB,EAAgBA,EAAK,QAASynB,eAAgBp0C,EAAQo0C,eAAgBD,mBAA0D,QAArCD,EAAKl0C,EAAQm0C,0BAAuC,IAAPD,EAAgBA,EAAKtiB,EAAM9wB,UAAU6wC,gBAAgBC,UAP9P,CAWGqC,IAAiCA,EAA+B,KA8CnE12C,EAAQ2F,6BA7CR,cAA2ChB,EACvC,YAAYuB,EAAUzD,GAClBM,QACAkB,KAAKiC,SAAWA,EAChBjC,KAAKxB,QAAUi0C,EAA6BvB,YAAY1yC,GACxDwB,KAAKW,WAAa,EAClBX,KAAK6yC,eAAiB,IAAIL,EAAYM,UAAU,GAChD9yC,KAAKiC,SAAS8pB,QAAS5rB,GAAUH,KAAKI,UAAUD,IAChDH,KAAKiC,SAAS+pB,QAAQ,IAAMhsB,KAAKK,aAErC,YAAYO,GASR,OARgBZ,KAAKxB,QAAQm0C,mBAAmBtC,OAAOzvC,EAAKZ,KAAKxB,SAAS6Q,KAAMgjB,QACxCvxB,IAAhCd,KAAKxB,QAAQo0C,eACN5yC,KAAKxB,QAAQo0C,eAAevC,OAAOhe,GAGnCA,GAGAhjB,KAAMgjB,IACjB,MAAMyf,EAAU,GAGhB,OAFAA,EAAQ5rC,KA5EE,mBA4EkBmsB,EAAO0gB,WAAW1wC,WA3E7C,QA4EDyvC,EAAQ5rC,KA5EP,QA6EMlG,KAAKgzC,QAAQpyC,EAAKkxC,EAASzf,IAClClyB,IAEA,MADAH,KAAKI,UAAUD,GACTA,IAGd,QAAQS,EAAKkxC,EAASrnC,GAClB,OAAOzK,KAAK6yC,eAAeI,KAAKnS,UAC5B,IAEI,aADM9gC,KAAKiC,SAAS4B,MAAMiuC,EAAQvvC,KAAK,IAAK,SACrCvC,KAAKiC,SAAS4B,MAAM4G,GAE/B,MAAOtK,GACHH,KAAKe,YAAYZ,EAAOS,MAIpC,YAAYT,EAAOS,GACfZ,KAAKW,aACLX,KAAKI,UAAUD,EAAOS,EAAKZ,KAAKW,e,6BCtGxChE,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMkzB,EAAQ,EAAQ,GA4DtBr0B,EAAQ+2C,UA3DR,MACI,YAAYI,EAAW,GACnB,GAAIA,GAAY,EACZ,MAAM,IAAI3nC,MAAM,mCAEpBvL,KAAKmzC,UAAYD,EACjBlzC,KAAKozC,QAAU,EACfpzC,KAAKqzC,SAAW,GAEpB,KAAKC,GACD,OAAO,IAAItyC,QAAQ,CAACC,EAASC,KACzBlB,KAAKqzC,SAASntC,KAAK,CAAEotC,QAAOryC,UAASC,WACrClB,KAAKuzC,YAGb,aACI,OAAOvzC,KAAKozC,QAEhB,UACiC,IAAzBpzC,KAAKqzC,SAAShtC,QAAgBrG,KAAKozC,UAAYpzC,KAAKmzC,WAGxD/iB,EAAM9wB,UAAU2+B,MAAMwS,aAAa,IAAMzwC,KAAKwzC,aAElD,YACI,GAA6B,IAAzBxzC,KAAKqzC,SAAShtC,QAAgBrG,KAAKozC,UAAYpzC,KAAKmzC,UACpD,OAEJ,MAAMvE,EAAO5uC,KAAKqzC,SAAS3sC,QAE3B,GADA1G,KAAKozC,UACDpzC,KAAKozC,QAAUpzC,KAAKmzC,UACpB,MAAM,IAAI5nC,MAAM,yBAEpB,IACI,MAAM6N,EAASw1B,EAAK0E,QAChBl6B,aAAkBpY,QAClBoY,EAAO/J,KAAMnS,IACT8C,KAAKozC,UACLxE,EAAK3tC,QAAQ/D,GACb8C,KAAKuzC,WACLjb,IACAt4B,KAAKozC,UACLxE,EAAK1tC,OAAOo3B,GACZt4B,KAAKuzC,aAITvzC,KAAKozC,UACLxE,EAAK3tC,QAAQmY,GACbpZ,KAAKuzC,WAGb,MAAOjb,GACHt4B,KAAKozC,UACLxE,EAAK1tC,OAAOo3B,GACZt4B,KAAKuzC,c,6BCzDjB52C,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMkzB,EAAQ,EAAQ,GAChBrrB,EAAK,EAAQ,GACbs1B,EAAa,EAAQ,IACrBoZ,EAAc,EAAQ,IACtBhY,EAAW,EAAQ,GACnBC,EAAiB,EAAQ,IAC/B,IAAIgY,EAIAC,EAeAzvB,EAsCAtC,EAiBAsa,EAIAC,EAIAC,EAuBAp4B,EAQAs4B,EAaAC,EAcAC,EAoBAoX,GA/JJ,SAAWF,GACPA,EAAmB5nC,KAAO,IAAIuuB,EAAWn7B,iBAAiB,mBAD9D,CAEGw0C,IAAuBA,EAAqB,KAE/C,SAAWC,GACPA,EAAqB7nC,KAAO,IAAIuuB,EAAWn7B,iBAAiB,cADhE,CAEGy0C,IAAyBA,EAAuB,KAKnD53C,EAAQkgC,aAJR,MACI,iBAIJlgC,EAAQ0H,WAAa9G,OAAOghC,OAAO,CAC/Bx9B,MAAO,OACPoF,KAAM,OACNC,KAAM,OACNC,IAAK,SAGT,SAAWye,GACPA,EAAMA,EAAW,IAAI,GAAK,MAC1BA,EAAMA,EAAgB,SAAI,GAAK,WAC/BA,EAAMA,EAAe,QAAI,GAAK,UAHlC,CAIGA,EAAQnoB,EAAQmoB,QAAUnoB,EAAQmoB,MAAQ,KAC7C,SAAWA,GAiBPA,EAAMiJ,WAhBN,SAAoBjwB,GAChB,IAAK6H,EAAGgM,OAAO7T,GACX,OAAOgnB,EAAMC,IAGjB,OADAjnB,EAAQA,EAAMm4B,eAEV,IAAK,MACD,OAAOnR,EAAMC,IACjB,IAAK,WACD,OAAOD,EAAM2vB,SACjB,IAAK,UACD,OAAO3vB,EAAM4vB,QACjB,QACI,OAAO5vB,EAAMC,MAgBzBD,EAAM7hB,SAZN,SAAkBnF,GACd,OAAQA,GACJ,KAAKgnB,EAAMC,IACP,MAAO,MACX,KAAKD,EAAM2vB,SACP,MAAO,WACX,KAAK3vB,EAAM4vB,QACP,MAAO,UACX,QACI,MAAO,QA3BvB,CA+BG5vB,EAAQnoB,EAAQmoB,QAAUnoB,EAAQmoB,MAAQ,KAE7C,SAAWtC,GACPA,EAAkB,KAAI,OACtBA,EAAkB,KAAI,OAF1B,CAGiB7lB,EAAQ6lB,cAAgB7lB,EAAQ6lB,YAAc,KAC/D,SAAWA,GAUPA,EAAYuL,WATZ,SAAoBjwB,GAEhB,MAAc,UADdA,EAAQA,EAAMm4B,eAEHzT,EAAYsF,KAGZtF,EAAYpZ,MAP/B,CAWGoZ,EAAc7lB,EAAQ6lB,cAAgB7lB,EAAQ6lB,YAAc,KAE/D,SAAWsa,GACPA,EAAqBpwB,KAAO,IAAIuuB,EAAWn7B,iBAAiB,0BADhE,CAEGg9B,EAAuBngC,EAAQmgC,uBAAyBngC,EAAQmgC,qBAAuB,KAE1F,SAAWC,GACPA,EAAqBrwB,KAAO,IAAIuuB,EAAWn7B,iBAAiB,0BADhE,CAEGi9B,EAAuBpgC,EAAQogC,uBAAyBpgC,EAAQogC,qBAAuB,KAE1F,SAAWC,GAIPA,EAAiBA,EAAyB,OAAI,GAAK,SAInDA,EAAiBA,EAA2B,SAAI,GAAK,WAIrDA,EAAiBA,EAAmC,iBAAI,GAAK,mBAZjE,CAaGA,EAAmBrgC,EAAQqgC,mBAAqBrgC,EAAQqgC,iBAAmB,KAC9E,MAAMC,UAAwB9wB,MAC1B,YAAY8a,EAAMjhB,GACdtG,MAAMsG,GACNpF,KAAKqmB,KAAOA,EACZ1pB,OAAOygC,eAAep9B,KAAMq8B,EAAgBx+B,YAGpD9B,EAAQsgC,gBAAkBA,EAE1B,SAAWr4B,GAKPA,EAAmBC,GAJnB,SAAY/G,GACR,MAAMoM,EAAYpM,EAClB,OAAOoM,GAAavE,EAAGwE,KAAKD,EAAUyqC,qBAH9C,CAMG/vC,EAAqBjI,EAAQiI,qBAAuBjI,EAAQiI,mBAAqB,KAEpF,SAAWs4B,GACPA,EAA6B0X,QAAUr3C,OAAOghC,OAAO,CACjDsW,8BAA8B1W,GACnB,IAAI7B,EAAeC,0BAOlCW,EAA6Br4B,GAJ7B,SAAY/G,GACR,MAAMoM,EAAYpM,EAClB,OAAOoM,GAAavE,EAAGwE,KAAKD,EAAU2qC,gCAR9C,CAWG3X,EAA+BvgC,EAAQugC,+BAAiCvgC,EAAQugC,6BAA+B,KAElH,SAAWC,GACPA,EAA2ByX,QAAUr3C,OAAOghC,OAAO,CAC/C,iBAAiBuW,EAAMppC,GACnBopC,EAAKlpC,iBAAiB0oC,EAAmB5nC,KAAM,CAAEhB,QAErD,QAAQyyB,OAMZhB,EAA2Bt4B,GAJ3B,SAAY/G,GACR,MAAMoM,EAAYpM,EAClB,OAAOoM,GAAavE,EAAGwE,KAAKD,EAAU6qC,mBAAqBpvC,EAAGwE,KAAKD,EAAU8qC,UATrF,CAYG7X,EAA6BxgC,EAAQwgC,6BAA+BxgC,EAAQwgC,2BAA6B,KAE5G,SAAWC,GACPA,EAAqBwX,QAAUr3C,OAAOghC,OAAO,CACzC0W,SAAU/X,EAA6B0X,QACvCM,OAAQ/X,EAA2ByX,UAMvCxX,EAAqBv4B,GAJrB,SAAY/G,GACR,MAAMoM,EAAYpM,EAClB,OAAOoM,GAAagzB,EAA6Br4B,GAAGqF,EAAU+qC,WAAa9X,EAA2Bt4B,GAAGqF,EAAUgrC,SAP3H,CAUG9X,EAAuBzgC,EAAQygC,uBAAyBzgC,EAAQygC,qBAAuB,KAE1F,SAAWR,GAKPA,EAAkB/3B,GAJlB,SAAY/G,GACR,MAAMoM,EAAYpM,EAClB,OAAOoM,IAAckzB,EAAqBv4B,GAAGqF,EAAUirC,uBAAyBvwC,EAAmBC,GAAGqF,EAAUpF,sBAHxH,CAMuBnI,EAAQigC,oBAAsBjgC,EAAQigC,kBAAoB,KAEjF,SAAW4X,GACPA,EAAgBA,EAAqB,IAAI,GAAK,MAC9CA,EAAgBA,EAA2B,UAAI,GAAK,YACpDA,EAAgBA,EAAwB,OAAI,GAAK,SACjDA,EAAgBA,EAA0B,SAAI,GAAK,WAJvD,CAKGA,IAAoBA,EAAkB,KAixBzC73C,EAAQ0C,wBAhxBR,SAAiC+1C,EAAeC,EAAeC,EAASl2C,GACpE,MAAMD,OAAqBuC,IAAZ4zC,EAAwBA,EAAU34C,EAAQ0H,WACzD,IAAIkxC,EAAiB,EACjBC,EAA4B,EAC5BC,EAA+B,EAE/BC,OAAqBh0C,EACzB,MAAMi0C,EAAkBp4C,OAAOY,OAAO,MACtC,IAAIy3C,OAA0Bl0C,EAC9B,MAAMm0C,EAAuBt4C,OAAOY,OAAO,MACrC23C,EAAmB,IAAI/qC,IAC7B,IAAI8zB,EAMAhS,EALAkpB,EAAe,IAAI1B,EAAY2B,UAC/BC,EAAmB14C,OAAOY,OAAO,MACjC+3C,EAAgB34C,OAAOY,OAAO,MAC9B0oB,EAAQ/B,EAAMC,IACd+B,EAActE,EAAYpZ,KAE1B0c,EAAQ0uB,EAAgB2B,IAC5B,MAAMzE,EAAe,IAAIrV,EAAS1X,QAC5BgtB,EAAe,IAAItV,EAAS1X,QAC5ByxB,EAA+B,IAAI/Z,EAAS1X,QAC5C0xB,EAA2B,IAAIha,EAAS1X,QACxC2xB,EAAiB,IAAIja,EAAS1X,QAC9BwwB,EAAwB/1C,GAAWA,EAAQ+1C,qBAAwB/1C,EAAQ+1C,qBAAuB/X,EAAqBwX,QAC7H,SAAS2B,EAAsB7qC,GAC3B,MAAO,OAASA,EAAGzI,WAavB,SAASuzC,EAAkBC,EAAOzwC,GAXlC,IAAgC0F,EAYxBuvB,EAAWmD,iBAAiBp4B,GAC5BywC,EAAMhrC,IAAI8qC,EAAsBvwC,EAAQ0F,IAAK1F,GAExCi1B,EAAWqD,kBAAkBt4B,GAClCywC,EAAMhrC,IAfC,QADiBC,EAgBS1F,EAAQ0F,IAdlC,kBAAoB+pC,GAA8BxyC,WAGlD,OAASyI,EAAGzI,WAW2B+C,GAG9CywC,EAAMhrC,IAVH,UAAY+pC,GAA2BvyC,WAUF+C,GAGhD,SAAS2uC,EAAmBjuC,IAG5B,SAASgwC,IACL,OAAO5wB,IAAU0uB,EAAgBmC,UAErC,SAASC,IACL,OAAO9wB,IAAU0uB,EAAgBqC,OAErC,SAASC,IACL,OAAOhxB,IAAU0uB,EAAgBuC,SAErC,SAASxqB,IACDzG,IAAU0uB,EAAgB2B,KAAOrwB,IAAU0uB,EAAgBmC,YAC3D7wB,EAAQ0uB,EAAgBqC,OACxBlF,EAAa9rB,UAAKnkB,IAc1B,SAASs1C,IACDnY,GAA+B,IAAtBkX,EAAa/pC,OAG1B6yB,EAAQ7N,EAAM9wB,UAAU2+B,MAAMwS,aAAa,KACvCxS,OAAQn9B,EAIhB,WACI,GAA0B,IAAtBq0C,EAAa/pC,KACb,OAEJ,MAAMhG,EAAU+vC,EAAazuC,QAC7B,IACQ2zB,EAAWmD,iBAAiBp4B,GA0CxC,SAAuBixC,GACnB,GAAIH,IAGA,OAEJ,SAASI,EAAMC,EAAe13C,EAAQ23C,GAClC,MAAMpxC,EAAU,CACZqxC,QA3II,MA4IJ3rC,GAAIurC,EAAevrC,IAEnByrC,aAAyBlc,EAAWlU,cACpC/gB,EAAQjF,MAAQo2C,EAAcG,SAG9BtxC,EAAQgU,YAA2BtY,IAAlBy1C,EAA8B,KAAOA,EAE1DI,EAAqBvxC,EAASvG,EAAQ23C,GACtC/B,EAAc5wC,MAAMuB,GAExB,SAASwxC,EAAWz2C,EAAOtB,EAAQ23C,GAC/B,MAAMpxC,EAAU,CACZqxC,QAzJI,MA0JJ3rC,GAAIurC,EAAevrC,GACnB3K,MAAOA,EAAMu2C,UAEjBC,EAAqBvxC,EAASvG,EAAQ23C,GACtC/B,EAAc5wC,MAAMuB,IAiQ5B,SAA8BA,GAC1B,GAAI6gB,IAAU/B,EAAMC,MAAQ8H,EACxB,OAEJ,GAAI/F,IAAgBtE,EAAYpZ,KAAM,CAClC,IAAIiC,OAAO3J,EACPmlB,IAAU/B,EAAM4vB,SAAW1uC,EAAQ8I,SACnCzD,EAAO,WAAWyc,KAAKC,UAAU/hB,EAAQ8I,OAAQ,KAAM,UAE3D+d,EAAOxmB,IAAI,qBAAqBL,EAAQvG,aAAauG,EAAQ0F,QAASL,QAGtEosC,GAAc,kBAAmBzxC,GA7PrC0xC,CAAqBT,GACrB,MAAMv9B,EAAUi8B,EAAgBsB,EAAex3C,QAC/C,IAAIiN,EACAirC,EACAj+B,IACAhN,EAAOgN,EAAQhN,KACfirC,EAAiBj+B,EAAQ0M,SAE7B,MAAMgxB,EAAYrwC,KAAKC,MACvB,GAAI2wC,GAAkBjC,EAAoB,CACtC,MAAMkC,EAAWrvC,OAAO0uC,EAAevrC,IACjCmsC,EAAqB1C,EAAqBF,SAASJ,8BAA8B+C,GACvF1B,EAAc0B,GAAYC,EAC1B,IACI,IAAIC,EAEAA,OAD0Bp2C,IAA1Bu1C,EAAenoC,aAAkCpN,IAATgL,GAA8C,IAAxBA,EAAKqrC,eACnDJ,EACVA,EAAeE,EAAmBviC,OAClCogC,EAAmBuB,EAAex3C,OAAQo4C,EAAmBviC,OAE9D3P,EAAGuoB,MAAM+oB,EAAenoC,eAAqBpN,IAATgL,GAAsBA,EAAKqrC,eAAiB,GACrEJ,EACVA,KAAkBV,EAAenoC,OAAQ+oC,EAAmBviC,OAC5DogC,EAAmBuB,EAAex3C,UAAWw3C,EAAenoC,OAAQ+oC,EAAmBviC,OAG7EqiC,EACVA,EAAeV,EAAenoC,OAAQ+oC,EAAmBviC,OACzDogC,EAAmBuB,EAAex3C,OAAQw3C,EAAenoC,OAAQ+oC,EAAmBviC,OAE9F,MAAM0iC,EAAUF,EACXA,EAIIE,EAAQ/nC,KACb+nC,EAAQ/nC,KAAMknC,WACHjB,EAAc0B,GACrBV,EAAMC,EAAeF,EAAex3C,OAAQ23C,IAC7Cr2C,WACQm1C,EAAc0B,GACjB72C,aAAiBk6B,EAAWlU,cAC5BywB,EAAWz2C,EAAOk2C,EAAex3C,OAAQ23C,GAEpCr2C,GAAS4E,EAAGgM,OAAO5Q,EAAMiF,SAC9BwxC,EAAW,IAAIvc,EAAWlU,cAAckU,EAAW/K,WAAWuN,cAAe,WAAWwZ,EAAex3C,+BAA+BsB,EAAMiF,WAAYixC,EAAex3C,OAAQ23C,GAG/KI,EAAW,IAAIvc,EAAWlU,cAAckU,EAAW/K,WAAWuN,cAAe,WAAWwZ,EAAex3C,6DAA8Dw3C,EAAex3C,OAAQ23C,aAK7LlB,EAAc0B,GACrBV,EAAMY,EAAeb,EAAex3C,OAAQ23C,YAtBrClB,EAAc0B,GA9CjC,SAAsB59B,EAAQva,EAAQ23C,QAGnB11C,IAAXsY,IACAA,EAAS,MAEb,MAAMhU,EAAU,CACZqxC,QAvKI,MAwKJ3rC,GAAIurC,EAAevrC,GACnBsO,OAAQA,GAEZu9B,EAAqBvxC,EAASvG,EAAQ23C,GACtC/B,EAAc5wC,MAAMuB,GAmCZiyC,CAAaH,EAAeb,EAAex3C,OAAQ23C,IAwB3D,MAAOr2C,UACIm1C,EAAc0B,GACjB72C,aAAiBk6B,EAAWlU,cAC5BmwB,EAAMn2C,EAAOk2C,EAAex3C,OAAQ23C,GAE/Br2C,GAAS4E,EAAGgM,OAAO5Q,EAAMiF,SAC9BwxC,EAAW,IAAIvc,EAAWlU,cAAckU,EAAW/K,WAAWuN,cAAe,WAAWwZ,EAAex3C,+BAA+BsB,EAAMiF,WAAYixC,EAAex3C,OAAQ23C,GAG/KI,EAAW,IAAIvc,EAAWlU,cAAckU,EAAW/K,WAAWuN,cAAe,WAAWwZ,EAAex3C,6DAA8Dw3C,EAAex3C,OAAQ23C,SAKpMI,EAAW,IAAIvc,EAAWlU,cAAckU,EAAW/K,WAAWqN,eAAgB,oBAAoB0Z,EAAex3C,QAAWw3C,EAAex3C,OAAQ23C,GA3J/Ic,CAAclyC,GAETi1B,EAAWoD,sBAAsBr4B,GAsMlD,SAA4BA,GACxB,GAAI8wC,IAEA,OAEJ,IACIqB,EADAzrC,OAAOhL,EAEX,GAAIsE,EAAQvG,SAAW60C,EAAmB5nC,KAAKjN,OAC3C04C,EAAuBrpC,IACnB,MAAMpD,EAAKoD,EAAOpD,GACZ0sC,EAASlC,EAAc3tC,OAAOmD,IAChC0sC,GACAA,EAAOhuB,cAId,CACD,MAAM1Q,EAAUm8B,EAAqB7vC,EAAQvG,QACzCia,IACAy+B,EAAsBz+B,EAAQ0M,QAC9B1Z,EAAOgN,EAAQhN,MAGvB,GAAIyrC,GAAuBvC,EACvB,KAoHR,SAAmC5vC,GAC/B,GAAI6gB,IAAU/B,EAAMC,MAAQ8H,GAAU7mB,EAAQvG,SAAWs9B,EAAqBrwB,KAAKjN,OAC/E,OAEJ,GAAIqnB,IAAgBtE,EAAYpZ,KAAM,CAClC,IAAIiC,OAAO3J,EACPmlB,IAAU/B,EAAM4vB,UAEZrpC,EADArF,EAAQ8I,OACD,WAAWgZ,KAAKC,UAAU/hB,EAAQ8I,OAAQ,KAAM,SAGhD,+BAGf+d,EAAOxmB,IAAI,0BAA0BL,EAAQvG,WAAY4L,QAGzDosC,GAAc,uBAAwBzxC,GApIlCqyC,CAA0BryC,QACHtE,IAAnBsE,EAAQ8I,aAAkCpN,IAATgL,GAA8C,IAAxBA,EAAKqrC,eAC5DI,EAAsBA,IAAwBvC,EAAwB5vC,EAAQvG,QAEzEkG,EAAGuoB,MAAMloB,EAAQ8I,eAAqBpN,IAATgL,GAAsBA,EAAKqrC,eAAiB,GAC9EI,EAAsBA,KAAuBnyC,EAAQ8I,QAAU8mC,EAAwB5vC,EAAQvG,UAAWuG,EAAQ8I,QAGlHqpC,EAAsBA,EAAoBnyC,EAAQ8I,QAAU8mC,EAAwB5vC,EAAQvG,OAAQuG,EAAQ8I,QAGpH,MAAO/N,GACCA,EAAMiF,QACN7G,EAAO4B,MAAM,yBAAyBiF,EAAQvG,gCAAgCsB,EAAMiF,WAGpF7G,EAAO4B,MAAM,yBAAyBiF,EAAQvG,qCAKtD22C,EAA6BvwB,KAAK7f,GAnP9BsyC,CAAmBtyC,GAEdi1B,EAAWqD,kBAAkBt4B,GAyJ9C,SAAwBuyC,GACpB,GAAIzB,IAEA,OAEJ,GAA2B,OAAvByB,EAAgB7sC,GACZ6sC,EAAgBx3C,MAChB5B,EAAO4B,MAAM,qDAAqD+mB,KAAKC,UAAUwwB,EAAgBx3C,WAAOW,EAAW,IAGnHvC,EAAO4B,MAAM,oFAGhB,CACD,MAAM3C,EAAMmK,OAAOgwC,EAAgB7sC,IAC7B8sC,EAAkBvC,EAAiB73C,GAEzC,GAyLR,SAA+B4H,EAASwyC,GACpC,GAAI3xB,IAAU/B,EAAMC,MAAQ8H,EACxB,OAEJ,GAAI/F,IAAgBtE,EAAYpZ,KAAM,CAClC,IAAIiC,OAAO3J,EAcX,GAbImlB,IAAU/B,EAAM4vB,UACZ1uC,EAAQjF,OAASiF,EAAQjF,MAAMsK,KAC/BA,EAAO,eAAeyc,KAAKC,UAAU/hB,EAAQjF,MAAMsK,KAAM,KAAM,SAG3DrF,EAAQgU,OACR3O,EAAO,WAAWyc,KAAKC,UAAU/hB,EAAQgU,OAAQ,KAAM,cAEhCtY,IAAlBsE,EAAQjF,QACbsK,EAAO,4BAIfmtC,EAAiB,CACjB,MAAMz3C,EAAQiF,EAAQjF,MAAQ,oBAAoBiF,EAAQjF,MAAMiF,YAAYA,EAAQjF,MAAMkmB,SAAW,GACrG4F,EAAOxmB,IAAI,sBAAsBmyC,EAAgB/4C,aAAauG,EAAQ0F,WAAW3E,KAAKC,MAAQwxC,EAAgBC,gBAAgB13C,IAASsK,QAGvIwhB,EAAOxmB,IAAI,qBAAqBL,EAAQ0F,sCAAuCL,QAInFosC,GAAc,mBAAoBzxC,GAtNlC0yC,CAAsBH,EAAiBC,GACnCA,EAAiB,QACVvC,EAAiB73C,GACxB,IACI,GAAIm6C,EAAgBx3C,MAAO,CACvB,MAAMA,EAAQw3C,EAAgBx3C,MAC9By3C,EAAgB12C,OAAO,IAAIm5B,EAAWlU,cAAchmB,EAAMkmB,KAAMlmB,EAAMiF,QAASjF,EAAMsK,WAEpF,SAA+B3J,IAA3B62C,EAAgBv+B,OAIrB,MAAM,IAAI7N,MAAM,wBAHhBqsC,EAAgB32C,QAAQ02C,EAAgBv+B,SAMhD,MAAOjZ,GACCA,EAAMiF,QACN7G,EAAO4B,MAAM,qBAAqBy3C,EAAgB/4C,gCAAgCsB,EAAMiF,WAGxF7G,EAAO4B,MAAM,qBAAqBy3C,EAAgB/4C,mCA5L1Dk5C,CAAe3yC,GAmP3B,SAA8BA,GAC1B,IAAKA,EAED,YADA7G,EAAO4B,MAAM,2BAGjB5B,EAAO4B,MAAM,6EAA6E+mB,KAAKC,UAAU/hB,EAAS,KAAM,IAExH,MAAMuyC,EAAkBvyC,EACxB,GAAIL,EAAGgM,OAAO4mC,EAAgB7sC,KAAO/F,EAAG0kB,OAAOkuB,EAAgB7sC,IAAK,CAChE,MAAMtN,EAAMmK,OAAOgwC,EAAgB7sC,IAC7BktC,EAAkB3C,EAAiB73C,GACrCw6C,GACAA,EAAgB92C,OAAO,IAAIqK,MAAM,uEA5PjC0sC,CAAqB7yC,GAG7B,QACIgxC,KAvBA8B,MAVR1D,EAAcxoB,QAAQL,GACtB6oB,EAAczoB,SAPd,SAA0B5rB,GACtB2wC,EAAa7rB,KAAK,CAAC9kB,OAAOW,OAAWA,OAOzC2zC,EAAczoB,QAAQL,GACtB8oB,EAAc1oB,SANd,SAA2BthB,GACvBqmC,EAAa7rB,KAAKxa,MAsCtB,MAAMnK,EAAY8E,IACd,IAGI,GAAIi1B,EAAWoD,sBAAsBr4B,IAAYA,EAAQvG,SAAW60C,EAAmB5nC,KAAKjN,OAAQ,CAChG,MAAMrB,EAAMm4C,EAAsBvwC,EAAQ8I,OAAOpD,IAC3CqtC,EAAWhD,EAAar4C,IAAIU,GAClC,GAAI68B,EAAWmD,iBAAiB2a,GAAW,CACvC,MAAMC,EAAW55C,aAAyC,EAASA,EAAQ0F,mBACrEm0C,EAAYD,GAAYA,EAASrE,mBAAsBqE,EAASrE,mBAAmBoE,EAAUpE,QAAsBA,EACzH,GAAIsE,SAAgCv3C,IAAnBu3C,EAASl4C,YAA2CW,IAApBu3C,EAASj/B,QAKtD,OAJA+7B,EAAahqC,OAAO3N,GACpB66C,EAASvtC,GAAKqtC,EAASrtC,GACvB6rC,EAAqB0B,EAAUjzC,EAAQvG,OAAQsH,KAAKC,YACpDquC,EAAc5wC,MAAMw0C,IAKhCzC,EAAkBT,EAAc/vC,GAEpC,QACIgxC,MAsQR,SAASO,EAAqBvxC,EAASvG,EAAQ23C,GAC3C,GAAIvwB,IAAU/B,EAAMC,KAAQ8H,EAG5B,GAAI/F,IAAgBtE,EAAYpZ,KAAM,CAClC,IAAIiC,OAAO3J,EACPmlB,IAAU/B,EAAM4vB,UACZ1uC,EAAQjF,OAASiF,EAAQjF,MAAMsK,KAC/BA,EAAO,eAAeyc,KAAKC,UAAU/hB,EAAQjF,MAAMsK,KAAM,KAAM,SAG3DrF,EAAQgU,OACR3O,EAAO,WAAWyc,KAAKC,UAAU/hB,EAAQgU,OAAQ,KAAM,cAEhCtY,IAAlBsE,EAAQjF,QACbsK,EAAO,4BAInBwhB,EAAOxmB,IAAI,qBAAqB5G,QAAauG,EAAQ0F,iCAAiC3E,KAAKC,MAAQowC,MAAe/rC,QAGlHosC,GAAc,gBAAiBzxC,GAqEvC,SAASyxC,GAAc/qC,EAAM1G,GACzB,IAAK6mB,GAAUhG,IAAU/B,EAAMC,IAC3B,OAEJ,MAAMm0B,EAAa,CACftxB,cAAc,EACdlb,OACA1G,UACAmzC,UAAWpyC,KAAKC,OAEpB6lB,EAAOxmB,IAAI6yC,GAEf,SAASE,KACL,GAAIxC,IACA,MAAM,IAAI3Z,EAAgBD,EAAiB6Z,OAAQ,yBAEvD,GAAIC,IACA,MAAM,IAAI7Z,EAAgBD,EAAiB+Z,SAAU,2BAa7D,SAASsC,GAAgBzmB,GACrB,YAAclxB,IAAVkxB,EACO,KAGAA,EAGf,SAAS0mB,GAAqB5sC,EAAMoC,GAChC,IAAIkL,EACJ,MAAM+9B,EAAiBrrC,EAAKqrC,eAC5B,OAAQA,GACJ,KAAK,EACD/9B,EAAS,KACT,MACJ,KAAK,EACDA,EAASq/B,GAAgBvqC,EAAO,IAChC,MACJ,QACIkL,EAAS,GACT,IAAK,IAAInd,EAAI,EAAGA,EAAIiS,EAAO7H,QAAUpK,EAAIk7C,EAAgBl7C,IACrDmd,EAAOlT,KAAKuyC,GAAgBvqC,EAAOjS,KAEvC,GAAIiS,EAAO7H,OAAS8wC,EAChB,IAAK,IAAIl7C,EAAIiS,EAAO7H,OAAQpK,EAAIk7C,EAAgBl7C,IAC5Cmd,EAAOlT,KAAK,MAK5B,OAAOkT,EAEX,MAAM4M,GAAa,CACfhb,iBAAkB,CAACc,KAASoC,KAExB,IAAIrP,EACA85C,EACJ,GAHAH,KAGIzzC,EAAGgM,OAAOjF,GAEV,OADAjN,EAASiN,EACDoC,EAAO7H,QACX,KAAK,EACDsyC,EAAgB,KAChB,MACJ,KAAK,EACDA,EAAgBzqC,EAAO,GACvB,MACJ,QACIyqC,EAAgBzqC,OAKxBrP,EAASiN,EAAKjN,OACd85C,EAAgBD,GAAqB5sC,EAAMoC,GAE/C,MAAM0qC,EAAsB,CACxBnC,QAvjBI,MAwjBJ53C,OAAQA,EACRqP,OAAQyqC,IAvMpB,SAAkCvzC,GAC9B,GAAI6gB,IAAU/B,EAAMC,KAAQ8H,EAG5B,GAAI/F,IAAgBtE,EAAYpZ,KAAM,CAClC,IAAIiC,OAAO3J,EACPmlB,IAAU/B,EAAM4vB,UAEZrpC,EADArF,EAAQ8I,OACD,WAAWgZ,KAAKC,UAAU/hB,EAAQ8I,OAAQ,KAAM,SAGhD,+BAGf+d,EAAOxmB,IAAI,yBAAyBL,EAAQvG,WAAY4L,QAGxDosC,GAAc,oBAAqBzxC,GAwLnCyzC,CAAyBD,GACzBnE,EAAc5wC,MAAM+0C,IAExBlzB,eAAgB,CAAC5Z,EAAM0Z,KACnBgzB,KACIzzC,EAAGwE,KAAKuC,GACRkpC,EAA0BlpC,EAErB0Z,IACDzgB,EAAGgM,OAAOjF,GACVmpC,EAAqBnpC,GAAQ,CAAEA,UAAMhL,EAAW0kB,WAGhDyvB,EAAqBnpC,EAAKjN,QAAU,CAAEiN,OAAM0Z,aAIxDG,WAAY,CAAC7b,EAAO4K,EAAO8Q,KACvB,GAAI0vB,EAAiBpoC,IAAI4H,GACrB,MAAM,IAAInJ,MAAM,8BAA8BmJ,wBAGlD,OADAwgC,EAAiBrqC,IAAI6J,EAAO8Q,GACrB,CACH5jB,QAAS,KACLszC,EAAiB/pC,OAAOuJ,MAIpCkR,aAAc,CAAC9b,EAAO4K,EAAOxX,KACzB8oB,GAAWhb,iBAAiB2oC,EAAqB7nC,KAAM,CAAE4I,QAAOxX,WAEpE47C,oBAAqBrD,EAAyB3nC,MAC9CsB,YAAa,CAACtD,KAASoC,KAGnB,IAAIrP,EACA85C,EAHJH,KAlGR,WACI,IAAK1C,IACD,MAAM,IAAIvqC,MAAM,wBAiGhBwtC,GAGA,IAAIrkC,OAAQ5T,EACZ,GAAIiE,EAAGgM,OAAOjF,GAEV,OADAjN,EAASiN,EACDoC,EAAO7H,QACX,KAAK,EACDsyC,EAAgB,KAChB,MACJ,KAAK,EAEGjd,EAAeE,kBAAkB33B,GAAGiK,EAAO,KAC3CyqC,EAAgB,KAChBjkC,EAAQxG,EAAO,IAGfyqC,EAAgBF,GAAgBvqC,EAAO,IAE3C,MACJ,QACI,MAAM8qC,EAAO9qC,EAAO7H,OAAS,EACzBq1B,EAAeE,kBAAkB33B,GAAGiK,EAAO8qC,KAC3CtkC,EAAQxG,EAAO8qC,GAEXL,EADkB,IAAlBzqC,EAAO7H,OACSoyC,GAAgBvqC,EAAO,IAGvBA,EAAO8iB,MAAM,EAAGgoB,GAAMza,IAAIrhC,GAASu7C,GAAgBv7C,KAIvEy7C,EAAgBzqC,EAAOqwB,IAAIrhC,GAASu7C,GAAgBv7C,QAK/D,CACD2B,EAASiN,EAAKjN,OACd85C,EAAgBD,GAAqB5sC,EAAMoC,GAC3C,MAAMipC,EAAiBrrC,EAAKqrC,eAC5BziC,EAAQgnB,EAAeE,kBAAkB33B,GAAGiK,EAAOipC,IAAmBjpC,EAAOipC,QAAkBr2C,EAEnG,MAAMgK,EAAK6pC,IACX,IAAIpiC,EACAmC,IACAnC,EAAamC,EAAMmpB,wBAAwB,KACvC0W,EAAqBD,OAAOH,iBAAiBnuB,GAAYlb,MAkCjE,OA/Be,IAAI9J,QAAQ,CAACC,EAASC,KACjC,MAAMm1C,EAAiB,CACnBI,QAjpBA,MAkpBA3rC,GAAIA,EACJjM,OAAQA,EACRqP,OAAQyqC,GAYZ,IAAIf,EAAkB,CAAE/4C,OAAQA,EAAQg5C,WAAY1xC,KAAKC,MAAOnF,QAVpClE,IACxBkE,EAAQlE,GACRw3C,EAAqBD,OAAOF,QAAQtpC,GACpCyH,SAAwDA,EAAW3Q,WAOsBV,OALlEnE,IACvBmE,EAAOnE,GACPw3C,EAAqBD,OAAOF,QAAQtpC,GACpCyH,SAAwDA,EAAW3Q,aA3TnF,SAA6BwD,GACzB,GAAI6gB,IAAU/B,EAAMC,KAAQ8H,EAG5B,GAAI/F,IAAgBtE,EAAYpZ,KAAM,CAClC,IAAIiC,OAAO3J,EACPmlB,IAAU/B,EAAM4vB,SAAW1uC,EAAQ8I,SACnCzD,EAAO,WAAWyc,KAAKC,UAAU/hB,EAAQ8I,OAAQ,KAAM,UAE3D+d,EAAOxmB,IAAI,oBAAoBL,EAAQvG,aAAauG,EAAQ0F,QAASL,QAGrEosC,GAAc,eAAgBzxC,GAkT1B6zC,CAAoB5C,GACpB,IACI5B,EAAc5wC,MAAMwyC,GAExB,MAAOllB,GAEHymB,EAAgB12C,OAAO,IAAIm5B,EAAWlU,cAAckU,EAAW/K,WAAW4N,kBAAmB/L,EAAE/rB,QAAU+rB,EAAE/rB,QAAU,mBACrHwyC,EAAkB,KAElBA,IACAvC,EAAiB1tC,OAAOmD,IAAO8sC,MAK3CnyB,UAAW,CAAC3Z,EAAM0Z,KACdgzB,KACIzzC,EAAGwE,KAAKuC,GACRgpC,EAAqBhpC,EAEhB0Z,IACDzgB,EAAGgM,OAAOjF,GACVipC,EAAgBjpC,GAAQ,CAAEA,UAAMhL,EAAW0kB,WAG3CuvB,EAAgBjpC,EAAKjN,QAAU,CAAEiN,OAAM0Z,aAInDS,MAAO,CAACsZ,EAAQnb,EAAS8H,KACrB,IAAIgtB,GAAoB,EACpBv3B,EAAeC,EAAYpZ,UACQ1H,IAAnCorB,IACInnB,EAAGiO,QAAQkZ,GACXgtB,EAAoBhtB,GAGpBgtB,EAAoBhtB,EAA+BlhB,mBAAoB,EACvE2W,EAAeuK,EAA+BhG,aAAetE,EAAYpZ,OAGjFyd,EAAQsZ,EACRrZ,EAAcvE,EAEVsK,EADAhG,IAAU/B,EAAMC,SACPrjB,EAGAsjB,GAET80B,GAAsBlD,KAAeE,KACrClwB,GAAWhb,iBAAiBkxB,EAAqBpwB,KAAM,CAAE5O,MAAOgnB,EAAM7hB,SAASk9B,MAGvFxT,QAAS+kB,EAAahjC,MACtBke,QAAS+kB,EAAajjC,MACtBqrC,wBAAyB3D,EAA6B1nC,MACtDsrC,UAAW1D,EAAe5nC,MAC1BlM,QAAS,KACL,GAAIs0C,IACA,OAEJhxB,EAAQ0uB,EAAgBuC,SACxBT,EAAezwB,UAAKnkB,GACpB,MAAMX,EAAQ,IAAIoL,MAAM,4BACxB5O,OAAOsjB,KAAKo1B,GAAkBzoC,QAASpP,IACnC63C,EAAiB73C,GAAK0D,OAAOf,KAEjCk1C,EAAmB14C,OAAOY,OAAO,MACjC+3C,EAAgB34C,OAAOY,OAAO,MAC9B43C,EAAe,IAAI1B,EAAY2B,UAE3BrwC,EAAGwE,KAAKkrC,EAAc7yC,UACtB6yC,EAAc7yC,UAEdmD,EAAGwE,KAAKirC,EAAc5yC,UACtB4yC,EAAc5yC,WAGtBqB,OAAQ,KACJu1C,KA3PR,WACI,GAAI1C,IACA,MAAM,IAAIzZ,EAAgBD,EAAiBid,iBAAkB,mCA0P7DC,GACAp0B,EAAQ0uB,EAAgBmC,UACxBvB,EAAcvxC,OAAO3C,IAEzBi5C,QAAS,KAELnpB,EAAM9wB,UAAUgG,QAAQG,IAAI,aAkBpC,OAfAugB,GAAWN,eAAeyW,EAAqBrwB,KAAOoC,IAC9C+X,IAAU/B,EAAMC,KAAQ8H,GAG5BA,EAAOxmB,IAAIyI,EAAO9I,QAAS6gB,IAAU/B,EAAM4vB,QAAU5lC,EAAOsrC,aAAU14C,KAE1EklB,GAAWN,eAAeiuB,EAAqB7nC,KAAOoC,IAClD,MAAMsX,EAAU0vB,EAAiBp4C,IAAIoR,EAAOwG,OACxC8Q,EACAA,EAAQtX,EAAOhR,OAGfu4C,EAAyBxwB,KAAK/W,KAG/B8X,K,6BC37BX,IAAIyzB,EADJ98C,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IAEtD,SAAWu8C,GACPA,EAAM/rC,KAAO,EACb+rC,EAAMC,MAAQ,EACdD,EAAME,MAAQF,EAAMC,MACpBD,EAAMG,KAAO,EACbH,EAAMI,MAAQJ,EAAMG,KALxB,CAMGH,EAAQ19C,EAAQ09C,QAAU19C,EAAQ09C,MAAQ,KAC7C,MAAMrE,EACF,cACIp1C,KAAKhD,OAAOC,aAAe,YAC3B+C,KAAK85C,KAAO,IAAI3vC,IAChBnK,KAAK+5C,WAAQj5C,EACbd,KAAKg6C,WAAQl5C,EACbd,KAAKi6C,MAAQ,EACbj6C,KAAK6iB,OAAS,EAElB,QACI7iB,KAAK85C,KAAKzuC,QACVrL,KAAK+5C,WAAQj5C,EACbd,KAAKg6C,WAAQl5C,EACbd,KAAKi6C,MAAQ,EACbj6C,KAAK6iB,SAET,UACI,OAAQ7iB,KAAK+5C,QAAU/5C,KAAKg6C,MAEhC,WACI,OAAOh6C,KAAKi6C,MAEhB,YACI,IAAI9uB,EACJ,OAA6B,QAArBA,EAAKnrB,KAAK+5C,aAA0B,IAAP5uB,OAAgB,EAASA,EAAGjuB,MAErE,WACI,IAAIiuB,EACJ,OAA6B,QAArBA,EAAKnrB,KAAKg6C,aAA0B,IAAP7uB,OAAgB,EAASA,EAAGjuB,MAErE,IAAIM,GACA,OAAOwC,KAAK85C,KAAKhtC,IAAItP,GAEzB,IAAIA,EAAK08C,EAAQT,EAAM/rC,MACnB,MAAMwH,EAAOlV,KAAK85C,KAAKh9C,IAAIU,GAC3B,GAAK0X,EAML,OAHIglC,IAAUT,EAAM/rC,MAChB1N,KAAKk6C,MAAMhlC,EAAMglC,GAEdhlC,EAAKhY,MAEhB,IAAIM,EAAKN,EAAOg9C,EAAQT,EAAM/rC,MAC1B,IAAIwH,EAAOlV,KAAK85C,KAAKh9C,IAAIU,GACzB,GAAI0X,EACAA,EAAKhY,MAAQA,EACTg9C,IAAUT,EAAM/rC,MAChB1N,KAAKk6C,MAAMhlC,EAAMglC,OAGpB,CAED,OADAhlC,EAAO,CAAE1X,MAAKN,QAAO0xC,UAAM9tC,EAAWq5C,cAAUr5C,GACxCo5C,GACJ,KAAKT,EAAM/rC,KACP1N,KAAKo6C,YAAYllC,GACjB,MACJ,KAAKukC,EAAMC,MACP15C,KAAKq6C,aAAanlC,GAClB,MACJ,KAAKukC,EAAMG,KAGX,QACI55C,KAAKo6C,YAAYllC,GAGzBlV,KAAK85C,KAAKjvC,IAAIrN,EAAK0X,GACnBlV,KAAKi6C,QAET,OAAOj6C,KAEX,OAAOxC,GACH,QAASwC,KAAK0wB,OAAOlzB,GAEzB,OAAOA,GACH,MAAM0X,EAAOlV,KAAK85C,KAAKh9C,IAAIU,GAC3B,GAAK0X,EAML,OAHAlV,KAAK85C,KAAK3uC,OAAO3N,GACjBwC,KAAKs6C,WAAWplC,GAChBlV,KAAKi6C,QACE/kC,EAAKhY,MAEhB,QACI,IAAK8C,KAAK+5C,QAAU/5C,KAAKg6C,MACrB,OAEJ,IAAKh6C,KAAK+5C,QAAU/5C,KAAKg6C,MACrB,MAAM,IAAIzuC,MAAM,gBAEpB,MAAM2J,EAAOlV,KAAK+5C,MAIlB,OAHA/5C,KAAK85C,KAAK3uC,OAAO+J,EAAK1X,KACtBwC,KAAKs6C,WAAWplC,GAChBlV,KAAKi6C,QACE/kC,EAAKhY,MAEhB,QAAQq9C,EAAYC,GAChB,MAAMt1B,EAAQllB,KAAK6iB,OACnB,IAAI1C,EAAUngB,KAAK+5C,MACnB,KAAO55B,GAAS,CAOZ,GANIq6B,EACAD,EAAW98C,KAAK+8C,EAAhBD,CAAyBp6B,EAAQjjB,MAAOijB,EAAQ3iB,IAAKwC,MAGrDu6C,EAAWp6B,EAAQjjB,MAAOijB,EAAQ3iB,IAAKwC,MAEvCA,KAAK6iB,SAAWqC,EAChB,MAAM,IAAI3Z,MAAM,4CAEpB4U,EAAUA,EAAQyuB,MAG1B,OACI,MAAMrQ,EAAMv+B,KACNklB,EAAQllB,KAAK6iB,OACnB,IAAI1C,EAAUngB,KAAK+5C,MACnB,MAAMU,EAAW,CACb,CAACz9C,OAAOy9C,UAAS,IACNA,EAEX,OACI,GAAIlc,EAAI1b,SAAWqC,EACf,MAAM,IAAI3Z,MAAM,4CAEpB,GAAI4U,EAAS,CACT,MAAM/G,EAAS,CAAElc,MAAOijB,EAAQ3iB,IAAK+rB,MAAM,GAE3C,OADApJ,EAAUA,EAAQyuB,KACXx1B,EAGP,MAAO,CAAElc,WAAO4D,EAAWyoB,MAAM,KAI7C,OAAOkxB,EAEX,SACI,MAAMlc,EAAMv+B,KACNklB,EAAQllB,KAAK6iB,OACnB,IAAI1C,EAAUngB,KAAK+5C,MACnB,MAAMU,EAAW,CACb,CAACz9C,OAAOy9C,UAAS,IACNA,EAEX,OACI,GAAIlc,EAAI1b,SAAWqC,EACf,MAAM,IAAI3Z,MAAM,4CAEpB,GAAI4U,EAAS,CACT,MAAM/G,EAAS,CAAElc,MAAOijB,EAAQjjB,MAAOqsB,MAAM,GAE7C,OADApJ,EAAUA,EAAQyuB,KACXx1B,EAGP,MAAO,CAAElc,WAAO4D,EAAWyoB,MAAM,KAI7C,OAAOkxB,EAEX,UACI,MAAMlc,EAAMv+B,KACNklB,EAAQllB,KAAK6iB,OACnB,IAAI1C,EAAUngB,KAAK+5C,MACnB,MAAMU,EAAW,CACb,CAACz9C,OAAOy9C,UAAS,IACNA,EAEX,OACI,GAAIlc,EAAI1b,SAAWqC,EACf,MAAM,IAAI3Z,MAAM,4CAEpB,GAAI4U,EAAS,CACT,MAAM/G,EAAS,CAAElc,MAAO,CAACijB,EAAQ3iB,IAAK2iB,EAAQjjB,OAAQqsB,MAAM,GAE5D,OADApJ,EAAUA,EAAQyuB,KACXx1B,EAGP,MAAO,CAAElc,WAAO4D,EAAWyoB,MAAM,KAI7C,OAAOkxB,EAEX,CAACz9C,OAAOy9C,YACJ,OAAOz6C,KAAK06C,UAEhB,QAAQlL,GACJ,GAAIA,GAAWxvC,KAAKoL,KAChB,OAEJ,GAAgB,IAAZokC,EAEA,YADAxvC,KAAKqL,QAGT,IAAI8U,EAAUngB,KAAK+5C,MACfY,EAAc36C,KAAKoL,KACvB,KAAO+U,GAAWw6B,EAAcnL,GAC5BxvC,KAAK85C,KAAK3uC,OAAOgV,EAAQ3iB,KACzB2iB,EAAUA,EAAQyuB,KAClB+L,IAEJ36C,KAAK+5C,MAAQ55B,EACbngB,KAAKi6C,MAAQU,EACTx6B,IACAA,EAAQg6B,cAAWr5C,GAEvBd,KAAK6iB,SAET,aAAa3N,GAET,GAAKlV,KAAK+5C,OAAU/5C,KAAKg6C,MAGpB,KAAKh6C,KAAK+5C,MACX,MAAM,IAAIxuC,MAAM,gBAGhB2J,EAAK05B,KAAO5uC,KAAK+5C,MACjB/5C,KAAK+5C,MAAMI,SAAWjlC,OAPtBlV,KAAKg6C,MAAQ9kC,EASjBlV,KAAK+5C,MAAQ7kC,EACblV,KAAK6iB,SAET,YAAY3N,GAER,GAAKlV,KAAK+5C,OAAU/5C,KAAKg6C,MAGpB,KAAKh6C,KAAKg6C,MACX,MAAM,IAAIzuC,MAAM,gBAGhB2J,EAAKilC,SAAWn6C,KAAKg6C,MACrBh6C,KAAKg6C,MAAMpL,KAAO15B,OAPlBlV,KAAK+5C,MAAQ7kC,EASjBlV,KAAKg6C,MAAQ9kC,EACblV,KAAK6iB,SAET,WAAW3N,GACP,GAAIA,IAASlV,KAAK+5C,OAAS7kC,IAASlV,KAAKg6C,MACrCh6C,KAAK+5C,WAAQj5C,EACbd,KAAKg6C,WAAQl5C,OAEZ,GAAIoU,IAASlV,KAAK+5C,MAAO,CAG1B,IAAK7kC,EAAK05B,KACN,MAAM,IAAIrjC,MAAM,gBAEpB2J,EAAK05B,KAAKuL,cAAWr5C,EACrBd,KAAK+5C,MAAQ7kC,EAAK05B,UAEjB,GAAI15B,IAASlV,KAAKg6C,MAAO,CAG1B,IAAK9kC,EAAKilC,SACN,MAAM,IAAI5uC,MAAM,gBAEpB2J,EAAKilC,SAASvL,UAAO9tC,EACrBd,KAAKg6C,MAAQ9kC,EAAKilC,aAEjB,CACD,MAAMvL,EAAO15B,EAAK05B,KACZuL,EAAWjlC,EAAKilC,SACtB,IAAKvL,IAASuL,EACV,MAAM,IAAI5uC,MAAM,gBAEpBqjC,EAAKuL,SAAWA,EAChBA,EAASvL,KAAOA,EAEpB15B,EAAK05B,UAAO9tC,EACZoU,EAAKilC,cAAWr5C,EAChBd,KAAK6iB,SAET,MAAM3N,EAAMglC,GACR,IAAKl6C,KAAK+5C,QAAU/5C,KAAKg6C,MACrB,MAAM,IAAIzuC,MAAM,gBAEpB,GAAK2uC,IAAUT,EAAMC,OAASQ,IAAUT,EAAMG,KAG9C,GAAIM,IAAUT,EAAMC,MAAO,CACvB,GAAIxkC,IAASlV,KAAK+5C,MACd,OAEJ,MAAMnL,EAAO15B,EAAK05B,KACZuL,EAAWjlC,EAAKilC,SAElBjlC,IAASlV,KAAKg6C,OAGdG,EAASvL,UAAO9tC,EAChBd,KAAKg6C,MAAQG,IAIbvL,EAAKuL,SAAWA,EAChBA,EAASvL,KAAOA,GAGpB15B,EAAKilC,cAAWr5C,EAChBoU,EAAK05B,KAAO5uC,KAAK+5C,MACjB/5C,KAAK+5C,MAAMI,SAAWjlC,EACtBlV,KAAK+5C,MAAQ7kC,EACblV,KAAK6iB,cAEJ,GAAIq3B,IAAUT,EAAMG,KAAM,CAC3B,GAAI1kC,IAASlV,KAAKg6C,MACd,OAEJ,MAAMpL,EAAO15B,EAAK05B,KACZuL,EAAWjlC,EAAKilC,SAElBjlC,IAASlV,KAAK+5C,OAGdnL,EAAKuL,cAAWr5C,EAChBd,KAAK+5C,MAAQnL,IAIbA,EAAKuL,SAAWA,EAChBA,EAASvL,KAAOA,GAEpB15B,EAAK05B,UAAO9tC,EACZoU,EAAKilC,SAAWn6C,KAAKg6C,MACrBh6C,KAAKg6C,MAAMpL,KAAO15B,EAClBlV,KAAKg6C,MAAQ9kC,EACblV,KAAK6iB,UAGb,SACI,MAAMpY,EAAO,GAIb,OAHAzK,KAAK4M,QAAQ,CAAC1P,EAAOM,KACjBiN,EAAKvE,KAAK,CAAC1I,EAAKN,MAEbuN,EAEX,SAASA,GACLzK,KAAKqL,QACL,IAAK,MAAO7N,EAAKN,KAAUuN,EACvBzK,KAAK6K,IAAIrN,EAAKN,IAI1BnB,EAAQq5C,UAAYA,EAsCpBr5C,EAAQ6+C,SArCR,cAAuBxF,EACnB,YAAYyF,EAAOC,EAAQ,GACvBh8C,QACAkB,KAAK+6C,OAASF,EACd76C,KAAKg7C,OAASlb,KAAKyB,IAAIzB,KAAKwB,IAAI,EAAGwZ,GAAQ,GAE/C,YACI,OAAO96C,KAAK+6C,OAEhB,UAAUF,GACN76C,KAAK+6C,OAASF,EACd76C,KAAKi7C,YAET,YACI,OAAOj7C,KAAKg7C,OAEhB,UAAUF,GACN96C,KAAKg7C,OAASlb,KAAKyB,IAAIzB,KAAKwB,IAAI,EAAGwZ,GAAQ,GAC3C96C,KAAKi7C,YAET,IAAIz9C,EAAK08C,EAAQT,EAAMI,OACnB,OAAO/6C,MAAMhC,IAAIU,EAAK08C,GAE1B,KAAK18C,GACD,OAAOsB,MAAMhC,IAAIU,EAAKi8C,EAAM/rC,MAEhC,IAAIlQ,EAAKN,GAGL,OAFA4B,MAAM+L,IAAIrN,EAAKN,EAAOu8C,EAAMG,MAC5B55C,KAAKi7C,YACEj7C,KAEX,YACQA,KAAKoL,KAAOpL,KAAK+6C,QACjB/6C,KAAKk7C,QAAQpb,KAAKqb,MAAMn7C,KAAK+6C,OAAS/6C,KAAKg7C,Y,cC5YvDh/C,EAAOD,QAAUkC,QAAQ,O,cCAzBjC,EAAOD,QAAUkC,QAAQ,W,cCAzBjC,EAAOD,QAAUkC,QAAQ,Q,6BCKzB,SAASC,EAAS7B,GACd,IAAK,IAAI0B,KAAK1B,EAAQN,EAAQ+B,eAAeC,KAAIhC,EAAQgC,GAAK1B,EAAE0B,IAEpEpB,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDgB,EAAS,EAAQ,IACjBA,EAAS,EAAQ,KACjBA,EAAS,EAAQ,IACjBA,EAAS,EAAQ,KACjB,IAAI69B,EAAe,EAAQ,IAC3BhgC,EAAQqC,yBAA2B29B,EAAa39B,yBAChD,MAAMg9C,EAAK,EAAQ,KAEnB,SAAWC,GAIP,IAAIC,EAKAC,EAKAC,EAbJH,EAASI,mBAAqBL,EAAGK,mBACjCJ,EAASK,uBAAyBN,EAAGM,uBACrCL,EAASM,eAAiBP,EAAGO,eAE7B,SAAWL,GACPA,EAAsBz8C,OAASu8C,EAAGE,sBAAsBz8C,OACxDy8C,EAAsBxvC,KAAOsvC,EAAGE,sBAAsBxvC,KAF1D,CAGGwvC,EAAwBD,EAASC,wBAA0BD,EAASC,sBAAwB,KAE/F,SAAWC,GACPA,EAA2B18C,OAASu8C,EAAGG,2BAA2B18C,OAClE08C,EAA2BzvC,KAAOsvC,EAAGG,2BAA2BzvC,KAFpE,CAGGyvC,EAA6BF,EAASE,6BAA+BF,EAASE,2BAA6B,KAE9G,SAAWC,GACPA,EAA2B38C,OAASu8C,EAAGI,2BAA2B38C,OAClE28C,EAA2B1vC,KAAOsvC,EAAGI,2BAA2B1vC,KAFpE,CAGG0vC,EAA6BH,EAASG,6BAA+BH,EAASG,2BAA6B,KAlBlH,CAmBcz/C,EAAQs/C,WAAat/C,EAAQs/C,SAAW,M,6BC3B/C,IAAIO,EAwBAz9B,EA2BA09B,EAwBAC,EA4BAjzC,EA8BAkzC,EAyBAC,EA2BAC,EAmBAC,EAsCAC,EAwBAC,EAwBA5tB,EAqBA6tB,EAeAC,EAyCAphC,EA8BAqhC,EAwCArtB,EAiBAstB,EAqBAC,EAsBAC,EAqBAC,EA/gBX,o4EAUA,SAAWf,GASPA,EAASr+C,OAHT,SAAgBq/C,EAAMC,GAClB,MAAO,CAAED,KAAMA,EAAMC,UAAWA,IAUpCjB,EAAS33C,GAJT,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAG+3C,cAAcxzC,IAAcvE,GAAG0kB,OAAOngB,EAAUszC,OAAS73C,GAAG0kB,OAAOngB,EAAUuzC,YAf/F,CAkBGjB,IAAaA,EAAW,KAM3B,SAAWz9B,GAYPA,EAAM5gB,OAXN,SAAgBw/C,EAAKC,EAAKC,EAAOC,GAC7B,GAAIn4C,GAAG0kB,OAAOszB,IAAQh4C,GAAG0kB,OAAOuzB,IAAQj4C,GAAG0kB,OAAOwzB,IAAUl4C,GAAG0kB,OAAOyzB,GAClE,MAAO,CAAEjwB,MAAO2uB,EAASr+C,OAAOw/C,EAAKC,GAAMl5C,IAAK83C,EAASr+C,OAAO0/C,EAAOC,IAEtE,GAAItB,EAAS33C,GAAG84C,IAAQnB,EAAS33C,GAAG+4C,GACrC,MAAO,CAAE/vB,MAAO8vB,EAAKj5C,IAAKk5C,GAG1B,MAAM,IAAIzxC,MAAM,8CAAgDwxC,EAAM,KAAOC,EAAM,KAAOC,EAAQ,KAAOC,EAAO,MAWxH/+B,EAAMla,GAJN,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAG+3C,cAAcxzC,IAAcsyC,EAAS33C,GAAGqF,EAAU2jB,QAAU2uB,EAAS33C,GAAGqF,EAAUxF,MAlBpG,CAqBGqa,IAAUA,EAAQ,KAMrB,SAAW09B,GASPA,EAASt+C,OAHT,SAAgBsP,EAAKgO,GACjB,MAAO,CAAEhO,IAAKA,EAAKgO,MAAOA,IAU9BghC,EAAS53C,GAJT,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGo4C,QAAQ7zC,IAAc6U,EAAMla,GAAGqF,EAAUuR,SAAW9V,GAAGgM,OAAOzH,EAAUuD,MAAQ9H,GAAGjE,UAAUwI,EAAUuD,OAfzH,CAkBGgvC,IAAaA,EAAW,KAM3B,SAAWC,GAWPA,EAAav+C,OAHb,SAAgB6/C,EAAWC,EAAaC,EAAsBC,GAC1D,MAAO,CAAEH,UAAWA,EAAWC,YAAaA,EAAaC,qBAAsBA,EAAsBC,qBAAsBA,IAY/HzB,EAAa73C,GANb,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGo4C,QAAQ7zC,IAAc6U,EAAMla,GAAGqF,EAAU+zC,cAAgBt4C,GAAGgM,OAAOzH,EAAU8zC,aAC/Ej/B,EAAMla,GAAGqF,EAAUg0C,uBAAyBv4C,GAAGjE,UAAUwI,EAAUg0C,yBACnEn/B,EAAMla,GAAGqF,EAAUi0C,uBAAyBx4C,GAAGjE,UAAUwI,EAAUi0C,wBAnBnF,CAsBGzB,IAAiBA,EAAe,KAMnC,SAAWjzC,GAYPA,EAAMtL,OARN,SAAgBigD,EAAKC,EAAOC,EAAMC,GAC9B,MAAO,CACHH,IAAKA,EACLC,MAAOA,EACPC,KAAMA,EACNC,MAAOA,IAcf90C,EAAM5E,GAPN,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAG0kB,OAAOngB,EAAUk0C,MACpBz4C,GAAG0kB,OAAOngB,EAAUm0C,QACpB14C,GAAG0kB,OAAOngB,EAAUo0C,OACpB34C,GAAG0kB,OAAOngB,EAAUq0C,QArBnC,CAwBG90C,IAAUA,EAAQ,KAMrB,SAAWkzC,GAUPA,EAAiBx+C,OANjB,SAAgBsd,EAAO+iC,GACnB,MAAO,CACH/iC,MAAOA,EACP+iC,MAAOA,IAWf7B,EAAiB93C,GAJjB,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOihB,EAAMla,GAAGqF,EAAUuR,QAAUhS,EAAM5E,GAAGqF,EAAUs0C,QAhB/D,CAmBG7B,IAAqBA,EAAmB,KAM3C,SAAWC,GAWPA,EAAkBz+C,OAPlB,SAAgBuhC,EAAO+e,EAAUC,GAC7B,MAAO,CACHhf,MAAOA,EACP+e,SAAUA,EACVC,oBAAqBA,IAa7B9B,EAAkB/3C,GANlB,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGgM,OAAOzH,EAAUw1B,SACnB/5B,GAAGjE,UAAUwI,EAAUu0C,WAAatB,EAASt4C,GAAGqF,MAChDvE,GAAGjE,UAAUwI,EAAUw0C,sBAAwB/4C,GAAG+qB,WAAWxmB,EAAUw0C,oBAAqBvB,EAASt4C,MAnBrH,CAsBG+3C,IAAsBA,EAAoB,KAK7C,SAAWC,GAIPA,EAA0B,QAAI,UAI9BA,EAA0B,QAAI,UAI9BA,EAAyB,OAAI,SAZjC,CAaGA,IAAqBA,EAAmB,KAM3C,SAAWC,GAoBPA,EAAa3+C,OAhBb,SAAgBwgD,EAAWC,EAASC,EAAgBC,EAAc9sC,GAC9D,IAAIgI,EAAS,CACT2kC,UAAWA,EACXC,QAASA,GAWb,OATIj5C,GAAGo4C,QAAQc,KACX7kC,EAAO6kC,eAAiBA,GAExBl5C,GAAGo4C,QAAQe,KACX9kC,EAAO8kC,aAAeA,GAEtBn5C,GAAGo4C,QAAQ/rC,KACXgI,EAAOhI,KAAOA,GAEXgI,GAaX8iC,EAAaj4C,GAPb,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAG0kB,OAAOngB,EAAUy0C,YAAch5C,GAAG0kB,OAAOngB,EAAUy0C,aACrDh5C,GAAGjE,UAAUwI,EAAU20C,iBAAmBl5C,GAAG0kB,OAAOngB,EAAU20C,mBAC9Dl5C,GAAGjE,UAAUwI,EAAU40C,eAAiBn5C,GAAG0kB,OAAOngB,EAAU40C,iBAC5Dn5C,GAAGjE,UAAUwI,EAAU8H,OAASrM,GAAGgM,OAAOzH,EAAU8H,QA7BpE,CAgCG8qC,IAAiBA,EAAe,KAMnC,SAAWC,GAUPA,EAA6B5+C,OAN7B,SAAgBijC,EAAUp7B,GACtB,MAAO,CACHo7B,SAAUA,EACVp7B,QAASA,IAWjB+2C,EAA6Bl4C,GAJ7B,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGo4C,QAAQ7zC,IAAcuyC,EAAS53C,GAAGqF,EAAUk3B,WAAaz7B,GAAGgM,OAAOzH,EAAUlE,UAhB/F,CAmBG+2C,IAAiCA,EAA+B,KAKnE,SAAWC,GAIPA,EAAmB7wC,MAAQ,EAI3B6wC,EAAmB30B,QAAU,EAI7B20B,EAAmB+B,YAAc,EAIjC/B,EAAmBgC,KAAO,EAhB9B,CAiBGhC,IAAuBA,EAAqB,KAO/C,SAAW5tB,GAOPA,EAAcC,YAAc,EAM5BD,EAActlB,WAAa,EAb/B,CAcGslB,IAAkBA,EAAgB,KAOrC,SAAW6tB,GAQPA,EAAep4C,GAJf,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,UAAkDvE,GAAG0kB,OAAOngB,EAAUpM,QAAU6H,GAAGgM,OAAOzH,EAAUpM,SAAW6H,GAAGgM,OAAOzH,EAAUF,SANlJ,CASGizC,IAAmBA,EAAiB,KAMvC,SAAWC,GAoBPA,EAAW/+C,OAhBX,SAAgBsd,EAAOzV,EAASi5C,EAAUh4B,EAAMmxB,EAAQlpB,GACpD,IAAIlV,EAAS,CAAEyB,MAAOA,EAAOzV,QAASA,GAatC,OAZIL,GAAGo4C,QAAQkB,KACXjlC,EAAOilC,SAAWA,GAElBt5C,GAAGo4C,QAAQ92B,KACXjN,EAAOiN,KAAOA,GAEdthB,GAAGo4C,QAAQ3F,KACXp+B,EAAOo+B,OAASA,GAEhBzyC,GAAGo4C,QAAQ7uB,KACXlV,EAAOkV,mBAAqBA,GAEzBlV,GAgBXkjC,EAAWr4C,GAVX,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGo4C,QAAQ7zC,IACX6U,EAAMla,GAAGqF,EAAUuR,QACnB9V,GAAGgM,OAAOzH,EAAUlE,WACnBL,GAAG0kB,OAAOngB,EAAU+0C,WAAat5C,GAAGjE,UAAUwI,EAAU+0C,aACxDt5C,GAAG0kB,OAAOngB,EAAU+c,OAASthB,GAAGgM,OAAOzH,EAAU+c,OAASthB,GAAGjE,UAAUwI,EAAU+c,SACjFthB,GAAGgM,OAAOzH,EAAUkuC,SAAWzyC,GAAGjE,UAAUwI,EAAUkuC,WACtDzyC,GAAGjE,UAAUwI,EAAUglB,qBAAuBvpB,GAAG+qB,WAAWxmB,EAAUglB,mBAAoB6tB,EAA6Bl4C,MAhCvI,CAmCGq4C,IAAeA,EAAa,KAM/B,SAAWphC,GAePA,EAAQ3d,OAXR,SAAgBitB,EAAOvJ,GAEnB,IADA,IAAIC,EAAO,GACFo9B,EAAK,EAAGA,EAAKn9B,UAAU9a,OAAQi4C,IACpCp9B,EAAKo9B,EAAK,GAAKn9B,UAAUm9B,GAE7B,IAAIllC,EAAS,CAAEoR,MAAOA,EAAOvJ,QAASA,GAItC,OAHIlc,GAAGo4C,QAAQj8B,IAASA,EAAK7a,OAAS,IAClC+S,EAAO+H,UAAYD,GAEhB9H,GAUX8B,EAAQjX,GAJR,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGo4C,QAAQ7zC,IAAcvE,GAAGgM,OAAOzH,EAAUkhB,QAAUzlB,GAAGgM,OAAOzH,EAAU2X,UArB1F,CAwBG/F,IAAYA,EAAU,KAMzB,SAAWqhC,GASPA,EAASvV,QAHT,SAAiBnsB,EAAO0jC,GACpB,MAAO,CAAE1jC,MAAOA,EAAO0jC,QAASA,IAWpChC,EAASiC,OAHT,SAAgB/pC,EAAU8pC,GACtB,MAAO,CAAE1jC,MAAO,CAAEoS,MAAOxY,EAAU3Q,IAAK2Q,GAAY8pC,QAASA,IAUjEhC,EAASkC,IAHT,SAAa5jC,GACT,MAAO,CAAEA,MAAOA,EAAO0jC,QAAS,KASpChC,EAASt4C,GANT,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAG+3C,cAAcxzC,IACjBvE,GAAGgM,OAAOzH,EAAUi1C,UACpBpgC,EAAMla,GAAGqF,EAAUuR,QA/BlC,CAkCG0hC,IAAaA,EAAW,KAM3B,SAAWrtB,GAOPA,EAAiB3xB,OAHjB,SAAgB8M,EAAciF,GAC1B,MAAO,CAAEjF,aAAcA,EAAciF,MAAOA,IAShD4f,EAAiBjrB,GANjB,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGo4C,QAAQ7zC,IACXo1C,EAAgCz6C,GAAGqF,EAAUe,eAC7CvC,MAAM6I,QAAQrH,EAAUgG,QAZvC,CAeG4f,IAAqBA,EAAmB,KAE3C,SAAWstB,GAWPA,EAAWj/C,OAVX,SAAgBsP,EAAKrO,GACjB,IAAI4a,EAAS,CACThI,KAAM,SACNvE,IAAKA,GAKT,YAHgB,IAAZrO,QAA6C,IAAtBA,EAAQmgD,gBAAmD,IAA3BngD,EAAQogD,iBAC/DxlC,EAAO5a,QAAUA,GAEd4a,GASXojC,EAAWv4C,GANX,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,GAAgC,WAAnBA,EAAU8H,MAAqBrM,GAAGgM,OAAOzH,EAAUuD,YAC5C,IAAtBvD,EAAU9K,eAC2B,IAAhC8K,EAAU9K,QAAQmgD,WAAwB55C,GAAGiO,QAAQ1J,EAAU9K,QAAQmgD,mBAAqD,IAArCr1C,EAAU9K,QAAQogD,gBAA6B75C,GAAGiO,QAAQ1J,EAAU9K,QAAQogD,mBAhBrL,CAmBGpC,IAAeA,EAAa,KAE/B,SAAWC,GAYPA,EAAWl/C,OAXX,SAAgBshD,EAAQC,EAAQtgD,GAC5B,IAAI4a,EAAS,CACThI,KAAM,SACNytC,OAAQA,EACRC,OAAQA,GAKZ,YAHgB,IAAZtgD,QAA6C,IAAtBA,EAAQmgD,gBAAmD,IAA3BngD,EAAQogD,iBAC/DxlC,EAAO5a,QAAUA,GAEd4a,GASXqjC,EAAWx4C,GANX,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,GAAgC,WAAnBA,EAAU8H,MAAqBrM,GAAGgM,OAAOzH,EAAUu1C,SAAW95C,GAAGgM,OAAOzH,EAAUw1C,eAC3E,IAAtBx1C,EAAU9K,eAC2B,IAAhC8K,EAAU9K,QAAQmgD,WAAwB55C,GAAGiO,QAAQ1J,EAAU9K,QAAQmgD,mBAAqD,IAArCr1C,EAAU9K,QAAQogD,gBAA6B75C,GAAGiO,QAAQ1J,EAAU9K,QAAQogD,mBAjBrL,CAoBGnC,IAAeA,EAAa,KAE/B,SAAWC,GAWPA,EAAWn/C,OAVX,SAAgBsP,EAAKrO,GACjB,IAAI4a,EAAS,CACThI,KAAM,SACNvE,IAAKA,GAKT,YAHgB,IAAZrO,QAA6C,IAAtBA,EAAQugD,gBAAsD,IAA9BvgD,EAAQwgD,oBAC/D5lC,EAAO5a,QAAUA,GAEd4a,GASXsjC,EAAWz4C,GANX,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,GAAgC,WAAnBA,EAAU8H,MAAqBrM,GAAGgM,OAAOzH,EAAUuD,YAC5C,IAAtBvD,EAAU9K,eAC2B,IAAhC8K,EAAU9K,QAAQugD,WAAwBh6C,GAAGiO,QAAQ1J,EAAU9K,QAAQugD,mBAAwD,IAAxCz1C,EAAU9K,QAAQwgD,mBAAgCj6C,GAAGiO,QAAQ1J,EAAU9K,QAAQwgD,sBAhBxL,CAmBGtC,IAAeA,EAAa,KAE/B,SAAWC,GAcPA,EAAc14C,GAbd,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,SACoB,IAAtBA,EAAUgiB,cAAoD,IAA9BhiB,EAAUykB,wBACZ,IAA9BzkB,EAAUykB,iBAA8BzkB,EAAUykB,gBAAgBiC,OAAM,SAAUxiB,GAC/E,OAAIzI,GAAGgM,OAAOvD,EAAO4D,MACVorC,EAAWv4C,GAAGuJ,IAAWivC,EAAWx4C,GAAGuJ,IAAWkvC,EAAWz4C,GAAGuJ,GAGhE0hB,EAAiBjrB,GAAGuJ,QAV/C,CAeGmvC,IAAkBA,EAAgB,KACrC,IAkIWsC,EAuBAP,EAwBAQ,EA6BAvrC,EAqBAwrC,EAcA52C,EAgCA62C,EAwBAlrC,EAYAmrC,EAsBAxgB,EAeAygB,EAaAC,EAoBAC,EAiBAC,EAiBAC,EAwBAC,EAmBAC,EAkBAh5C,EAiCAqC,EAOA42C,EAwBA9mC,EA4CAmB,EA0EA4lC,EAsBAC,EAgCA/gB,EA0BAghB,EAsBA9gB,EAsBA+gB,EA5wBPC,EAAoC,WACpC,SAASA,EAAmB5wC,GACxBtP,KAAKsP,MAAQA,EAoBjB,OAlBA4wC,EAAmBriD,UAAU2gD,OAAS,SAAU/pC,EAAU8pC,GACtDv+C,KAAKsP,MAAMpJ,KAAKq2C,EAASiC,OAAO/pC,EAAU8pC,KAE9C2B,EAAmBriD,UAAUmpC,QAAU,SAAUnsB,EAAO0jC,GACpDv+C,KAAKsP,MAAMpJ,KAAKq2C,EAASvV,QAAQnsB,EAAO0jC,KAE5C2B,EAAmBriD,UAAUsN,OAAS,SAAU0P,GAC5C7a,KAAKsP,MAAMpJ,KAAKq2C,EAASkC,IAAI5jC,KAEjCqlC,EAAmBriD,UAAU2zB,IAAM,SAAUzC,GACzC/uB,KAAKsP,MAAMpJ,KAAK6oB,IAEpBmxB,EAAmBriD,UAAUsiD,IAAM,WAC/B,OAAOngD,KAAKsP,OAEhB4wC,EAAmBriD,UAAUwN,MAAQ,WACjCrL,KAAKsP,MAAMuhB,OAAO,EAAG7wB,KAAKsP,MAAMjJ,SAE7B65C,EAtB4B,GA2BnCE,EAAiC,WACjC,SAASA,EAAgBtyB,GACrB,IAAIuyB,EAAQrgD,KACZA,KAAKsgD,iBAAmB3jD,OAAOY,OAAO,MAClCuwB,IACA9tB,KAAKugD,eAAiBzyB,EAClBA,EAAcC,gBACdD,EAAcC,gBAAgBnhB,SAAQ,SAAUY,GAC5C,GAAI0hB,EAAiBjrB,GAAGuJ,GAAS,CAC7B,IAAIgzC,EAAiB,IAAIN,EAAmB1yC,EAAO8B,OACnD+wC,EAAMC,iBAAiB9yC,EAAOnD,aAAawC,KAAO2zC,MAIrD1yB,EAAcxC,SACnB3uB,OAAOsjB,KAAK6N,EAAcxC,SAAS1e,SAAQ,SAAUpP,GACjD,IAAIgjD,EAAiB,IAAIN,EAAmBpyB,EAAcxC,QAAQ9tB,IAClE6iD,EAAMC,iBAAiB9iD,GAAOgjD,MA+E9C,OA1EA7jD,OAAOC,eAAewjD,EAAgBviD,UAAW,OAAQ,CAKrDf,IAAK,WACD,YAA4BgE,IAAxBd,KAAKugD,eACE,CAAExyB,gBAAiB,IAEvB/tB,KAAKugD,gBAEhB1jD,YAAY,EACZ4jD,cAAc,IAElBL,EAAgBviD,UAAU6iD,kBAAoB,SAAUljD,GACpD,GAAIkhD,EAAgCz6C,GAAGzG,GAAM,CAMzC,GALKwC,KAAKugD,iBACNvgD,KAAKugD,eAAiB,CAClBxyB,gBAAiB,MAGpB/tB,KAAKugD,eAAexyB,gBACrB,MAAM,IAAIxiB,MAAM,0DAEpB,IAAIlB,EAAe7M,EAEnB,KADI4b,EAASpZ,KAAKsgD,iBAAiBj2C,EAAawC,MACnC,CACT,IACI8zC,EAAmB,CACnBt2C,aAAcA,EACdiF,MAHAA,EAAQ,IAKZtP,KAAKugD,eAAexyB,gBAAgB7nB,KAAKy6C,GACzCvnC,EAAS,IAAI8mC,EAAmB5wC,GAChCtP,KAAKsgD,iBAAiBj2C,EAAawC,KAAOuM,EAE9C,OAAOA,EAQP,GALKpZ,KAAKugD,iBACNvgD,KAAKugD,eAAiB,CAClBj1B,QAAS3uB,OAAOY,OAAO,SAG1ByC,KAAKugD,eAAej1B,QACrB,MAAM,IAAI/f,MAAM,kEAEpB,IAAI6N,EACJ,KADIA,EAASpZ,KAAKsgD,iBAAiB9iD,IACtB,CACT,IAAI8R,EAAQ,GACZtP,KAAKugD,eAAej1B,QAAQ9tB,GAAO8R,EACnC8J,EAAS,IAAI8mC,EAAmB5wC,GAChCtP,KAAKsgD,iBAAiB9iD,GAAO4b,EAEjC,OAAOA,GAGfgnC,EAAgBviD,UAAU+iD,WAAa,SAAU/zC,EAAKrO,GAClDwB,KAAK6gD,uBACL7gD,KAAKugD,eAAexyB,gBAAgB7nB,KAAKs2C,EAAWj/C,OAAOsP,EAAKrO,KAEpE4hD,EAAgBviD,UAAUijD,WAAa,SAAUjC,EAAQC,EAAQtgD,GAC7DwB,KAAK6gD,uBACL7gD,KAAKugD,eAAexyB,gBAAgB7nB,KAAKu2C,EAAWl/C,OAAOshD,EAAQC,EAAQtgD,KAE/E4hD,EAAgBviD,UAAUkjD,WAAa,SAAUl0C,EAAKrO,GAClDwB,KAAK6gD,uBACL7gD,KAAKugD,eAAexyB,gBAAgB7nB,KAAKw2C,EAAWn/C,OAAOsP,EAAKrO,KAEpE4hD,EAAgBviD,UAAUgjD,qBAAuB,WAC7C,IAAK7gD,KAAKugD,iBAAmBvgD,KAAKugD,eAAexyB,gBAC7C,MAAM,IAAIxiB,MAAM,2DAGjB60C,EAhGyB,IAwGpC,SAAWnB,GAQPA,EAAuB1hD,OAHvB,SAAgBsP,GACZ,MAAO,CAAEA,IAAKA,IAUlBoyC,EAAuBh7C,GAJvB,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGo4C,QAAQ7zC,IAAcvE,GAAGgM,OAAOzH,EAAUuD,MAd5D,CAiBGoyC,IAA2BA,EAAyB,KAMvD,SAAWP,GASPA,EAAgCnhD,OAHhC,SAAgBsP,EAAK+b,GACjB,MAAO,CAAE/b,IAAKA,EAAK+b,QAASA,IAUhC81B,EAAgCz6C,GAJhC,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGo4C,QAAQ7zC,IAAcvE,GAAGgM,OAAOzH,EAAUuD,OAA+B,OAAtBvD,EAAUsf,SAAoB7jB,GAAG0kB,OAAOngB,EAAUsf,WAfvH,CAkBG81B,IAAoCA,EAAkC,KAMzE,SAAWQ,GAWPA,EAAiB3hD,OAHjB,SAAgBsP,EAAKm0C,EAAYp4B,EAASq4B,GACtC,MAAO,CAAEp0C,IAAKA,EAAKm0C,WAAYA,EAAYp4B,QAASA,EAASq4B,KAAMA,IAUvE/B,EAAiBj7C,GAJjB,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGo4C,QAAQ7zC,IAAcvE,GAAGgM,OAAOzH,EAAUuD,MAAQ9H,GAAGgM,OAAOzH,EAAU03C,aAAej8C,GAAG0kB,OAAOngB,EAAUsf,UAAY7jB,GAAGgM,OAAOzH,EAAU23C,OAjB3J,CAoBG/B,IAAqBA,EAAmB,KAS3C,SAAWvrC,GAIPA,EAAWE,UAAY,YAIvBF,EAAWC,SAAW,WAR1B,CASGD,IAAeA,EAAa,KAC/B,SAAWA,GAQPA,EAAW1P,GAJX,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,IAAcqK,EAAWE,WAAavK,IAAcqK,EAAWC,UAN9E,CASGD,IAAeA,EAAa,KAE/B,SAAWwrC,GAQPA,EAAcl7C,GAJd,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAG+3C,cAAc5/C,IAAUyW,EAAW1P,GAAGqF,EAAU8H,OAASrM,GAAGgM,OAAOzH,EAAUpM,QAN/F,CASGiiD,IAAkBA,EAAgB,KAKrC,SAAW52C,GACPA,EAAmBC,KAAO,EAC1BD,EAAmBrB,OAAS,EAC5BqB,EAAmBf,SAAW,EAC9Be,EAAmBlB,YAAc,EACjCkB,EAAmBnB,MAAQ,EAC3BmB,EAAmBd,SAAW,EAC9Bc,EAAmBtB,MAAQ,EAC3BsB,EAAmBhB,UAAY,EAC/BgB,EAAmBzB,OAAS,EAC5ByB,EAAmBpB,SAAW,GAC9BoB,EAAmBE,KAAO,GAC1BF,EAAmBG,MAAQ,GAC3BH,EAAmBjB,KAAO,GAC1BiB,EAAmBI,QAAU,GAC7BJ,EAAmBK,QAAU,GAC7BL,EAAmBM,MAAQ,GAC3BN,EAAmB1B,KAAO,GAC1B0B,EAAmBO,UAAY,GAC/BP,EAAmBQ,OAAS,GAC5BR,EAAmBN,WAAa,GAChCM,EAAmBb,SAAW,GAC9Ba,EAAmBL,OAAS,GAC5BK,EAAmBJ,MAAQ,GAC3BI,EAAmBH,SAAW,GAC9BG,EAAmBF,cAAgB,GAzBvC,CA0BGE,IAAuBA,EAAqB,KAM/C,SAAW62C,GAIPA,EAAiBvrC,UAAY,EAW7BurC,EAAiBx2C,QAAU,EAf/B,CAgBGw2C,IAAqBA,EAAmB,KAQ3C,SAAWlrC,GAIPA,EAAkBhL,WAAa,EAJnC,CAKGgL,IAAsBA,EAAoB,KAO7C,SAAWmrC,GAOPA,EAAkB9hD,OAHlB,SAAgBghD,EAASC,EAAQxX,GAC7B,MAAO,CAAEuX,QAASA,EAASC,OAAQA,EAAQxX,QAASA,IAUxDqY,EAAkBp7C,GAJlB,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,GAAavE,GAAGgM,OAAOzH,EAAUi1C,UAAYpgC,EAAMla,GAAGqF,EAAUk1C,SAAWrgC,EAAMla,GAAGqF,EAAU09B,UAb7G,CAgBGqY,IAAsBA,EAAoB,KAM7C,SAAWxgB,GAQPA,EAAethC,OAHf,SAAgBuhC,GACZ,MAAO,CAAEA,MAAOA,IANxB,CASGD,IAAmBA,EAAiB,KAMvC,SAAWygB,GAUPA,EAAe/hD,OAHf,SAAgBmhC,EAAOwiB,GACnB,MAAO,CAAExiB,MAAOA,GAAgB,GAAIwiB,eAAgBA,IAR5D,CAWG5B,IAAmBA,EAAiB,KAEvC,SAAWC,GASPA,EAAa4B,cAHb,SAAuBC,GACnB,OAAOA,EAAUpa,QAAQ,wBAAyB,SAUtDuY,EAAat7C,GAJb,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGgM,OAAOzH,IAAevE,GAAG+3C,cAAcxzC,IAAcvE,GAAGgM,OAAOzH,EAAU+3C,WAAat8C,GAAGgM,OAAOzH,EAAUpM,QAf5H,CAkBGqiD,IAAiBA,EAAe,KAEnC,SAAWC,GAUPA,EAAMv7C,GANN,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,QAASoM,GAAavE,GAAG+3C,cAAcxzC,KAAe61C,EAAcl7C,GAAGqF,EAAUg4C,WAC7E/B,EAAat7C,GAAGqF,EAAUg4C,WAC1Bv8C,GAAG+qB,WAAWxmB,EAAUg4C,SAAU/B,EAAat7C,YAAyB,IAAhB/G,EAAM2d,OAAoBsD,EAAMla,GAAG/G,EAAM2d,SAR7G,CAWG2kC,IAAUA,EAAQ,KAMrB,SAAWC,GAUPA,EAAqBliD,OAHrB,SAAgBuhC,EAAOyiB,GACnB,OAAOA,EAAgB,CAAEziB,MAAOA,EAAOyiB,cAAeA,GAAkB,CAAEziB,MAAOA,IARzF,CAWG2gB,IAAyBA,EAAuB,KAMnD,SAAWC,GAkBPA,EAAqBniD,OAjBrB,SAAgBuhC,EAAOyiB,GAEnB,IADA,IAAIC,EAAa,GACRlD,EAAK,EAAGA,EAAKn9B,UAAU9a,OAAQi4C,IACpCkD,EAAWlD,EAAK,GAAKn9B,UAAUm9B,GAEnC,IAAIllC,EAAS,CAAE0lB,MAAOA,GAUtB,OATI/5B,GAAGo4C,QAAQoE,KACXnoC,EAAOmoC,cAAgBA,GAEvBx8C,GAAGo4C,QAAQqE,GACXpoC,EAAOooC,WAAaA,EAGpBpoC,EAAOooC,WAAa,GAEjBpoC,GAhBf,CAmBGsmC,IAAyBA,EAAuB,KAKnD,SAAWC,GAIPA,EAAsBn3C,KAAO,EAI7Bm3C,EAAsB8B,KAAO,EAI7B9B,EAAsB+B,MAAQ,EAZlC,CAaG/B,IAA0BA,EAAwB,KAMrD,SAAWC,GAYPA,EAAkBriD,OAPlB,SAAgBsd,EAAOzJ,GACnB,IAAIgI,EAAS,CAAEyB,MAAOA,GAItB,OAHI9V,GAAG0kB,OAAOrY,KACVgI,EAAOhI,KAAOA,GAEXgI,GAVf,CAaGwmC,IAAsBA,EAAoB,KAK7C,SAAWh5C,GACPA,EAAWC,KAAO,EAClBD,EAAWE,OAAS,EACpBF,EAAWG,UAAY,EACvBH,EAAWI,QAAU,EACrBJ,EAAWK,MAAQ,EACnBL,EAAWM,OAAS,EACpBN,EAAWO,SAAW,EACtBP,EAAWQ,MAAQ,EACnBR,EAAWS,YAAc,EACzBT,EAAWU,KAAO,GAClBV,EAAWW,UAAY,GACvBX,EAAWY,SAAW,GACtBZ,EAAWa,SAAW,GACtBb,EAAWc,SAAW,GACtBd,EAAWe,OAAS,GACpBf,EAAWgB,OAAS,GACpBhB,EAAWiB,QAAU,GACrBjB,EAAWkB,MAAQ,GACnBlB,EAAWjK,OAAS,GACpBiK,EAAWmB,IAAM,GACjBnB,EAAWoB,KAAO,GAClBpB,EAAWqB,WAAa,GACxBrB,EAAWsB,OAAS,GACpBtB,EAAWuB,MAAQ,GACnBvB,EAAWwB,SAAW,GACtBxB,EAAWyB,cAAgB,GA1B/B,CA2BGzB,IAAeA,EAAa,KAM/B,SAAWqC,GAIPA,EAAUC,WAAa,EAJ3B,CAKGD,IAAcA,EAAY,KAE7B,SAAW42C,GAqBPA,EAAkBtiD,OAXlB,SAAgBf,EAAM4U,EAAMyJ,EAAOhO,EAAK80C,GACpC,IAAIvoC,EAAS,CACT5c,KAAMA,EACN4U,KAAMA,EACNovB,SAAU,CAAE3zB,IAAKA,EAAKgO,MAAOA,IAKjC,OAHI8mC,IACAvoC,EAAOuoC,cAAgBA,GAEpBvoC,GAnBf,CAsBGymC,IAAsBA,EAAoB,KAE7C,SAAW9mC,GAwBPA,EAAexb,OAbf,SAAgBf,EAAMolD,EAAQxwC,EAAMyJ,EAAOgnC,EAAgB7e,GACvD,IAAI5pB,EAAS,CACT5c,KAAMA,EACNolD,OAAQA,EACRxwC,KAAMA,EACNyJ,MAAOA,EACPgnC,eAAgBA,GAKpB,YAHiB,IAAb7e,IACA5pB,EAAO4pB,SAAWA,GAEf5pB,GAgBXL,EAAe9U,GAVf,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,GACHvE,GAAGgM,OAAOzH,EAAU9M,OAASuI,GAAG0kB,OAAOngB,EAAU8H,OACjD+M,EAAMla,GAAGqF,EAAUuR,QAAUsD,EAAMla,GAAGqF,EAAUu4C,uBAC1B,IAArBv4C,EAAUs4C,QAAqB78C,GAAGgM,OAAOzH,EAAUs4C,gBAC1B,IAAzBt4C,EAAUw4C,YAAyB/8C,GAAGiO,QAAQ1J,EAAUw4C,oBACjC,IAAvBx4C,EAAU05B,UAAuBl7B,MAAM6I,QAAQrH,EAAU05B,kBACtC,IAAnB15B,EAAUy4C,MAAmBj6C,MAAM6I,QAAQrH,EAAUy4C,QApClE,CAuCGhpC,IAAmBA,EAAiB,KAKvC,SAAWmB,GAIPA,EAAeC,MAAQ,GAIvBD,EAAeE,SAAW,WAI1BF,EAAeG,SAAW,WAY1BH,EAAeI,gBAAkB,mBAWjCJ,EAAeK,eAAiB,kBAahCL,EAAeM,gBAAkB,mBAMjCN,EAAeO,OAAS,SAIxBP,EAAeQ,sBAAwB,yBASvCR,EAAe8nC,aAAe,gBAnElC,CAoEG9nC,IAAmBA,EAAiB,KAMvC,SAAW4lC,GAWPA,EAAkBviD,OAPlB,SAAgB0tB,EAAag3B,GACzB,IAAI7oC,EAAS,CAAE6R,YAAaA,GAI5B,OAHIg3B,UACA7oC,EAAO6oC,KAAOA,GAEX7oC,GAUX0mC,EAAkB77C,GAJlB,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGo4C,QAAQ7zC,IAAcvE,GAAG+qB,WAAWxmB,EAAU2hB,YAAaqxB,EAAWr4C,WAA2B,IAAnBqF,EAAU24C,MAAmBl9C,GAAG+qB,WAAWxmB,EAAU24C,KAAMl9C,GAAGgM,UAjB9J,CAoBG+uC,IAAsBA,EAAoB,KAE7C,SAAWC,GAcPA,EAAWxiD,OAbX,SAAgBitB,EAAO03B,EAAe9wC,GAClC,IAAIgI,EAAS,CAAEoR,MAAOA,GAUtB,OATItP,EAAQjX,GAAGi+C,GACX9oC,EAAO6H,QAAUihC,EAGjB9oC,EAAO2V,KAAOmzB,OAEL,IAAT9wC,IACAgI,EAAOhI,KAAOA,GAEXgI,GAaX2mC,EAAW97C,GAVX,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,GAAavE,GAAGgM,OAAOzH,EAAUkhB,cACT,IAA1BlhB,EAAU2hB,aAA0BlmB,GAAG+qB,WAAWxmB,EAAU2hB,YAAaqxB,EAAWr4C,YACjE,IAAnBqF,EAAU8H,MAAmBrM,GAAGgM,OAAOzH,EAAU8H,cAC9B,IAAnB9H,EAAUylB,WAAyC,IAAtBzlB,EAAU2X,gBACjB,IAAtB3X,EAAU2X,SAAsB/F,EAAQjX,GAAGqF,EAAU2X,iBAC3B,IAA1B3X,EAAU64C,aAA0Bp9C,GAAGiO,QAAQ1J,EAAU64C,qBACtC,IAAnB74C,EAAUylB,MAAmB4tB,EAAc14C,GAAGqF,EAAUylB,QAvBrE,CA0BGgxB,IAAeA,EAAa,KAM/B,SAAW/gB,GAWPA,EAASzhC,OAPT,SAAgBsd,EAAOpQ,GACnB,IAAI2O,EAAS,CAAEyB,MAAOA,GAItB,OAHI9V,GAAGo4C,QAAQ1yC,KACX2O,EAAO3O,KAAOA,GAEX2O,GAUX4lB,EAAS/6B,GAJT,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGo4C,QAAQ7zC,IAAc6U,EAAMla,GAAGqF,EAAUuR,SAAW9V,GAAGjE,UAAUwI,EAAU2X,UAAY/F,EAAQjX,GAAGqF,EAAU2X,WAjB9H,CAoBG+d,IAAaA,EAAW,KAM3B,SAAWghB,GAOPA,EAAkBziD,OAHlB,SAAgB6kD,EAASC,GACrB,MAAO,CAAED,QAASA,EAASC,aAAcA,IAU7CrC,EAAkB/7C,GAJlB,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGo4C,QAAQ7zC,IAAcvE,GAAG0kB,OAAOngB,EAAU84C,UAAYr9C,GAAGiO,QAAQ1J,EAAU+4C,eAb7F,CAgBGrC,IAAsBA,EAAoB,KAM7C,SAAW9gB,GAOPA,EAAa3hC,OAHb,SAAgBsd,EAAOzR,EAAQqB,GAC3B,MAAO,CAAEoQ,MAAOA,EAAOzR,OAAQA,EAAQqB,KAAMA,IAUjDy0B,EAAaj7B,GAJb,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAO6H,GAAGo4C,QAAQ7zC,IAAc6U,EAAMla,GAAGqF,EAAUuR,SAAW9V,GAAGjE,UAAUwI,EAAUF,SAAWrE,GAAGgM,OAAOzH,EAAUF,UAb5H,CAgBG81B,IAAiBA,EAAe,KAMnC,SAAW+gB,GASPA,EAAe1iD,OAHf,SAAgBsd,EAAOynC,GACnB,MAAO,CAAEznC,MAAOA,EAAOynC,OAAQA,IAOnCrC,EAAeh8C,GAJf,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,YAAqB4D,IAAdwI,GAA2B6U,EAAMla,GAAGqF,EAAUuR,cAAgC/Z,IAArBwI,EAAUg5C,QAAwBrC,EAAeh8C,GAAGqF,EAAUg5C,UAZtI,CAeGrC,IAAmBA,EAAiB,KAChC,IAIIsC,GAJAC,GAAM,CAAC,KAAM,OAAQ,OAKhC,SAAWD,GAUPA,EAAahlD,OAHb,SAAgBsP,EAAKm0C,EAAYp4B,EAAS65B,GACtC,OAAO,IAAIC,GAAiB71C,EAAKm0C,EAAYp4B,EAAS65B,IAW1DF,EAAat+C,GALb,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,SAAO6H,GAAGo4C,QAAQ7zC,IAAcvE,GAAGgM,OAAOzH,EAAUuD,OAAS9H,GAAGjE,UAAUwI,EAAU03C,aAAej8C,GAAGgM,OAAOzH,EAAU03C,cAAgBj8C,GAAG0kB,OAAOngB,EAAUq5C,YACpJ59C,GAAGwE,KAAKD,EAAUs5C,UAAY79C,GAAGwE,KAAKD,EAAUu5C,aAAe99C,GAAGwE,KAAKD,EAAUw5C,YA2B5FP,EAAaQ,WAxBb,SAAoBz3C,EAAUgE,GAU1B,IATA,IAAI2xC,EAAO31C,EAASs3C,UAChBI,EAuBR,SAASC,EAAUx4C,EAAMw8B,GACrB,GAAIx8B,EAAKpE,QAAU,EAEf,OAAOoE,EAEX,IAAI1M,EAAK0M,EAAKpE,OAAS,EAAK,EACxB68C,EAAOz4C,EAAKumB,MAAM,EAAGjzB,GACrBolD,EAAQ14C,EAAKumB,MAAMjzB,GACvBklD,EAAUC,EAAMjc,GAChBgc,EAAUE,EAAOlc,GACjB,IAAImc,EAAU,EACVC,EAAW,EACXpnD,EAAI,EACR,KAAOmnD,EAAUF,EAAK78C,QAAUg9C,EAAWF,EAAM98C,QAAQ,CACrD,IAAIyqB,EAAMmW,EAAQic,EAAKE,GAAUD,EAAME,IAGnC54C,EAAKxO,KAFL60B,GAAO,EAEKoyB,EAAKE,KAILD,EAAME,KAG1B,KAAOD,EAAUF,EAAK78C,QAClBoE,EAAKxO,KAAOinD,EAAKE,KAErB,KAAOC,EAAWF,EAAM98C,QACpBoE,EAAKxO,KAAOknD,EAAME,KAEtB,OAAO54C,EArDWw4C,CAAU3zC,GAAO,SAAU+3B,EAAGC,GAC5C,IAAIM,EAAOP,EAAExsB,MAAMoS,MAAM2vB,KAAOtV,EAAEzsB,MAAMoS,MAAM2vB,KAC9C,OAAa,IAAThV,EACOP,EAAExsB,MAAMoS,MAAM4vB,UAAYvV,EAAEzsB,MAAMoS,MAAM4vB,UAE5CjV,KAEP0b,EAAqBrC,EAAK56C,OACrBpK,EAAI+mD,EAAY38C,OAAS,EAAGpK,GAAK,EAAGA,IAAK,CAC9C,IAAIk1B,EAAI6xB,EAAY/mD,GAChBsnD,EAAcj4C,EAASw3C,SAAS3xB,EAAEtW,MAAMoS,OACxCu2B,EAAYl4C,EAASw3C,SAAS3xB,EAAEtW,MAAM/W,KAC1C,KAAI0/C,GAAaF,GAIb,MAAM,IAAI/3C,MAAM,oBAHhB01C,EAAOA,EAAKwC,UAAU,EAAGF,GAAepyB,EAAEotB,QAAU0C,EAAKwC,UAAUD,EAAWvC,EAAK56C,QAKvFi9C,EAAqBC,EAEzB,OAAOtC,GA1Cf,CA6EGsB,KAAiBA,GAAe,KACnC,IA2GIx9C,GA3GA29C,GAAkC,WAClC,SAASA,EAAiB71C,EAAKm0C,EAAYp4B,EAAS65B,GAChDziD,KAAK0jD,KAAO72C,EACZ7M,KAAK2jD,YAAc3C,EACnBhhD,KAAK4jD,SAAWh7B,EAChB5oB,KAAK6jD,SAAWpB,EAChBziD,KAAK8jD,kBAAehjD,EAmGxB,OAjGAnE,OAAOC,eAAe8lD,EAAiB7kD,UAAW,MAAO,CACrDf,IAAK,WACD,OAAOkD,KAAK0jD,MAEhB7mD,YAAY,EACZ4jD,cAAc,IAElB9jD,OAAOC,eAAe8lD,EAAiB7kD,UAAW,aAAc,CAC5Df,IAAK,WACD,OAAOkD,KAAK2jD,aAEhB9mD,YAAY,EACZ4jD,cAAc,IAElB9jD,OAAOC,eAAe8lD,EAAiB7kD,UAAW,UAAW,CACzDf,IAAK,WACD,OAAOkD,KAAK4jD,UAEhB/mD,YAAY,EACZ4jD,cAAc,IAElBiC,EAAiB7kD,UAAU+kD,QAAU,SAAU/nC,GAC3C,GAAIA,EAAO,CACP,IAAIoS,EAAQjtB,KAAK8iD,SAASjoC,EAAMoS,OAC5BnpB,EAAM9D,KAAK8iD,SAASjoC,EAAM/W,KAC9B,OAAO9D,KAAK6jD,SAASJ,UAAUx2B,EAAOnpB,GAE1C,OAAO9D,KAAK6jD,UAEhBnB,EAAiB7kD,UAAUkmD,OAAS,SAAUj2C,EAAO8a,GACjD5oB,KAAK6jD,SAAW/1C,EAAMmzC,KACtBjhD,KAAK4jD,SAAWh7B,EAChB5oB,KAAK8jD,kBAAehjD,GAExB4hD,EAAiB7kD,UAAUmmD,eAAiB,WACxC,QAA0BljD,IAAtBd,KAAK8jD,aAA4B,CAIjC,IAHA,IAAIG,EAAc,GACdhD,EAAOjhD,KAAK6jD,SACZK,GAAc,EACTjoD,EAAI,EAAGA,EAAIglD,EAAK56C,OAAQpK,IAAK,CAC9BioD,IACAD,EAAY/9C,KAAKjK,GACjBioD,GAAc,GAElB,IAAI/mC,EAAK8jC,EAAKkD,OAAOloD,GACrBioD,EAAsB,OAAP/mC,GAAsB,OAAPA,EACnB,OAAPA,GAAelhB,EAAI,EAAIglD,EAAK56C,QAAiC,OAAvB46C,EAAKkD,OAAOloD,EAAI,IACtDA,IAGJioD,GAAejD,EAAK56C,OAAS,GAC7B49C,EAAY/9C,KAAK+6C,EAAK56C,QAE1BrG,KAAK8jD,aAAeG,EAExB,OAAOjkD,KAAK8jD,cAEhBpB,EAAiB7kD,UAAUglD,WAAa,SAAUuB,GAC9CA,EAAStkB,KAAKwB,IAAIxB,KAAKyB,IAAI6iB,EAAQpkD,KAAK6jD,SAASx9C,QAAS,GAC1D,IAAI49C,EAAcjkD,KAAKgkD,iBACnBrY,EAAM,EAAGD,EAAOuY,EAAY59C,OAChC,GAAa,IAATqlC,EACA,OAAOkQ,EAASr+C,OAAO,EAAG6mD,GAE9B,KAAOzY,EAAMD,GAAM,CACf,IAAI2Y,EAAMvkB,KAAKC,OAAO4L,EAAMD,GAAQ,GAChCuY,EAAYI,GAAOD,EACnB1Y,EAAO2Y,EAGP1Y,EAAM0Y,EAAM,EAKpB,IAAIzH,EAAOjR,EAAM,EACjB,OAAOiQ,EAASr+C,OAAOq/C,EAAMwH,EAASH,EAAYrH,KAEtD8F,EAAiB7kD,UAAUilD,SAAW,SAAUruC,GAC5C,IAAIwvC,EAAcjkD,KAAKgkD,iBACvB,GAAIvvC,EAASmoC,MAAQqH,EAAY59C,OAC7B,OAAOrG,KAAK6jD,SAASx9C,OAEpB,GAAIoO,EAASmoC,KAAO,EACrB,OAAO,EAEX,IAAI0H,EAAaL,EAAYxvC,EAASmoC,MAClC2H,EAAkB9vC,EAASmoC,KAAO,EAAIqH,EAAY59C,OAAU49C,EAAYxvC,EAASmoC,KAAO,GAAK58C,KAAK6jD,SAASx9C,OAC/G,OAAOy5B,KAAKwB,IAAIxB,KAAKyB,IAAI+iB,EAAa7vC,EAASooC,UAAW0H,GAAiBD,IAE/E3nD,OAAOC,eAAe8lD,EAAiB7kD,UAAW,YAAa,CAC3Df,IAAK,WACD,OAAOkD,KAAKgkD,iBAAiB39C,QAEjCxJ,YAAY,EACZ4jD,cAAc,IAEXiC,EAzG0B,IA4GrC,SAAW39C,GACP,IAAI1C,EAAW1F,OAAOkB,UAAUwE,SAIhC0C,EAAGo4C,QAHH,SAAiBjgD,GACb,YAAwB,IAAVA,GAMlB6H,EAAGjE,UAHH,SAAmB5D,GACf,YAAwB,IAAVA,GAMlB6H,EAAGiO,QAHH,SAAiB9V,GACb,OAAiB,IAAVA,IAA4B,IAAVA,GAM7B6H,EAAGgM,OAHH,SAAgB7T,GACZ,MAAgC,oBAAzBmF,EAASjG,KAAKc,IAMzB6H,EAAG0kB,OAHH,SAAgBvsB,GACZ,MAAgC,oBAAzBmF,EAASjG,KAAKc,IAMzB6H,EAAGwE,KAHH,SAAcrM,GACV,MAAgC,sBAAzBmF,EAASjG,KAAKc,IASzB6H,EAAG+3C,cANH,SAAuB5/C,GAInB,OAAiB,OAAVA,GAAmC,iBAAVA,GAMpC6H,EAAG+qB,WAHH,SAAoB5yB,EAAOgzB,GACvB,OAAOpoB,MAAM6I,QAAQzT,IAAUA,EAAM8yB,MAAME,IAlCnD,CAqCGnrB,KAAOA,GAAK,M,6BC5hDfpI,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAM6H,EAAK,EAAQ,IACbrG,EAAmB,EAAQ,GAC3B27B,EAAa,EAAQ,GACrBmqB,EAA4B,EAAQ,IAC1CzoD,EAAQ0oD,sBAAwBD,EAA0BC,sBAC1D,MAAMC,EAA4B,EAAQ,IAC1C3oD,EAAQ4oD,sBAAwBD,EAA0BC,sBAC1D,MAAMC,EAA8B,EAAQ,IAC5C7oD,EAAQ8oD,wBAA0BD,EAA4BC,wBAC9D9oD,EAAQ+oD,sCAAwCF,EAA4BE,sCAC5E,MAAMC,EAA2B,EAAQ,IACzChpD,EAAQ0iC,qBAAuBsmB,EAAyBtmB,qBACxD,MAAMumB,EAA2B,EAAQ,IACzCjpD,EAAQkpD,qBAAuBD,EAAyBC,qBACxDlpD,EAAQmpD,yBAA2BF,EAAyBE,yBAC5D,MAAMC,EAA0B,EAAQ,IACxCppD,EAAQqpD,oBAAsBD,EAAwBC,oBACtD,MAAMC,EAAyB,EAAQ,IACvCtpD,EAAQupD,mBAAqBD,EAAuBC,mBACpD,MAAMC,EAA4B,EAAQ,IAC1CxpD,EAAQypD,sBAAwBD,EAA0BC,sBAC1D,MAAMC,EAAsB,EAAQ,IACpC1pD,EAAQskC,iBAAmBolB,EAAoBplB,iBAC/CtkC,EAAQ2pD,8BAAgCD,EAAoBC,8BAC5D3pD,EAAQslC,mCAAqCokB,EAAoBpkB,mCACjE,MAAMskB,EAA2B,EAAQ,IAUzC,IAAIC,EAYAC,EArBJ9pD,EAAQ+pD,kCAAoCH,EAAyBG,kCACrE/pD,EAAQgqD,kCAAoCJ,EAAyBI,kCACrEhqD,EAAQiqD,4BAA8BL,EAAyBK,4BAQ/D,SAAWJ,GAKPA,EAAe3hD,GAJf,SAAY/G,GACR,MAAMoM,EAAYpM,EAClB,OAAO6H,EAAGgM,OAAOzH,EAAU+3C,WAAat8C,EAAGgM,OAAOzH,EAAUqhB,SAAW5lB,EAAGgM,OAAOzH,EAAU28C,UAHnG,CAMGL,EAAiB7pD,EAAQ6pD,iBAAmB7pD,EAAQ6pD,eAAiB,KAMxE,SAAWC,GAYPA,EAAiB5hD,GAXjB,SAAY/G,GACR,IAAK4K,MAAM6I,QAAQzT,GACf,OAAO,EAEX,IAAK,IAAI+yB,KAAQ/yB,EACb,IAAK6H,EAAGgM,OAAOkf,KAAU21B,EAAe3hD,GAAGgsB,GACvC,OAAO,EAGf,OAAO,GAVf,CAaG41B,EAAmB9pD,EAAQ8pD,mBAAqB9pD,EAAQ8pD,iBAAmB,KAM9E,SAAWh8B,GACPA,EAAoB/d,KAAO,IAAIuuB,EAAWt7B,oBAAoB,6BADlE,CAEyBhD,EAAQ8tB,sBAAwB9tB,EAAQ8tB,oBAAsB,KAMvF,SAAWE,GACPA,EAAsBje,KAAO,IAAIuuB,EAAWt7B,oBAAoB,+BADpE,CAE2BhD,EAAQguB,wBAA0BhuB,EAAQguB,sBAAwB,KAE7F,SAAWkE,GAIPA,EAAsB3c,OAAS,SAI/B2c,EAAsBC,OAAS,SAI/BD,EAAsBzc,OAAS,SAZnC,CAa2BzV,EAAQkyB,wBAA0BlyB,EAAQkyB,sBAAwB,KAE7F,SAAWG,GAKPA,EAAoB83B,MAAQ,QAK5B93B,EAAoB+3B,cAAgB,gBAMpC/3B,EAAoBC,sBAAwB,wBAK5CD,EAAoBg4B,KAAO,OArB/B,CAsByBrqD,EAAQqyB,sBAAwBryB,EAAQqyB,oBAAsB,KAMvF,SAAWtb,GAKPA,EAA0BC,MAJ1B,SAAe7V,GACX,MAAMoM,EAAYpM,EAClB,OAAOoM,GAAavE,EAAGgM,OAAOzH,EAAUwB,KAAOxB,EAAUwB,GAAGzE,OAAS,GAH7E,CAM+BtK,EAAQ+W,4BAA8B/W,EAAQ+W,0BAA4B,KAMzG,SAAWD,GAKPA,EAAgC5O,GAJhC,SAAY/G,GACR,MAAMoM,EAAYpM,EAClB,OAAOoM,IAA6C,OAA/BA,EAAUqB,kBAA6Bk7C,EAAiB5hD,GAAGqF,EAAUqB,oBAHlG,CAMqC5O,EAAQ8W,kCAAoC9W,EAAQ8W,gCAAkC,KAM3H,SAAWI,GAKPA,EAAwBhP,GAJxB,SAAY/G,GACR,MAAMoM,EAAYpM,EAClB,OAAO6H,EAAG+3C,cAAcxzC,UAA8CxI,IAA/BwI,EAAUiQ,kBAAkCxU,EAAGiO,QAAQ1J,EAAUiQ,oBAO5GtG,EAAwBozC,oBAJxB,SAA6BnpD,GACzB,MAAMoM,EAAYpM,EAClB,OAAOoM,GAAavE,EAAGiO,QAAQ1J,EAAUiQ,mBARjD,CAW6Bxd,EAAQkX,0BAA4BlX,EAAQkX,wBAA0B,KASnG,SAAWmZ,GACPA,EAAkBtgB,KAAO,IAAIuuB,EAAWt7B,oBAAoB,cADhE,CAEuBhD,EAAQqwB,oBAAsBrwB,EAAQqwB,kBAAoB,KAKjF,SAAWk6B,GAMPA,EAAgBC,uBAAyB,EAN7C,CAOqBxqD,EAAQuqD,kBAAoBvqD,EAAQuqD,gBAAkB,KAO3E,SAAWn8B,GACPA,EAAwBre,KAAO,IAAIuuB,EAAWp7B,yBAAyB,eAD3E,CAE6BlD,EAAQouB,0BAA4BpuB,EAAQouB,wBAA0B,KASnG,SAAWkC,GACPA,EAAgBvgB,KAAO,IAAIuuB,EAAW17B,qBAAqB,YAD/D,CAEqB5C,EAAQswB,kBAAoBtwB,EAAQswB,gBAAkB,KAO3E,SAAWC,GACPA,EAAiBxgB,KAAO,IAAIuuB,EAAWl7B,0BAA0B,QADrE,CAEsBpD,EAAQuwB,mBAAqBvwB,EAAQuwB,iBAAmB,KAO9E,SAAWjN,GACPA,EAAmCvT,KAAO,IAAIuuB,EAAWp7B,yBAAyB,oCADtF,CAEwClD,EAAQsjB,qCAAuCtjB,EAAQsjB,mCAAqC,KAMpI,SAAWmI,GAIPA,EAAYjc,MAAQ,EAIpBic,EAAYC,QAAU,EAItBD,EAAYb,KAAO,EAInBa,EAAYg/B,IAAM,EAhBtB,CAiBiBzqD,EAAQyrB,cAAgBzrB,EAAQyrB,YAAc,KAM/D,SAAWgF,GACPA,EAAwB1gB,KAAO,IAAIuuB,EAAWp7B,yBAAyB,sBAD3E,CAE6BlD,EAAQywB,0BAA4BzwB,EAAQywB,wBAA0B,KAMnG,SAAW5E,GACPA,EAAmB9b,KAAO,IAAIuuB,EAAWt7B,oBAAoB,6BADjE,CAEwBhD,EAAQ6rB,qBAAuB7rB,EAAQ6rB,mBAAqB,KAMpF,SAAW2E,GACPA,EAAuBzgB,KAAO,IAAIuuB,EAAWp7B,yBAAyB,qBAD1E,CAE4BlD,EAAQwwB,yBAA2BxwB,EAAQwwB,uBAAyB,KAOhG,SAAWE,GACPA,EAA2B3gB,KAAO,IAAIuuB,EAAWp7B,yBAAyB,mBAD9E,CAEgClD,EAAQ0wB,6BAA+B1wB,EAAQ0wB,2BAA6B,KAM5G,SAAWhf,GAIPA,EAAqBC,KAAO,EAK5BD,EAAqBY,KAAO,EAM5BZ,EAAqBQ,YAAc,EAfvC,CAgB0BlS,EAAQ0R,uBAAyB1R,EAAQ0R,qBAAuB,KAY1F,SAAW5B,GACPA,EAAgChN,OAAS,uBACzCgN,EAAgCC,KAAO,IAAIuuB,EAAWp7B,yBAAyB4M,EAAgChN,QAFnH,CAGqC9C,EAAQ8P,kCAAoC9P,EAAQ8P,gCAAkC,KAM3H,SAAW0B,GACPA,EAAkC1O,OAAS,yBAC3C0O,EAAkCzB,KAAO,IAAIuuB,EAAWp7B,yBAAyBsO,EAAkC1O,QAFvH,CAGuC9C,EAAQwR,oCAAsCxR,EAAQwR,kCAAoC,KAWjI,SAAWN,GACPA,EAAiCpO,OAAS,wBAC1CoO,EAAiCnB,KAAO,IAAIuuB,EAAWp7B,yBAAyBgO,EAAiCpO,QAFrH,CAGsC9C,EAAQkR,mCAAqClR,EAAQkR,iCAAmC,KAM9H,SAAW4C,GACPA,EAAgChR,OAAS,uBACzCgR,EAAgC/D,KAAO,IAAIuuB,EAAWp7B,yBAAyB4Q,EAAgChR,QAFnH,CAGqC9C,EAAQ8T,kCAAoC9T,EAAQ8T,gCAAkC,KAK3H,SAAW42C,GAKPA,EAAuBC,OAAS,EAIhCD,EAAuBE,WAAa,EAIpCF,EAAuBG,SAAW,EAbtC,CAc4B7qD,EAAQ0qD,yBAA2B1qD,EAAQ0qD,uBAAyB,KAMhG,SAAW53C,GACPA,EAAiChQ,OAAS,wBAC1CgQ,EAAiC/C,KAAO,IAAIuuB,EAAWp7B,yBAAyB4P,EAAiChQ,QAFrH,CAGsC9C,EAAQ8S,mCAAqC9S,EAAQ8S,iCAAmC,KAU9H,SAAWK,GACPA,EAAqCrQ,OAAS,iCAC9CqQ,EAAqCpD,KAAO,IAAIuuB,EAAWt7B,oBAAoBmQ,EAAqCrQ,QAFxH,CAG0C9C,EAAQmT,uCAAyCnT,EAAQmT,qCAAuC,KAM1I,SAAWqB,GACPA,EAAkCzE,KAAO,IAAIuuB,EAAWp7B,yBAAyB,mCADrF,CAEuClD,EAAQwU,oCAAsCxU,EAAQwU,kCAAoC,KAKjI,SAAW0B,GAIPA,EAAeC,QAAU,EAIzBD,EAAeG,QAAU,EAIzBH,EAAeK,QAAU,EAZ7B,CAaoBvW,EAAQkW,iBAAmBlW,EAAQkW,eAAiB,KAExE,SAAWZ,GAIPA,EAAUC,OAAS,EAInBD,EAAUE,OAAS,EAInBF,EAAUG,OAAS,EAZvB,CAaezV,EAAQsV,YAActV,EAAQsV,UAAY,KAMzD,SAAWyb,GACPA,EAA+BhhB,KAAO,IAAIuuB,EAAWp7B,yBAAyB,mCADlF,CAEoClD,EAAQ+wB,iCAAmC/wB,EAAQ+wB,+BAAiC,KAKxH,SAAW+5B,GAKPA,EAAsBC,QAAU,EAKhCD,EAAsBE,iBAAmB,EAIzCF,EAAsBG,gCAAkC,EAd5D,CAe2BjrD,EAAQ8qD,wBAA0B9qD,EAAQ8qD,sBAAwB,KAa7F,SAAW1zC,GACPA,EAAkBtU,OAAS,0BAC3BsU,EAAkBrH,KAAO,IAAIuuB,EAAWt7B,oBAAoBoU,EAAkBtU,QAE9EsU,EAAkB8zC,WAAa,IAAIvoD,EAAiBu9B,aAJxD,CAKuBlgC,EAAQoX,oBAAsBpX,EAAQoX,kBAAoB,KAOjF,SAAWgC,GACPA,EAAyBtW,OAAS,yBAClCsW,EAAyBrJ,KAAO,IAAIuuB,EAAWt7B,oBAAoBoW,EAAyBtW,QAFhG,CAG8B9C,EAAQoZ,2BAA6BpZ,EAAQoZ,yBAA2B,KAOtG,SAAWI,GACPA,EAAa1W,OAAS,qBACtB0W,EAAazJ,KAAO,IAAIuuB,EAAWt7B,oBAAoBwW,EAAa1W,QAFxE,CAGkB9C,EAAQwZ,eAAiBxZ,EAAQwZ,aAAe,KAOlE,SAAW2xC,GAIPA,EAAyBJ,QAAU,EAInCI,EAAyBH,iBAAmB,EAI5CG,EAAyBC,cAAgB,EAZ7C,CAa8BprD,EAAQmrD,2BAA6BnrD,EAAQmrD,yBAA2B,KAEtG,SAAWlxC,GACPA,EAAqBnX,OAAS,6BAC9BmX,EAAqBlK,KAAO,IAAIuuB,EAAWt7B,oBAAoBiX,EAAqBnX,QAFxF,CAG0B9C,EAAQia,uBAAyBja,EAAQia,qBAAuB,KAS1F,SAAWe,GACPA,EAAkBlY,OAAS,0BAC3BkY,EAAkBjL,KAAO,IAAIuuB,EAAWt7B,oBAAoBgY,EAAkBlY,QAE9EkY,EAAkBkwC,WAAa,IAAIvoD,EAAiBu9B,aAJxD,CAKuBlgC,EAAQgb,oBAAsBhb,EAAQgb,kBAAoB,KAQjF,SAAWQ,GACPA,EAAkB1Y,OAAS,0BAC3B0Y,EAAkBzL,KAAO,IAAIuuB,EAAWt7B,oBAAoBwY,EAAkB1Y,QAE9E0Y,EAAkB0vC,WAAa,IAAIvoD,EAAiBu9B,aAJxD,CAKuBlgC,EAAQwb,oBAAsBxb,EAAQwb,kBAAoB,KAQjF,SAAWQ,GACPA,EAAyBlZ,OAAS,iCAClCkZ,EAAyBjM,KAAO,IAAIuuB,EAAWt7B,oBAAoBgZ,EAAyBlZ,QAE5FkZ,EAAyBkvC,WAAa,IAAIvoD,EAAiBu9B,aAJ/D,CAK8BlgC,EAAQgc,2BAA6Bhc,EAAQgc,yBAA2B,KAQtG,SAAWO,GACPA,EAAsBzZ,OAAS,8BAC/ByZ,EAAsBxM,KAAO,IAAIuuB,EAAWt7B,oBAAoBuZ,EAAsBzZ,QAEtFyZ,EAAsB2uC,WAAa,IAAIvoD,EAAiBu9B,aAJ5D,CAK2BlgC,EAAQuc,wBAA0Bvc,EAAQuc,sBAAwB,KAK7F,SAAWuB,GACPA,EAAkBhb,OAAS,0BAC3Bgb,EAAkB/N,KAAO,IAAIuuB,EAAWt7B,oBAAoB8a,EAAkBhb,QAE9Egb,EAAkBotC,WAAa,IAAIvoD,EAAiBu9B,aAJxD,CAKuBlgC,EAAQ8d,oBAAsB9d,EAAQ8d,kBAAoB,KAQjF,SAAWR,GACPA,EAAuBxa,OAAS,mBAChCwa,EAAuBvN,KAAO,IAAIuuB,EAAWt7B,oBAAoBsa,EAAuBxa,QAExFwa,EAAuB4tC,WAAa,IAAIvoD,EAAiBu9B,aAJ7D,CAK4BlgC,EAAQsd,yBAA2Btd,EAAQsd,uBAAyB,KAKhG,SAAWqC,GACPA,EAAgB5P,KAAO,IAAIuuB,EAAWt7B,oBAAoB,yBAE1D2c,EAAgBurC,WAAa,IAAIvoD,EAAiBu9B,aAHtD,CAIqBlgC,EAAQ2f,kBAAoB3f,EAAQ2f,gBAAkB,KAK3E,SAAWO,GACPA,EAAuBnQ,KAAO,IAAIuuB,EAAWt7B,oBAAoB,oBADrE,CAE4BhD,EAAQkgB,yBAA2BlgB,EAAQkgB,uBAAyB,KAKhG,SAAWsC,GACPA,EAAoB1f,OAAS,4BAC7B0f,EAAoBzS,KAAO,IAAIuuB,EAAWt7B,oBAAoBwf,EAAoB1f,QAElF0f,EAAoB0oC,WAAa,IAAIvoD,EAAiBu9B,aAJ1D,CAKyBlgC,EAAQwiB,sBAAwBxiB,EAAQwiB,oBAAsB,KAOvF,SAAWS,GACPA,EAA2BlT,KAAO,IAAIuuB,EAAWt7B,oBAAoB,wBADzE,CAEgChD,EAAQijB,6BAA+BjjB,EAAQijB,2BAA6B,KAK5G,SAAW3C,GACPA,EAA0Bxd,OAAS,0BACnCwd,EAA0BvQ,KAAO,IAAIuuB,EAAWt7B,oBAAoBsd,EAA0Bxd,QAFlG,CAG+B9C,EAAQsgB,4BAA8BtgB,EAAQsgB,0BAA4B,KAKzG,SAAWM,GACPA,EAA+B9d,OAAS,+BACxC8d,EAA+B7Q,KAAO,IAAIuuB,EAAWt7B,oBAAoB4d,EAA+B9d,QAF5G,CAGoC9C,EAAQ4gB,iCAAmC5gB,EAAQ4gB,+BAAiC,KAKxH,SAAWK,GACPA,EAAgCne,OAAS,gCACzCme,EAAgClR,KAAO,IAAIuuB,EAAWt7B,oBAAoBie,EAAgCne,QAF9G,CAGqC9C,EAAQihB,kCAAoCjhB,EAAQihB,gCAAkC,KAK3H,SAAWS,GACPA,EAAc5e,OAAS,sBACvB4e,EAAc3R,KAAO,IAAIuuB,EAAWt7B,oBAAoB0e,EAAc5e,QAF1E,CAGmB9C,EAAQ0hB,gBAAkB1hB,EAAQ0hB,cAAgB,KAKrE,SAAWS,GACPA,EAAqBrf,OAAS,6BAC9Bqf,EAAqBpS,KAAO,IAAIuuB,EAAWt7B,oBAAoBmf,EAAqBrf,QAFxF,CAG0B9C,EAAQmiB,uBAAyBniB,EAAQmiB,qBAAuB,KAM1F,SAAW4C,GACPA,EAAsBhV,KAAO,IAAIuuB,EAAWt7B,oBAAoB,4BADpE,CAE2BhD,EAAQ+kB,wBAA0B/kB,EAAQ+kB,sBAAwB,KAK7F,SAAWmJ,GACPA,EAA0Bne,KAAO,IAAIuuB,EAAWt7B,oBAAoB,uBADxE,CAE+BhD,EAAQkuB,4BAA8BluB,EAAQkuB,0BAA4B,M,6BCtqBzG,SAASlZ,EAAO7T,GACZ,MAAwB,iBAAVA,GAAsBA,aAAiByK,OAezD,SAAS2lB,EAAMpwB,GACX,OAAO4K,MAAM6I,QAAQzT,GAtBzBP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IAItDnB,EAAQiX,QAHR,SAAiB9V,GACb,OAAiB,IAAVA,IAA4B,IAAVA,GAM7BnB,EAAQgV,OAASA,EAIjBhV,EAAQ0tB,OAHR,SAAgBvsB,GACZ,MAAwB,iBAAVA,GAAsBA,aAAiB0K,QAMzD7L,EAAQoE,MAHR,SAAejD,GACX,OAAOA,aAAiBqO,OAM5BxP,EAAQwN,KAHR,SAAcrM,GACV,MAAwB,mBAAVA,GAMlBnB,EAAQuxB,MAAQA,EAIhBvxB,EAAQg0B,YAHR,SAAqB7yB,GACjB,OAAOowB,EAAMpwB,IAAUA,EAAM8yB,MAAMC,GAAQlf,EAAOkf,KAMtDl0B,EAAQ+zB,WAHR,SAAoB5yB,EAAOgzB,GACvB,OAAOpoB,MAAM6I,QAAQzT,IAAUA,EAAM8yB,MAAME,IAS/Cn0B,EAAQ+gD,cANR,SAAuB5/C,GAInB,OAAiB,OAAVA,GAAmC,iBAAVA,I,6BCrCpCP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMwB,EAAmB,EAAQ,GAC3B27B,EAAa,EAAQ,IAU3B,SAAWoqB,GACPA,EAAsB5lD,OAAS,8BAC/B4lD,EAAsB34C,KAAO,IAAIuuB,EAAWt7B,oBAAoB0lD,EAAsB5lD,QAEtF4lD,EAAsBwC,WAAa,IAAIvoD,EAAiBu9B,aAJ5D,CAK2BlgC,EAAQ0oD,wBAA0B1oD,EAAQ0oD,sBAAwB,M,6BCjB7F9nD,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMwB,EAAmB,EAAQ,GAC3B27B,EAAa,EAAQ,IAU3B,SAAWsqB,GACPA,EAAsB9lD,OAAS,8BAC/B8lD,EAAsB74C,KAAO,IAAIuuB,EAAWt7B,oBAAoB4lD,EAAsB9lD,QAEtF8lD,EAAsBsC,WAAa,IAAIvoD,EAAiBu9B,aAJ5D,CAK2BlgC,EAAQ4oD,wBAA0B5oD,EAAQ4oD,sBAAwB,M,6BCjB7FhoD,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMm9B,EAAa,EAAQ,IAK3B,SAAWwqB,GACPA,EAAwB/4C,KAAO,IAAIuuB,EAAW17B,qBAAqB,8BADvE,CAE6B5C,EAAQ8oD,0BAA4B9oD,EAAQ8oD,wBAA0B,KAMnG,SAAWC,GACPA,EAAsCh5C,KAAO,IAAIuuB,EAAWp7B,yBAAyB,uCADzF,CAE2ClD,EAAQ+oD,wCAA0C/oD,EAAQ+oD,sCAAwC,M,6BChB7InoD,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMm9B,EAAa,EAAQ,IAW3B,SAAWoE,GACPA,EAAqB3yB,KAAO,IAAIuuB,EAAWt7B,oBAAoB,2BADnE,CAE0BhD,EAAQ0iC,uBAAyB1iC,EAAQ0iC,qBAAuB,M,6BCd1F9hC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMwB,EAAmB,EAAQ,GAC3B27B,EAAa,EAAQ,IAQ3B,SAAW4qB,GACPA,EAAqBpmD,OAAS,6BAC9BomD,EAAqBn5C,KAAO,IAAIuuB,EAAWt7B,oBAAoBkmD,EAAqBpmD,QAEpFomD,EAAqBgC,WAAa,IAAIvoD,EAAiBu9B,aAJ3D,CAK0BlgC,EAAQkpD,uBAAyBlpD,EAAQkpD,qBAAuB,KAQ1F,SAAWC,GACPA,EAAyBp5C,KAAO,IAAIuuB,EAAWt7B,oBAAoB,kCADvE,CAE8BhD,EAAQmpD,2BAA6BnpD,EAAQmpD,yBAA2B,M,6BCzBtGvoD,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMwB,EAAmB,EAAQ,GAC3B27B,EAAa,EAAQ,IAK3B,SAAW4hB,GAIPA,EAA0B,QAAI,UAI9BA,EAA0B,QAAI,UAI9BA,EAAyB,OAAI,SAZjC,CAasBlgD,EAAQkgD,mBAAqBlgD,EAAQkgD,iBAAmB,KAQ9E,SAAWmJ,GACPA,EAAoBvmD,OAAS,4BAC7BumD,EAAoBt5C,KAAO,IAAIuuB,EAAWt7B,oBAAoBqmD,EAAoBvmD,QAElFumD,EAAoB6B,WAAa,IAAIvoD,EAAiBu9B,aAJ1D,CAKyBlgC,EAAQqpD,sBAAwBrpD,EAAQqpD,oBAAsB,M,6BCjCvFzoD,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMwB,EAAmB,EAAQ,GAC3B27B,EAAa,EAAQ,IAW3B,SAAWirB,GACPA,EAAmBzmD,OAAS,2BAC5BymD,EAAmBx5C,KAAO,IAAIuuB,EAAWt7B,oBAAoBumD,EAAmBzmD,QAEhFymD,EAAmB2B,WAAa,IAAIvoD,EAAiBu9B,aAJzD,CAKwBlgC,EAAQupD,qBAAuBvpD,EAAQupD,mBAAqB,M,6BClBpF3oD,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMwB,EAAmB,EAAQ,GAC3B27B,EAAa,EAAQ,IAQ3B,SAAWmrB,GACPA,EAAsB3mD,OAAS,8BAC/B2mD,EAAsB15C,KAAO,IAAIuuB,EAAWt7B,oBAAoBymD,EAAsB3mD,QAEtF2mD,EAAsByB,WAAa,IAAIvoD,EAAiBu9B,aAJ5D,CAK2BlgC,EAAQypD,wBAA0BzpD,EAAQypD,sBAAwB,M,6BCf7F7oD,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMwB,EAAmB,EAAQ,GAC3B27B,EAAa,EAAQ,IAE3B,SAAWgG,GACPA,EAAiBv0B,KAAO,IAAIpN,EAAiBu9B,aADjD,CAEsBlgC,EAAQskC,mBAAqBtkC,EAAQskC,iBAAmB,KAM9E,SAAWqlB,GACPA,EAA8B55C,KAAO,IAAIuuB,EAAWt7B,oBAAoB,kCAD5E,CAEmChD,EAAQ2pD,gCAAkC3pD,EAAQ2pD,8BAAgC,KAMrH,SAAWrkB,GACPA,EAAmCv1B,KAAO,IAAIuuB,EAAWp7B,yBAAyB,kCADtF,CAEwClD,EAAQslC,qCAAuCtlC,EAAQslC,mCAAqC,M,6BCtBpI1kC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMm9B,EAAa,EAAQ,IAQ3B,SAAW2rB,GACPA,EAA4BnnD,OAAS,oCACrCmnD,EAA4Bl6C,KAAO,IAAIuuB,EAAWt7B,oBAAoBinD,EAA4BnnD,QAFtG,CAGiC9C,EAAQiqD,8BAAgCjqD,EAAQiqD,4BAA8B,KAO/G,SAAWF,GACPA,EAAkCjnD,OAAS,8BAC3CinD,EAAkCh6C,KAAO,IAAIuuB,EAAWt7B,oBAAoB+mD,EAAkCjnD,QAFlH,CAGuC9C,EAAQ+pD,oCAAsC/pD,EAAQ+pD,kCAAoC,KAOjI,SAAWC,GACPA,EAAkClnD,OAAS,8BAC3CknD,EAAkCj6C,KAAO,IAAIuuB,EAAWt7B,oBAAoBgnD,EAAkClnD,QAFlH,CAGuC9C,EAAQgqD,oCAAsChqD,EAAQgqD,kCAAoC,M,6BChCjIppD,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMwB,EAAmB,EAAQ,GAOjC3C,EAAQqC,yBANR,SAAkCC,EAAOC,EAAQC,EAAQC,GAIrD,OAHIE,EAAiBsF,mBAAmBC,GAAGzF,KACvCA,EAAU,CAAE0F,mBAAoB1F,IAE7BE,EAAiBD,wBAAwBJ,EAAOC,EAAQC,EAAQC,K,6BCN3E7B,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMm9B,EAAa,EAAQ,IAS3B,SAAWohB,GACPA,EAA8B,UAAI,YAClCA,EAAyB,KAAI,OAC7BA,EAA0B,MAAI,QAC9BA,EAAyB,KAAI,OAC7BA,EAA8B,UAAI,YAClCA,EAA2B,OAAI,SAC/BA,EAAkC,cAAI,gBACtCA,EAA8B,UAAI,YAClCA,EAA6B,SAAI,WACjCA,EAA6B,SAAI,WACjCA,EAA+B,WAAI,aACnCA,EAA0B,MAAI,QAC9BA,EAA6B,SAAI,WACjCA,EAA2B,OAAI,SAC/BA,EAA0B,MAAI,QAC9BA,EAA4B,QAAI,UAChCA,EAA6B,SAAI,WACjCA,EAA4B,QAAI,UAChCA,EAA2B,OAAI,SAC/BA,EAA2B,OAAI,SAC/BA,EAA2B,OAAI,SAC/BA,EAA6B,SAAI,WAtBrC,CAuBwB1/C,EAAQ0/C,qBAAuB1/C,EAAQ0/C,mBAAqB,KASpF,SAAWC,GACPA,EAAoC,YAAI,cACxCA,EAAmC,WAAI,aACvCA,EAAiC,SAAI,WACrCA,EAA+B,OAAI,SACnCA,EAAmC,WAAI,aACvCA,EAAiC,SAAI,WACrCA,EAA8B,MAAI,QAClCA,EAAqC,aAAI,eACzCA,EAAsC,cAAI,gBAC1CA,EAAuC,eAAI,iBAV/C,CAW4B3/C,EAAQ2/C,yBAA2B3/C,EAAQ2/C,uBAAyB,KAKhG,SAAWC,GAMPA,EAAe13C,GALf,SAAY/G,GACR,MAAMoM,EAAYpM,EAClB,YAAqB4D,IAAdwI,SAAmDxI,IAAvBwI,EAAU89C,UAAwD,iBAAvB99C,EAAU89C,WACpFt/C,MAAM6I,QAAQrH,EAAUmB,QAAoC,IAA1BnB,EAAUmB,KAAKpE,QAA6C,iBAAtBiD,EAAUmB,KAAK,KAJnG,CAOoB1O,EAAQ4/C,iBAAmB5/C,EAAQ4/C,eAAiB,KAKxE,SAAWL,GACPA,EAAsBz8C,OAAS,8BAC/By8C,EAAsBxvC,KAAO,IAAIuuB,EAAWt7B,oBAAoBu8C,EAAsBz8C,QAF1F,CAG2B9C,EAAQu/C,wBAA0Bv/C,EAAQu/C,sBAAwB,KAK7F,SAAWC,GACPA,EAA2B18C,OAAS,oCACpC08C,EAA2BzvC,KAAO,IAAIuuB,EAAWt7B,oBAAoBw8C,EAA2B18C,QAFpG,CAGgC9C,EAAQw/C,6BAA+Bx/C,EAAQw/C,2BAA6B,KAK5G,SAAWC,GACPA,EAA2B38C,OAAS,oCACpC28C,EAA2B1vC,KAAO,IAAIuuB,EAAWt7B,oBAAoBy8C,EAA2B38C,QAFpG,CAGgC9C,EAAQy/C,6BAA+Bz/C,EAAQy/C,2BAA6B,M,6BCzF5G7+C,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQ0oB,qBAAkB,EAC1B,MAAM4B,EAAO,EAAQ,GACfghC,EAAQ,EAAQ,GAChBtiD,EAAK,EAAQ,GACbuiD,EAA2B,EAAQ,IACnCC,EAAqB,EAAQ,IAC7BC,EAAyB,EAAQ,IACvC,IAAIC,GACJ,SAAWA,GAKPA,EAAmBxjD,GAJnB,SAAY/G,GACR,MAAMoM,EAAYpM,EAClB,OAAOoM,KAAeA,EAAUo+C,aAAep+C,EAAUq+C,WAHjE,CAMGF,IAAuBA,EAAqB,KAiiB/C1rD,EAAQ0oB,gBAhiBR,SAAyBmjC,GACrB,MACMC,EAAgBD,GADA,CAAC1qD,GAAUA,EAAMmF,YAEvC,SAAS2P,EAAM9U,GACX,OAAO2qD,EAAc3qD,GAEzB,SAAS6d,EAAyB1Q,GAC9B,MAAO,CACHwC,IAAKg7C,EAAcx9C,EAAawC,MAGxC,SAASi7C,EAAkCz9C,GACvC,MAAO,CACHwC,IAAKg7C,EAAcx9C,EAAawC,KAChC+b,QAASve,EAAaue,SAuE9B,SAASm/B,EAAyBC,GAC9B,OAAQA,GACJ,KAAK3hC,EAAKogC,uBAAuBC,OAC7B,OAAOW,EAAMZ,uBAAuBC,OACxC,KAAKrgC,EAAKogC,uBAAuBE,WAC7B,OAAOU,EAAMZ,uBAAuBE,WACxC,KAAKtgC,EAAKogC,uBAAuBG,SAC7B,OAAOS,EAAMZ,uBAAuBG,SAE5C,OAAOS,EAAMZ,uBAAuBC,OAcxC,SAASuB,EAAwBC,GAC7B,OAAQA,GACJ,KAAK7hC,EAAKwgC,sBAAsBE,iBAC5B,OAAOM,EAAMR,sBAAsBE,iBACvC,KAAK1gC,EAAKwgC,sBAAsBG,gCAC5B,OAAOK,EAAMR,sBAAsBG,gCACvC,QACI,OAAOK,EAAMR,sBAAsBC,SAa/C,SAASqB,EAA2BD,GAChC,OAAQA,GACJ,KAAK7hC,EAAK6gC,yBAAyBkB,OAC/B,OAAOf,EAAMH,yBAAyBJ,QAC1C,KAAKzgC,EAAK6gC,yBAAyBH,iBAC/B,OAAOM,EAAMH,yBAAyBH,iBAC1C,KAAK1gC,EAAK6gC,yBAAyBC,cAC/B,OAAOE,EAAMH,yBAAyBC,eAGlD,SAASkB,EAAuBnrD,GAG5B,MAAO,CACH4hC,MAAO5hC,EAAM4hC,OAMrB,SAASwpB,EAAuBprD,GAG5B,MAAO,CACH4hC,MAAO5hC,EAAM4hC,MACb0iB,YARyBz2C,EAQW7N,EAAMskD,WAPvCz2C,EAAOwzB,IAAI8pB,KADtB,IAAiCt9C,EAoCjC,SAASw9C,EAAiB9zC,GACtB,MAAO,CAAEmoC,KAAMnoC,EAASmoC,KAAMC,UAAWpoC,EAASooC,WAEtD,SAASz/B,EAAWlgB,GAChB,OAAIA,QACOA,EAEJ,CAAE0/C,KAAM1/C,EAAM0/C,KAAMC,UAAW3/C,EAAM2/C,WAShD,SAAS7hC,EAAQ9d,GACb,OAAIA,QACOA,EAEJ,CAAE+vB,MAAO7P,EAAWlgB,EAAM+vB,OAAQnpB,IAAKsZ,EAAWlgB,EAAM4G,MAEnE,SAAS0kD,EAAWtrD,GAChB,OAAIA,QACOA,EAEJmqD,EAAMxL,SAASt+C,OAAOyU,EAAM9U,EAAM2P,KAAMmO,EAAQ9d,EAAM2d,QAEjE,SAAS4tC,EAAqBvrD,GAC1B,OAAQA,GACJ,KAAKmpB,EAAK+1B,mBAAmB7wC,MACzB,OAAO87C,EAAMjL,mBAAmB7wC,MACpC,KAAK8a,EAAK+1B,mBAAmB30B,QACzB,OAAO4/B,EAAMjL,mBAAmB30B,QACpC,KAAKpB,EAAK+1B,mBAAmB+B,YACzB,OAAOkJ,EAAMjL,mBAAmB+B,YACpC,KAAK93B,EAAK+1B,mBAAmBgC,KACzB,OAAOiJ,EAAMjL,mBAAmBgC,MAgB5C,SAASsK,EAAgBC,GACrB,OAAQA,GACJ,KAAKtiC,EAAKmI,cAAcC,YACpB,OAAO44B,EAAM74B,cAAcC,YAC/B,KAAKpI,EAAKmI,cAActlB,WACpB,OAAOm+C,EAAM74B,cAActlB,WAC/B,QACI,QAGZ,SAAS0/C,EAAqB1zC,GAC1B,MAAO,CACH9P,QAAS8P,EAAK9P,QACdo7B,SAAUgoB,EAAWtzC,EAAKsrB,WAelC,SAASqoB,EAAa3zC,GAClB,IAAIkE,EAASiuC,EAAM/K,WAAW/+C,OAAOyd,EAAQ9F,EAAK2F,OAAQ3F,EAAK9P,SAgB/D,OAfIL,EAAG0kB,OAAOvU,EAAKmpC,YACfjlC,EAAOilC,SAAWoK,EAAqBvzC,EAAKmpC,WAEhDjlC,EAAOiN,KAdX,SAA0BnpB,GACtB,GAAIA,QAGJ,OAAI6H,EAAG0kB,OAAOvsB,IAAU6H,EAAGgM,OAAO7T,GACvBA,EAEJ,CAAEA,MAAOA,EAAMA,MAAOkM,OAAQ4I,EAAM9U,EAAMkM,SAOnC0/C,CAAiB5zC,EAAKmR,MAE5Bve,MAAM6I,QAAQuE,EAAK6sC,QACnB3oC,EAAO2oC,KAjDnB,SAA0BA,GACtB,IAAKA,EACD,OAEJ,IAAI3oC,EAAS,GACb,IAAK,IAAIuvC,KAAO5G,EAAM,CAClB,IAAIgH,EAAYL,EAAgBC,QACd7nD,IAAdioD,GACA3vC,EAAOlT,KAAK6iD,GAGpB,OAAO3vC,EAAO/S,OAAS,EAAI+S,OAAStY,EAsCdkoD,CAAiB9zC,EAAK6sC,OAGxC7sC,EAAKoZ,qBACLlV,EAAOkV,mBAA2CpZ,EAAKoZ,mBAvB9CiQ,IAAIqqB,IAyBb1zC,EAAKsiC,SACLp+B,EAAOo+B,OAAStiC,EAAKsiC,QAElBp+B,EAEX,SAASoS,EAAckT,GACnB,OAAIA,QACOA,EAEJA,EAAMH,IAAIsqB,GAcrB,SAASI,EAAoBN,GACzB,OAAQA,GACJ,KAAKtiC,EAAKnS,kBAAkBhL,WACxB,OAAOm+C,EAAMnzC,kBAAkBhL,YAmH3C,SAASggD,EAAWn6B,GAChB,MAAO,CAAElU,MAAOG,EAAQ+T,EAAKlU,OAAQ0jC,QAASxvB,EAAKwvB,SAevD,SAAS4K,EAAYj0C,GACjB,OAAOA,EAsBX,SAASiG,EAAUjG,GACf,IAAIkE,EAASiuC,EAAMnsC,QAAQ3d,OAAO2X,EAAKsV,MAAOtV,EAAK+L,SAInD,OAHI/L,EAAKiM,YACL/H,EAAO+H,UAAYjM,EAAKiM,WAErB/H,EA8CX,MAAO,CACHpH,QACA+I,2BACA+sC,oCACA37C,yBA9eJ,SAAkC9B,GAC9B,MAAO,CACHA,aAAc,CACVwC,IAAKg7C,EAAcx9C,EAAawC,KAChCm0C,WAAY32C,EAAa22C,WACzBp4B,QAASve,EAAaue,QACtBq4B,KAAM52C,EAAau4C,aAye3Bz0C,2BA7dJ,SAAoCgpB,GAChC,GALJ,SAAwBj6B,GACpB,IAAIoM,EAAYpM,EAChB,QAASoM,EAAUuD,OAASvD,EAAUsf,QAGlCwgC,CAAejyB,GAAM,CAQrB,MAPa,CACT9sB,aAAc,CACVwC,IAAKg7C,EAAc1wB,EAAItqB,KACvB+b,QAASuO,EAAIvO,SAEjB7a,eAAgB,CAAC,CAAEkzC,KAAM9pB,EAAIyrB,aAIhC,GAnBT,SAAmC1lD,GAC/B,IAAIoM,EAAYpM,EAChB,QAASoM,EAAUgC,YAAchC,EAAUyE,eAiBlCs7C,CAA0BlyB,GAAM,CACrC,IAAI7rB,EAAW6rB,EAAI7rB,SAkBnB,MAjBa,CACTjB,aAAc,CACVwC,IAAKg7C,EAAcv8C,EAASuB,KAC5B+b,QAAStd,EAASsd,SAEtB7a,eAAgBopB,EAAIppB,eAAewwB,IAAK/wB,IACpC,IAAIqN,EAAQrN,EAAOqN,MACnB,MAAO,CACHA,MAAO,CACHoS,MAAO,CAAE2vB,KAAM/hC,EAAMoS,MAAM2vB,KAAMC,UAAWhiC,EAAMoS,MAAM4vB,WACxD/4C,IAAK,CAAE84C,KAAM/hC,EAAM/W,IAAI84C,KAAMC,UAAWhiC,EAAM/W,IAAI+4C,YAEtDyM,YAAa97C,EAAO87C,YACpBrI,KAAMzzC,EAAOyzC,SAOzB,MAAM11C,MAAM,+CA6bhB4B,0BA1bJ,SAAmC9C,GAC/B,MAAO,CACHA,aAAc0Q,EAAyB1Q,KAyb3C0F,yBAtbJ,SAAkC1F,EAAck/C,GAAiB,GAC7D,IAAInwC,EAAS,CACT/O,aAAcy9C,EAAkCz9C,IAKpD,OAHIk/C,IACAnwC,EAAO6nC,KAAO52C,EAAau4C,WAExBxpC,GAgbPpK,6BAnaJ,SAAsClB,GAClC,MAAO,CACHzD,aAAc0Q,EAAyBjN,EAAMxC,UAC7C08C,OAAQD,EAAyBj6C,EAAMk6C,UAia3CpyC,6BA9ZJ,SAAsCvL,EAAcoK,GAChD,MAAO,CACHpK,aAAc0Q,EAAyB1Q,GACvCoK,SAAU8zC,EAAiB9zC,KA4Z/BG,mBA/YJ,SAA4BvK,EAAcoK,EAAUE,GAChD,MAAO,CACHtK,aAAc0Q,EAAyB1Q,GACvCoK,SAAU8zC,EAAiB9zC,GAC3BE,QAAS,CACLuzC,YAAaD,EAAwBtzC,EAAQuzC,aAC7CsB,iBAAkB70C,EAAQ60C,oBA0YlC/yC,sBA7VJ,SAA+BpM,EAAcoK,EAAUE,GACnD,MAAO,CACHtK,aAAc0Q,EAAyB1Q,GACvCoK,SAAU8zC,EAAiB9zC,GAC3BE,QAAS,CACL80C,YAAa90C,EAAQ80C,YACrBD,iBAAkB70C,EAAQ60C,iBAC1BtB,YAAaC,EAA2BxzC,EAAQuzC,aAChDwB,qBAlBaxsD,EAkBwByX,EAAQ+0C,yBAjBvC5oD,IAAV5D,EACOA,EAEJ,CACHysD,YARyB5+C,EAQW7N,EAAMysD,WAPvC5+C,EAAOwzB,IAAI+pB,IAQdsB,gBAAiB1sD,EAAM0sD,gBACvBC,gBAAiB3sD,EAAM2sD,oBAP/B,IAAyB3sD,EAHQ6N,GA2W7Bw9C,mBACAvtC,UACAoC,aACA0sC,YA5UJ,SAAqB5sD,GACjB,IAAIkc,EAAS,GACb,IAAK,IAAI6W,KAAQ/yB,EACbkc,EAAOlT,KAAKkX,EAAW6S,IAE3B,OAAO7W,GAwUPovC,aACAC,uBACAC,kBACAG,eACAr9B,gBACApW,iBA3MJ,SAA0BF,GACtB,IAAIkE,EAAS,CAAE0lB,MAAO5pB,EAAK4pB,OACvBirB,EAAe70C,aAAgBoyC,EAAyBhoD,QAAU4V,OAAOpU,EARjF,IAA8B5D,EAAO8sD,EAS7B90C,EAAK0sC,SACLxoC,EAAOwoC,OAAS1sC,EAAK0sC,QAIrB1sC,EAAKqsC,gBACAwI,GAAqD,YAArCA,EAAar2C,oBAI9B0F,EAAOmoC,cAnDnB,SAAyB3a,EAAQ2a,GAC7B,OAAQ3a,GACJ,IAAK,UACD,OAAO2a,EACX,KAAK8F,EAAM1zC,WAAWE,UAClB,MAAO,CAAEzC,KAAMw1B,EAAQ1pC,MAAOqkD,GAClC,KAAK8F,EAAM1zC,WAAWC,SAClB,MAAO,CAAExC,KAAMw1B,EAAQ1pC,MAAOqkD,EAAcrkD,OAChD,QACI,MAAO,iDAAiD0pC,GA0CjCqjB,CAAgBF,EAAar2C,oBAAqBwB,EAAKqsC,eAH9EnoC,EAAOmoC,cAAgBrsC,EAAKqsC,eAMhCrsC,EAAKg1C,aACL9wC,EAAO8wC,WAAah1C,EAAKg1C,YAyCjC,SAA+B9gD,EAAQouC,GACnC,IAAI5Q,EAASygB,EAAMjI,iBAAiBvrC,UAChCotC,OAAOngD,EACP+Z,OAAQ/Z,EACR02C,EAAOqG,UACPoD,EAAOzJ,EAAOqG,SAASU,QACvB1jC,EAAQ28B,EAAOqG,SAAShjC,OAEnB28B,EAAO2S,sBAAsB9jC,EAAK+jC,eACvCxjB,EAASygB,EAAMjI,iBAAiBx2C,QAChCq4C,EAAOzJ,EAAO2S,WAAWjtD,OAGzB+jD,EAAOzJ,EAAO2S,WAEd3S,EAAO38B,QACPA,EAAQ28B,EAAO38B,OAEnBzR,EAAOihD,iBAAmBzjB,EACtB4Q,EAAO8S,eAAqBxpD,IAATmgD,QAAgCngD,IAAV+Z,EACzCzR,EAAOy0C,SAMf,SAA8BU,EAAS1jC,GACnC,OAAI4sC,EAAmBxjD,GAAG4W,GACfwsC,EAAMhI,kBAAkB9hD,OAAOghD,EAASvjC,EAAQH,EAAM6sC,WAAY1sC,EAAQH,EAAM8sC,YAGhF,CAAEpJ,UAAS1jC,MAAOG,EAAQH,IAXf0vC,CAAqBtJ,EAAMpmC,GAG7CzR,EAAO+gD,WAAalJ,EA9DxBuJ,CAAsBpxC,EAAQlE,GAC1BnQ,EAAG0kB,OAAOvU,EAAK9D,QACfgI,EAAOhI,MA3BelU,EA2BagY,EAAK9D,UA1B3BtQ,KADgBkpD,EA2BiBD,GAAgBA,EAAaU,kBAzBpET,EAEJ9sD,EAAQ,IAyBXgY,EAAKw1C,WACLtxC,EAAOsxC,SAAWx1C,EAAKw1C,UAEvBx1C,EAAK4oC,sBACL1kC,EAAO0kC,oBAoEf,SAAqBxuC,GACjB,GAAIA,QACA,OAAOA,EAEX,OAAOA,EAAMivB,IAAI2qB,GAxEgBz5C,CAAYyF,EAAK4oC,sBAE9C5oC,EAAKy1C,mBACLvxC,EAAOuxC,iBAAmBz1C,EAAKy1C,iBAAiB35B,SAEhD9b,EAAK+L,UACL7H,EAAO6H,QAAU9F,EAAUjG,EAAK+L,WAEb,IAAnB/L,EAAK01C,YAAyC,IAAnB11C,EAAK01C,YAChCxxC,EAAOwxC,UAAY11C,EAAK01C,WAE5B,MAAM7I,EAzDV,SAA8BA,GAC1B,QAAajhD,IAATihD,EACA,OAAOA,EAEX,MAAM3oC,EAAS,GACf,IAAK,IAAIuvC,KAAO5G,EAAM,CAClB,MAAMgH,EAAYE,EAAoBN,QACpB7nD,IAAdioD,GACA3vC,EAAOlT,KAAK6iD,GAGpB,OAAO3vC,EA8CMyxC,CAAqB31C,EAAK6sC,MACvC,GAAIgI,SAC0BjpD,IAAtBipD,EAAat/C,OACb2O,EAAO3O,KAAOs/C,EAAat/C,OAEC,IAA5Bs/C,EAAajI,aAAmD,IAA5BiI,EAAajI,YAAsB,CACvE,IAAgC,IAA5BiI,EAAajI,iBAAgChhD,IAATihD,GAAsBA,EAAK17C,OAAS,EAAG,CAC3E,MAAMia,EAAQyhC,EAAKxhC,QAAQ8F,EAAKnS,kBAAkBhL,aACnC,IAAXoX,GACAyhC,EAAKlxB,OAAOvQ,EAAO,GAG3BlH,EAAO0oC,WAAaiI,EAAajI,WAMzC,YAHahhD,IAATihD,GAAsBA,EAAK17C,OAAS,IACpC+S,EAAO2oC,KAAOA,GAEX3oC,GAoJP8vC,aACA4B,aAxGJ,SAAsB51C,GAClB,OAAIA,GAAQmR,EAAKzf,WAAWyB,cAEhB6M,EAAO,EAEZmyC,EAAMzgD,WAAWO,UAoGxBgiD,cACA4B,aAhGJ,SAAsBrsB,GAClB,OAAOA,EAAMH,IAAI4qB,IAgGjBxxC,kBA9FJ,SAA2BtN,EAAcoK,EAAUjW,GAC/C,MAAO,CACH6L,aAAc0Q,EAAyB1Q,GACvCoK,SAAU8zC,EAAiB9zC,GAC3BE,QAAS,CAAEq2C,mBAAoBxsD,EAAQwsD,sBA2F3C/vC,oBAxFJ,SAA6BtG,GACzB,GAAIA,QACA,OAAOA,EAEX,IAAIstC,EAIJ,OAHIttC,EAAQstC,MAAQl9C,EAAGgM,OAAO4D,EAAQstC,KAAK/kD,SACvC+kD,EAAO,CAACttC,EAAQstC,KAAK/kD,QAElBmqD,EAAMvH,kBAAkBviD,OAAOiuB,EAAc7W,EAAQsW,aAAcg3B,IAiF1E9mC,YACAe,WAzEJ,SAAoBhH,GAChB,IAAIkE,EAASiuC,EAAMroB,SAASzhC,OAAOyd,EAAQ9F,EAAK2F,QAShD,OARI3F,EAAK+L,UACL7H,EAAO6H,QAAU9F,EAAUjG,EAAK+L,UAEhC/L,aAAgBqyC,EAAmBjoD,SAC/B4V,EAAKzK,OACL2O,EAAO3O,KAAOyK,EAAKzK,MAGpB2O,GAgEPoD,oBA9DJ,SAA6BtH,GACzB,MAAO,CAAEktC,QAASltC,EAAKktC,QAASC,aAAcntC,EAAKmtC,eA8DnDxpC,uBA5DJ,SAAgCxO,GAC5B,MAAO,CACHA,aAAc0Q,EAAyB1Q,KA2D3CwR,iBAxDJ,SAA0BxR,GACtB,MAAO,CACHA,aAAc0Q,EAAyB1Q,KAuD3C4U,eApDJ,SAAwB/J,GACpB,IAAIkE,EAASiuC,EAAMnoB,aAAa3hC,OAAOyd,EAAQ9F,EAAK2F,QAChD3F,EAAK9L,SACLgQ,EAAOhQ,OAAS4I,EAAMkD,EAAK9L,cAEVtI,IAAjBoU,EAAK+1C,UACL7xC,EAAO6xC,QAAU/1C,EAAK+1C,SAE1B,IAAIlB,EAAe70C,aAAgBsyC,EAAuBloD,QAAU4V,OAAOpU,EAI3E,OAHIipD,GAAgBA,EAAat/C,OAC7B2O,EAAO3O,KAAOs/C,EAAat/C,MAExB2O,GAyCPwF,qBAvCJ,SAA8BvU,GAC1B,MAAO,CACHA,aAAc0Q,EAAyB1Q,Q,6BCxgBnD1N,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQ0oB,qBAAkB,EAC1B,MAAM4B,EAAO,EAAQ,GACf6kC,EAAK,EAAQ,GACbnmD,EAAK,EAAQ,GACbuiD,EAA2B,EAAQ,IACnCC,EAAqB,EAAQ,IAC7BC,EAAyB,EAAQ,IACvC,IAAI2D,GACJ,SAAWA,GAKPA,EAAUlnD,GAJV,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,GAAavE,EAAGgM,OAAOzH,EAAU+3C,WAAat8C,EAAGgM,OAAOzH,EAAUpM,QAHjF,CAMGiuD,IAAcA,EAAY,KAyuB7BpvD,EAAQ0oB,gBAxuBR,SAAyBmjC,GACrB,MACMC,EAAgBD,GADA,CAAC1qD,GAAUmpB,EAAKyC,IAAImJ,MAAM/0B,IAEhD,SAAS8U,EAAM9U,GACX,OAAO2qD,EAAc3qD,GAEzB,SAASsuB,EAAcP,GACnB,OAAOA,EAAYsT,IAAIsqB,GAE3B,SAASA,EAAauC,GAClB,IAAIhyC,EAAS,IAAIiN,EAAKi2B,WAAWthC,EAAQowC,EAAWvwC,OAAQuwC,EAAWhmD,QAASqjD,EAAqB2C,EAAW/M,WAgBhH,OAfIt5C,EAAG0kB,OAAO2hC,EAAW/kC,OAASthB,EAAGgM,OAAOq6C,EAAW/kC,SACnDjN,EAAOiN,KAAO+kC,EAAW/kC,MAEzB6kC,EAAG7O,eAAep4C,GAAGmnD,EAAW/kC,QAChCjN,EAAOiN,KAAO,CAAEnpB,MAAOkuD,EAAW/kC,KAAKnpB,MAAOkM,OAAQ4I,EAAMo5C,EAAW/kC,KAAKjd,UAE5EgiD,EAAW5T,SACXp+B,EAAOo+B,OAAS4T,EAAW5T,QAE3B4T,EAAW98B,qBACXlV,EAAOkV,mBAA0C88B,EAAW98B,mBAQtCiQ,IAAI8sB,IAN1BvjD,MAAM6I,QAAQy6C,EAAWrJ,QACzB3oC,EAAO2oC,KAUf,SAA0BA,GACtB,IAAKA,EACD,OAEJ,IAAI3oC,EAAS,GACb,IAAK,IAAIuvC,KAAO5G,EAAM,CAClB,IAAIgH,EAAYL,EAAgBC,QACd7nD,IAAdioD,GACA3vC,EAAOlT,KAAK6iD,GAGpB,OAAO3vC,EAAO/S,OAAS,EAAI+S,OAAStY,EArBlBkoD,CAAiBoC,EAAWrJ,OAEvC3oC,EAKX,SAASiyC,EAA+BC,GACpC,OAAO,IAAIjlC,EAAK81B,6BAA6BqM,EAAW8C,EAAY9qB,UAAW8qB,EAAYlmD,SAe/F,SAASsjD,EAAgBC,GACrB,OAAQA,GACJ,KAAKuC,EAAG18B,cAAcC,YAClB,OAAOpI,EAAKmI,cAAcC,YAC9B,KAAKy8B,EAAG18B,cAActlB,WAClB,OAAOmd,EAAKmI,cAActlB,WAC9B,QACI,QAGZ,SAASkU,EAAWlgB,GAChB,GAAKA,EAGL,OAAO,IAAImpB,EAAKu1B,SAAS1+C,EAAM0/C,KAAM1/C,EAAM2/C,WAE/C,SAAS7hC,EAAQ9d,GACb,GAAKA,EAGL,OAAO,IAAImpB,EAAKlI,MAAMf,EAAWlgB,EAAM+vB,OAAQ7P,EAAWlgB,EAAM4G,MAKpE,SAAS2kD,EAAqBvrD,GAC1B,GAAIA,QACA,OAAOmpB,EAAK+1B,mBAAmB7wC,MAEnC,OAAQrO,GACJ,KAAKguD,EAAG9O,mBAAmB7wC,MACvB,OAAO8a,EAAK+1B,mBAAmB7wC,MACnC,KAAK2/C,EAAG9O,mBAAmB30B,QACvB,OAAOpB,EAAK+1B,mBAAmB30B,QACnC,KAAKyjC,EAAG9O,mBAAmB+B,YACvB,OAAO93B,EAAK+1B,mBAAmB+B,YACnC,KAAK+M,EAAG9O,mBAAmBgC,KACvB,OAAO/3B,EAAK+1B,mBAAmBgC,KAEvC,OAAO/3B,EAAK+1B,mBAAmB7wC,MAwCnC,SAAS0+C,EAAgB/sD,GACrB,GAAI6H,EAAGgM,OAAO7T,GACV,OAAOA,EAGP,OAAQA,EAAMkU,MACV,KAAK85C,EAAGv3C,WAAWC,SACf,OAAO,IAAIyS,EAAKklC,eAAeruD,EAAMA,OACzC,KAAKguD,EAAGv3C,WAAWE,UACf,OAAO3W,EAAMA,MACjB,QACI,MAAO,iDAAiDA,EAAMkU,MA4B9E,SAAS63C,EAAoBN,GACzB,OAAQA,GACJ,KAAKuC,EAAGh3C,kBAAkBhL,WACtB,OAAOmd,EAAKnS,kBAAkBhL,YAiB1C,SAASkM,EAAiBF,GACtB,IAAI6sC,EAdR,SAA8BA,GAC1B,GAAIA,QACA,MAAO,GAEX,MAAM3oC,EAAS,GACf,IAAK,IAAIuvC,KAAO5G,EAAM,CAClB,MAAMgH,EAAYE,EAAoBN,QACpB7nD,IAAdioD,GACA3vC,EAAOlT,KAAK6iD,GAGpB,OAAO3vC,EAGIyxC,CAAqB31C,EAAK6sC,MACjC3oC,EAAS,IAAIkuC,EAAyBhoD,QAAQ4V,EAAK4pB,OACnD5pB,EAAK0sC,SACLxoC,EAAOwoC,OAAS1sC,EAAK0sC,QAErB1sC,EAAKqsC,gBACLnoC,EAAOmoC,cAAgB0I,EAAgB/0C,EAAKqsC,eAC5CnoC,EAAO1F,oBAAsB3O,EAAGgM,OAAOmE,EAAKqsC,eAAiB,UAAYrsC,EAAKqsC,cAAcnwC,MAE5F8D,EAAKg1C,aACL9wC,EAAO8wC,WAAah1C,EAAKg1C,YAE7B,IAAIC,EA0CR,SAAgCj1C,GAC5B,OAAIA,EAAK2oC,SACD3oC,EAAKm1C,mBAAqBa,EAAG9L,iBAAiBx2C,QACvC,CAAEq4C,KAAM,IAAI56B,EAAK+jC,cAAcl1C,EAAK2oC,SAASU,SAAU1jC,MAAO2wC,EAAkBt2C,EAAK2oC,UAAWyM,UAAU,GAG1G,CAAErJ,KAAM/rC,EAAK2oC,SAASU,QAAS1jC,MAAO2wC,EAAkBt2C,EAAK2oC,UAAWyM,UAAU,GAGxFp1C,EAAKi1C,WACNj1C,EAAKm1C,mBAAqBa,EAAG9L,iBAAiBx2C,QACvC,CAAEq4C,KAAM,IAAI56B,EAAK+jC,cAAcl1C,EAAKi1C,YAAaG,UAAU,GAG3D,CAAErJ,KAAM/rC,EAAKi1C,WAAYG,UAAU,QAI9C,EA5DamB,CAAuBv2C,GAMxC,GALIi1C,IACA/wC,EAAO+wC,WAAaA,EAAWlJ,KAC/B7nC,EAAOyB,MAAQsvC,EAAWtvC,MAC1BzB,EAAOkxC,SAAWH,EAAWG,UAE7BvlD,EAAG0kB,OAAOvU,EAAK9D,MAAO,CACtB,IAAKs6C,EAAU1B,IA/CO9sD,EA+C0BgY,EAAK9D,KA7CrD85C,EAAG3iD,mBAAmBC,MAAQtL,GAASA,GAASguD,EAAG3iD,mBAAmBF,cAC/D,CAACnL,EAAQ,OAAG4D,GAEhB,CAACulB,EAAK9d,mBAAmBC,KAAMtL,IA2ClCkc,EAAOhI,KAAOs6C,EACV1B,IACA5wC,EAAOqxC,iBAAmBT,GAlDtC,IAA8B9sD,EAgF1B,OA3BIgY,EAAKw1C,WACLtxC,EAAOsxC,SAAWx1C,EAAKw1C,UAEvBx1C,EAAK4oC,sBACL1kC,EAAO0kC,oBAAsBruC,EAAYyF,EAAK4oC,sBAE9C/4C,EAAGgrB,YAAY7a,EAAKy1C,oBACpBvxC,EAAOuxC,iBAAmBz1C,EAAKy1C,iBAAiB35B,SAEhD9b,EAAK+L,UACL7H,EAAO6H,QAAU9F,EAAUjG,EAAK+L,WAEZ,IAApB/L,EAAK4sC,aAA2C,IAApB5sC,EAAK4sC,aACjC1oC,EAAO0oC,WAAa5sC,EAAK4sC,YACD,IAApB5sC,EAAK4sC,YACLC,EAAK77C,KAAKmgB,EAAKnS,kBAAkBhL,cAGlB,IAAnBgM,EAAK01C,YAAyC,IAAnB11C,EAAK01C,YAChCxxC,EAAOwxC,UAAY11C,EAAK01C,gBAEV9pD,IAAdoU,EAAKzK,OACL2O,EAAO3O,KAAOyK,EAAKzK,MAEnBs3C,EAAK17C,OAAS,IACd+S,EAAO2oC,KAAOA,GAEX3oC,EAuBX,SAASoyC,EAAkBtuD,GACvB,OAAIguD,EAAG7L,kBAAkBp7C,GAAG/G,GACjB,CAAEwqD,UAAW1sC,EAAQ9d,EAAMshD,QAASmJ,UAAW3sC,EAAQ9d,EAAM8pC,UAG7DhsB,EAAQ9d,EAAM2d,OAG7B,SAASquC,EAAWn6B,GAChB,GAAKA,EAGL,OAAO,IAAI1I,EAAKk2B,SAASvhC,EAAQ+T,EAAKlU,OAAQkU,EAAKwvB,SAEvD,SAAS9uC,EAAYivB,GACjB,GAAKA,EAGL,OAAOA,EAAMH,IAAI2qB,GA0BrB,SAASyC,EAAwBjtB,GAC7B,OAAOA,EAAMH,IAAI+pB,GAErB,SAASA,EAAuBpzC,GAC5B,IAAIkE,EAAS,IAAIiN,EAAKq5B,qBAAqBxqC,EAAK4pB,OAW5C,YAVuBh+B,IAAvBoU,EAAKqsC,gBACLnoC,EAAOmoC,cAAgB0I,EAAgB/0C,EAAKqsC,qBAExBzgD,IAApBoU,EAAKssC,aACLpoC,EAAOooC,WAAaoK,EAAwB12C,EAAKssC,kBAExB1gD,IAAzBoU,EAAK20C,kBACLzwC,EAAOywC,gBAAkB30C,EAAK20C,iBAGvBzwC,EAGf,SAASwyC,EAAwB12C,GAC7B,OAAOA,EAAKqpB,IAAI8pB,GAEpB,SAASA,EAAuBnzC,GAC5B,IAAIkE,EAAS,IAAIiN,EAAKo5B,qBAAqBvqC,EAAK4pB,OAIhD,OAHI5pB,EAAKqsC,gBACLnoC,EAAOmoC,cAAgB0I,EAAgB/0C,EAAKqsC,gBAEzCnoC,EAEX,SAASovC,EAAWtzC,GAChB,GAAKA,EAGL,OAAO,IAAImR,EAAKw1B,SAASgM,EAAc3yC,EAAKrI,KAAMmO,EAAQ9F,EAAK2F,QAcnE,SAASgxC,EAAe32C,GACpB,IAAKA,EACD,OAEJ,IAAIkE,EAAS,CACTgkC,UAAWyK,EAAc3yC,EAAKkoC,WAC9BC,YAAariC,EAAQ9F,EAAKooC,sBAC1BC,qBAAsBviC,EAAQ9F,EAAKqoC,sBACnCD,qBAAsBtiC,EAAQ9F,EAAKooC,uBAEvC,IAAKlkC,EAAOkkC,qBACR,MAAM,IAAI/xC,MAAM,sDAEpB,OAAO6N,EAEX,SAAS0yC,EAAiB52C,GACtB,GAAKA,EAAL,CAGA,GAAInQ,EAAGuoB,MAAMpY,GAAO,CAChB,GAAoB,IAAhBA,EAAK7O,OACL,MAAO,GAEN,GAAI6kD,EAAGpP,aAAa73C,GAAGiR,EAAK,IAAK,CAElC,OADYA,EACCqpB,IAAKxf,GAAS8sC,EAAe9sC,IAI1C,OADgB7J,EACCqpB,IAAKiC,GAAagoB,EAAWhoB,IAGjD,OAAI0qB,EAAGpP,aAAa73C,GAAGiR,GACjB,CAAC22C,EAAe32C,IAGhBszC,EAAWtzC,IAe1B,SAAS62C,EAAoB72C,GACzB,IAAIkE,EAAS,IAAIiN,EAAKu5B,kBAAkB5kC,EAAQ9F,EAAK2F,QAIrD,OAHI9V,EAAG0kB,OAAOvU,EAAK9D,QACfgI,EAAOhI,KAAO46C,EAAwB92C,EAAK9D,OAExCgI,EAEX,SAAS4yC,EAAwB92C,GAC7B,OAAQA,GACJ,KAAKg2C,EAAGvL,sBAAsBn3C,KAC1B,OAAO6d,EAAKs5B,sBAAsBn3C,KACtC,KAAK0iD,EAAGvL,sBAAsB8B,KAC1B,OAAOp7B,EAAKs5B,sBAAsB8B,KACtC,KAAKyJ,EAAGvL,sBAAsB+B,MAC1B,OAAOr7B,EAAKs5B,sBAAsB+B,MAE1C,OAAOr7B,EAAKs5B,sBAAsBn3C,KAQtC,SAASsiD,EAAa51C,GAClB,OAAIA,GAAQg2C,EAAGtkD,WAAWyB,cAEf6M,EAAO,EAEXmR,EAAKzf,WAAWO,SAE3B,SAASgiD,EAAYjsD,GACjB,OAAQA,GACJ,KAAKguD,EAAGjiD,UAAUC,WACd,OAAOmd,EAAKpd,UAAUC,WAC1B,QACI,QAGZ,SAAS6hD,EAAarsB,GAClB,GAAIA,QACA,OAEJ,MAAMtlB,EAAS,GACf,IAAK,MAAMlE,KAAQwpB,EAAO,CACtB,MAAMqqB,EAAYI,EAAYj0C,QACZpU,IAAdioD,GACA3vC,EAAOlT,KAAK6iD,GAGpB,OAAyB,IAAlB3vC,EAAO/S,YAAevF,EAAYsY,EAE7C,SAAS6yC,EAAoB/2C,EAAMrI,GAE/B,IAAIuM,EAAS,IAAIiN,EAAKw5B,kBAAkB3qC,EAAK1Y,KAAMsuD,EAAa51C,EAAK9D,MAAO4J,EAAQ9F,EAAKsrB,SAAS3lB,OAAQ3F,EAAKsrB,SAAS3zB,IAAMg7C,EAAc3yC,EAAKsrB,SAAS3zB,KAAOA,GAKjK,OAJAq/C,EAAS9yC,EAAQlE,GACbA,EAAKysC,gBACLvoC,EAAOuoC,cAAgBzsC,EAAKysC,eAEzBvoC,EAQX,SAAS+yC,EAAiBjvD,GACtB,IAAIkc,EAAS,IAAIiN,EAAKtN,eAAe7b,EAAMV,KAAMU,EAAM0kD,QAAU,GAAIkJ,EAAa5tD,EAAMkU,MAAO4J,EAAQ9d,EAAM2d,OAAQG,EAAQ9d,EAAM2kD,iBAEnI,GADAqK,EAAS9yC,EAAQlc,QACM4D,IAAnB5D,EAAM8lC,UAA0B9lC,EAAM8lC,SAAS38B,OAAS,EAAG,CAC3D,IAAI28B,EAAW,GACf,IAAK,IAAIopB,KAASlvD,EAAM8lC,SACpBA,EAAS98B,KAAKimD,EAAiBC,IAEnChzC,EAAO4pB,SAAWA,EAEtB,OAAO5pB,EAEX,SAAS8yC,EAAS9yC,EAAQlc,GACtBkc,EAAO2oC,KAAOgJ,EAAa7tD,EAAM6kD,MAC7B7kD,EAAM4kD,aACD1oC,EAAO2oC,KAIH3oC,EAAO2oC,KAAKsK,SAAShmC,EAAKpd,UAAUC,cACrCkQ,EAAO2oC,KAAO3oC,EAAO2oC,KAAKrS,OAAOrpB,EAAKpd,UAAUC,aAJpDkQ,EAAO2oC,KAAO,CAAC17B,EAAKpd,UAAUC,aAS1C,SAASiS,EAAUjG,GACf,IAAIkE,EAAS,CAAEoR,MAAOtV,EAAKsV,MAAOvJ,QAAS/L,EAAK+L,SAIhD,OAHI/L,EAAKiM,YACL/H,EAAO+H,UAAYjM,EAAKiM,WAErB/H,EAQX,MAAMkzC,EAAc,IAAIniD,IASxB,SAASoiD,EAAiBr3C,GACtB,GAAIA,QACA,OAEJ,IAAIkE,EAASkzC,EAAYxvD,IAAIoY,GAC7B,GAAIkE,EACA,OAAOA,EAEX,IAAI+Z,EAAQje,EAAKwL,MAAM,KACvBtH,EAASiN,EAAKnM,eAAeC,MAC7B,IAAK,IAAIgP,KAAQgK,EACb/Z,EAASA,EAAO6N,OAAOkC,GAE3B,OAAO/P,EA8BX,SAAS8C,EAAWhH,GAChB,IAAKA,EACD,OAEJ,IAAIkE,EAAS,IAAImuC,EAAmBjoD,QAAQ0b,EAAQ9F,EAAK2F,QAOzD,OANI3F,EAAK+L,UACL7H,EAAO6H,QAAU9F,EAAUjG,EAAK+L,eAElBngB,IAAdoU,EAAKzK,MAAoC,OAAdyK,EAAKzK,OAChC2O,EAAO3O,KAAOyK,EAAKzK,MAEhB2O,EAQX,SAAS4E,EAAgB9I,GACrB,IAAKA,EACD,OAEJ,IAAIkE,EAAS,IAAIiN,EAAKs2B,cAyBtB,OAxBIznC,EAAK6Y,gBACL7Y,EAAK6Y,gBAAgBnhB,QAAQY,IACzB,GAAI09C,EAAG1O,WAAWv4C,GAAGuJ,GACjB4L,EAAOwnC,WAAWiH,EAAcr6C,EAAOX,KAAMW,EAAOhP,cAEnD,GAAI0sD,EAAGzO,WAAWx4C,GAAGuJ,GACtB4L,EAAO0nC,WAAW+G,EAAcr6C,EAAOqxC,QAASgJ,EAAcr6C,EAAOsxC,QAAStxC,EAAOhP,cAEpF,GAAI0sD,EAAGxO,WAAWz4C,GAAGuJ,GACtB4L,EAAO2nC,WAAW8G,EAAcr6C,EAAOX,KAAMW,EAAOhP,aAEnD,KAAI0sD,EAAGh8B,iBAAiBjrB,GAAGuJ,GAI5B,MAAM,IAAIjC,MAAM,4CAA4C2b,KAAKC,UAAU3Z,OAAQ1M,EAAW,IAH9FsY,EAAOvO,IAAIg9C,EAAcr6C,EAAOnD,aAAawC,KAAM4C,EAAYjC,EAAO8B,WAOzE4F,EAAKoW,SACV3uB,OAAOsjB,KAAK/K,EAAKoW,SAAS1e,QAAQpP,IAC9B4b,EAAOvO,IAAIg9C,EAAcrqD,GAAMiS,EAAYyF,EAAKoW,QAAQ9tB,OAGzD4b,EAEX,SAAS6F,EAAe/J,GACpB,IAAI2F,EAAQG,EAAQ9F,EAAK2F,OACrBzR,EAAS8L,EAAK9L,OAAS4I,EAAMkD,EAAK9L,aAAUtI,EAE5Cie,EAAO,IAAIyoC,EAAuBloD,QAAQub,EAAOzR,GAOrD,YANqBtI,IAAjBoU,EAAK+1C,UACLlsC,EAAKksC,QAAU/1C,EAAK+1C,cAENnqD,IAAdoU,EAAKzK,MAAoC,OAAdyK,EAAKzK,OAChCsU,EAAKtU,KAAOyK,EAAKzK,MAEdsU,EAQX,SAASytC,EAAQ5O,GACb,OAAO,IAAIv3B,EAAKxd,MAAM+0C,EAAMJ,IAAKI,EAAMH,MAAOG,EAAMF,KAAME,EAAMD,OAEpE,SAAS8O,EAAmBC,GACxB,OAAO,IAAIrmC,EAAK01B,iBAAiB/gC,EAAQ0xC,EAAG7xC,OAAQ2xC,EAAQE,EAAG9O,QAQnE,SAAS+O,EAAoB14B,GACzB,IAAI24B,EAAe,IAAIvmC,EAAK21B,kBAAkB/nB,EAAG6K,OAKjD,OAJA8tB,EAAa9O,oBAAsBruC,EAAYwkB,EAAG6pB,qBAC9C7pB,EAAG4pB,WACH+O,EAAa/O,SAAWqL,EAAWj1B,EAAG4pB,WAEnC+O,EAQX,SAASC,EAAmBz7C,GACxB,GAAIA,EACA,OAAQA,GACJ,KAAK85C,EAAGjP,iBAAiB6Q,QACrB,OAAOzmC,EAAK41B,iBAAiB6Q,QACjC,KAAK5B,EAAGjP,iBAAiB8Q,QACrB,OAAO1mC,EAAK41B,iBAAiB8Q,QACjC,KAAK7B,EAAGjP,iBAAiB+Q,OACrB,OAAO3mC,EAAK41B,iBAAiB+Q,QAK7C,SAASC,EAAelwD,GACpB,OAAO,IAAIspB,EAAK61B,aAAan/C,EAAEghD,UAAWhhD,EAAEihD,QAAS6O,EAAmB9vD,EAAEqU,OAQ9E,SAAS87C,EAAiBrL,GACtB,OAAO,IAAIx7B,EAAK45B,eAAejlC,EAAQ6mC,EAAehnC,OAAQgnC,EAAeS,OAAS4K,EAAiBrL,EAAeS,aAAUxhD,GAYpI,OArLAwrD,EAAYzhD,IAAIqgD,EAAGhxC,eAAeC,MAAOkM,EAAKnM,eAAeC,OAC7DmyC,EAAYzhD,IAAIqgD,EAAGhxC,eAAeE,SAAUiM,EAAKnM,eAAeE,UAChEkyC,EAAYzhD,IAAIqgD,EAAGhxC,eAAeG,SAAUgM,EAAKnM,eAAeG,UAChEiyC,EAAYzhD,IAAIqgD,EAAGhxC,eAAeI,gBAAiB+L,EAAKnM,eAAeI,iBACvEgyC,EAAYzhD,IAAIqgD,EAAGhxC,eAAeK,eAAgB8L,EAAKnM,eAAeK,gBACtE+xC,EAAYzhD,IAAIqgD,EAAGhxC,eAAeM,gBAAiB6L,EAAKnM,eAAeM,iBACvE8xC,EAAYzhD,IAAIqgD,EAAGhxC,eAAeO,OAAQ4L,EAAKnM,eAAeO,QAC9D6xC,EAAYzhD,IAAIqgD,EAAGhxC,eAAeQ,sBAAuB2L,EAAKnM,eAAeQ,uBA8KtE,CACH1I,QACAwZ,gBACAq9B,eACA7tC,UACAmyC,SAjnBJ,SAAkBjwD,GACd,OAAOA,EAAMqhC,IAAIrhC,GAAS8d,EAAQ9d,KAinBlCkgB,aACAqrC,uBACAC,kBACA7yC,QA7iBJ,SAAiBu3C,GACb,GAAKA,EAGL,OAAO,IAAI/mC,EAAKm5B,MAzDpB,SAAwBtiD,GACpB,GAAI6H,EAAGgM,OAAO7T,GACV,OAAO,IAAImpB,EAAKklC,eAAeruD,GAE9B,GAAIiuD,EAAUlnD,GAAG/G,GAAQ,CAE1B,OADa,IAAImpB,EAAKklC,gBACR8B,gBAAgBnwD,EAAMA,MAAOA,EAAMmkD,UAEhD,GAAIv5C,MAAM6I,QAAQzT,GAAQ,CAC3B,IAAIkc,EAAS,GACb,IAAK,IAAIN,KAAW5b,EAAO,CACvB,IAAIgY,EAAO,IAAImR,EAAKklC,eAChBJ,EAAUlnD,GAAG6U,GACb5D,EAAKm4C,gBAAgBv0C,EAAQ5b,MAAO4b,EAAQuoC,UAG5CnsC,EAAKo4C,eAAex0C,GAExBM,EAAOlT,KAAKgP,GAEhB,OAAOkE,EAEN,CACD,IAAIA,EACJ,OAAQlc,EAAMkU,MACV,KAAK85C,EAAGv3C,WAAWC,SACf,OAAO,IAAIyS,EAAKklC,eAAeruD,EAAMA,OACzC,KAAKguD,EAAGv3C,WAAWE,UAGf,OAFAuF,EAAS,IAAIiN,EAAKklC,eAClBnyC,EAAOm0C,WAAWrwD,EAAMA,OACjBkc,EACX,QAGI,OAFAA,EAAS,IAAIiN,EAAKklC,eAClBnyC,EAAOm0C,WAAW,iDAAiDrwD,EAAMkU,MAClEgI,IAuBGo0C,CAAeJ,EAAM9L,UAAWtmC,EAAQoyC,EAAMvyC,SA0iBpEhG,mBAxiBJ,SAA4BuE,GACxB,IAAKA,EACD,OAEJ,GAAItR,MAAM6I,QAAQyI,GAAS,CAEvB,OADYA,EACCmlB,IAAInpB,GAErB,IAAIq0B,EAAOrwB,EACX,OAAO,IAAIiN,EAAKi5B,eAAe7V,EAAK/K,MAAMH,IAAInpB,GAAmBq0B,EAAKyX,eAgiBtE9rC,mBACA8zC,aACAz5C,cACAiH,gBAtaJ,SAAyBxB,GACrB,IAAKA,EACD,OAEJ,IAAIkE,EAAS,IAAIiN,EAAKonC,cAkBtB,OAjBI1oD,EAAG0kB,OAAOvU,EAAK00C,iBACfxwC,EAAOwwC,gBAAkB10C,EAAK00C,gBAI9BxwC,EAAOwwC,gBAAkB,EAEzB7kD,EAAG0kB,OAAOvU,EAAK20C,iBACfzwC,EAAOywC,gBAAkB30C,EAAK20C,gBAI9BzwC,EAAOywC,gBAAkB,EAEzB30C,EAAKy0C,aACLvwC,EAAOuwC,WAAagC,EAAwBz2C,EAAKy0C,aAE9CvwC,GAiZPuyC,0BACArD,yBACAsD,0BACAvD,yBACAqF,oBAjXJ,SAA6Bx4C,GACzB,GAAKA,EAGL,OAAO42C,EAAiB52C,IA8WxBkC,mBA5WJ,SAA4BlC,GACxB,GAAKA,EAGL,OAAO42C,EAAiB52C,IAyWxBszC,aACA5wC,aAjUJ,SAAsB7M,GAClB,GAAKA,EAGL,OAAOA,EAAOwzB,IAAIiC,GAAYgoB,EAAWhoB,KA8TzCroB,qBA5TJ,SAA8BpN,GAC1B,GAAKA,EAGL,OAAOA,EAAOwzB,IAAIwtB,IAyTlBA,sBACAC,0BACAlB,eACA3B,cACA4B,eACA9xC,qBA1SJ,SAA8BlO,EAAQ8B,GAClC,GAAK9B,EAGL,OAAOA,EAAOwzB,IAAI+sB,GAAeW,EAAoBX,EAAaz+C,KAuSlEo/C,sBACAjzC,kBAjQJ,SAA2BjO,GACvB,GAAIA,QAGJ,OAAOA,EAAOwzB,IAAI4tB,IA8PlBA,mBACAhxC,YACAwyC,WA9NJ,SAAoBjvB,GAChB,GAAKA,EAGL,OAAOA,EAAMH,IAAIpjB,IA2NjBC,aA3LJ,SAAsBlG,GAClB,GAAIA,QACA,OAEJ,IAAIkE,EAAS,IAAIiN,EAAK05B,WAAW7qC,EAAKsV,OAgBtC,YAfkB1pB,IAAdoU,EAAK9D,OACLgI,EAAOhI,KAAOm7C,EAAiBr3C,EAAK9D,OAEpC8D,EAAK+V,cACL7R,EAAO6R,YAAcO,EAActW,EAAK+V,cAExC/V,EAAK6Z,OACL3V,EAAO2V,KAAO/Q,EAAgB9I,EAAK6Z,OAEnC7Z,EAAK+L,UACL7H,EAAO6H,QAAU9F,EAAUjG,EAAK+L,eAEXngB,IAArBoU,EAAKitC,cACL/oC,EAAO+oC,YAAcjtC,EAAKitC,aAEvB/oC,GAwKPmzC,mBACA/wC,kBAnMJ,SAA2BkjB,GACvB,GAAIA,QAGJ,OAAOA,EAAMH,IAAIntB,GAAQm7C,EAAiBn7C,KAgM1C8K,aACAJ,aA5JJ,SAAsB4iB,GAClB,GAAKA,EAGL,OAAOA,EAAMH,IAAKviB,GAAaE,EAAWF,KAyJ1CgC,kBACAiB,iBACAJ,gBA7GJ,SAAyB6f,GACrB,GAAKA,EAGL,OAAOA,EAAMH,IAAItf,IA0GjB4tC,qBACAI,iBACAW,gBAhEJ,SAAyBC,GACrB,GAAI/lD,MAAM6I,QAAQk9C,GACd,OAAOA,EAActvB,IAAI0uB,IA+D7BT,UACAC,qBACAqB,oBAvGJ,SAA6BC,GACzB,GAAIjmD,MAAM6I,QAAQo9C,GACd,OAAOA,EAAiBxvB,IAAIkuB,IAsGhCE,sBACAqB,qBA3FJ,SAA8BC,GAC1B,GAAInmD,MAAM6I,QAAQs9C,GACd,OAAOA,EAAmB1vB,IAAIouB,IA0FlCO,mBACAgB,kBA9DJ,SAA2BC,GACvB,IAAKrmD,MAAM6I,QAAQw9C,GACf,MAAO,GAEX,IAAI/0C,EAAS,GACb,IAAK,IAAIyB,KAASszC,EACd/0C,EAAOlT,KAAKgnD,EAAiBryC,IAEjC,OAAOzB,M,6BC/rBfzc,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQ2S,aAAU,EAClB,MAAM/J,EAAmC,EAAQ,GA0DjD5I,EAAQ2S,QAzDR,MACI,YAAY0/C,GACRpuD,KAAKouD,aAAeA,EACpBpuD,KAAK2xC,aAAU7wC,EACfd,KAAKquD,uBAAoBvtD,EACzBd,KAAKsuD,eAAYxtD,EACjBd,KAAKuuD,UAAOztD,EAEhB,QAAQytD,EAAMC,EAAQxuD,KAAKouD,cAsBvB,OArBApuD,KAAKuuD,KAAOA,EACRC,GAAS,GACTxuD,KAAKyuD,gBAEJzuD,KAAKquD,oBACNruD,KAAKquD,kBAAoB,IAAIrtD,QAASC,IAClCjB,KAAKsuD,UAAYrtD,IAClBoO,KAAK,KACJrP,KAAKquD,uBAAoBvtD,EACzBd,KAAKsuD,eAAYxtD,EACjB,IAAIsY,EAASpZ,KAAKuuD,OAElB,OADAvuD,KAAKuuD,UAAOztD,EACLsY,MAGXo1C,GAAS,QAAsB,IAAjBxuD,KAAK2xC,WACnB3xC,KAAK2xC,QAAUhtC,EAAiCU,MAAM44B,MAAMhI,WAAW,KACnEj2B,KAAK2xC,aAAU7wC,EACfd,KAAKsuD,eAAUxtD,IAChB0tD,GAAS,EAAIA,EAAQxuD,KAAKouD,eAE1BpuD,KAAKquD,kBAEhB,gBACI,IAAKruD,KAAKquD,kBACN,OAEJruD,KAAKyuD,gBACL,IAAIr1C,EAASpZ,KAAKuuD,OAIlB,OAHAvuD,KAAKquD,uBAAoBvtD,EACzBd,KAAKsuD,eAAYxtD,EACjBd,KAAKuuD,UAAOztD,EACLsY,EAEX,cACI,YAAwB,IAAjBpZ,KAAK2xC,QAEhB,SACI3xC,KAAKyuD,gBACLzuD,KAAKquD,uBAAoBvtD,EAE7B,qBACyB,IAAjBd,KAAK2xC,UACLhtC,EAAiCU,MAAM44B,MAAMC,aAAal+B,KAAK2xC,SAC/D3xC,KAAK2xC,aAAU7wC,M,6BCxD3BnE,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQ89B,0BAAuB,EAC/B,MAAMn1B,EAAW,EAAQ,GACnBC,EAAmC,EAAQ,GAC3CyvB,EAAW,EAAQ,GACzB,SAASjrB,EAAOC,EAAQ5L,GAIpB,YAHoB,IAAhB4L,EAAO5L,KACP4L,EAAO5L,GAAO,IAEX4L,EAAO5L,GAElB,MAAMq8B,UAA6BzF,EAAS/vB,oBACxC,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiCsgD,qBAAqBn5C,MAExE,uBAAuBsH,GACnBjK,EAAOA,EAAOiK,EAAa,gBAAiB,iBAAiB9G,qBAAsB,EAEvF,WAAWD,EAAc1B,GACrB,IAAKG,EAAItM,GAAWwB,KAAK0uD,gBAAgB/jD,EAAkB0B,EAAasiD,eACnE7jD,GAAOtM,GAGZwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAIA,EAAIJ,gBAAiBlM,IAE5D,yBAAyBA,GACrB,MAAMmU,EAAW,CACbi8C,0BAA2B,CAAChR,EAAOjpC,EAASD,KACxC,MAAMjJ,EAASzL,KAAK4J,QACdglD,EAA4B,CAAChR,EAAOjpC,EAASD,KAC/C,MAAMm6C,EAAgB,CAClBjR,QACAvzC,aAAcoB,EAAOS,uBAAuB6O,yBAAyBpG,EAAQrJ,UAC7EuP,MAAOpP,EAAOS,uBAAuB8O,QAAQrG,EAAQkG,QAEzD,OAAOpP,EAAO2D,YAAYzK,EAAiCugD,yBAAyBp5C,KAAM+iD,EAAen6C,GAAOrF,KAAKrP,KAAKguD,qBAAqBvwD,KAAKuC,MAAQG,GACjJsL,EAAOqJ,oBAAoBnQ,EAAiCugD,yBAAyBp5C,KAAM3L,EAAO,QAG3G6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAW4iD,0BACZ5iD,EAAW4iD,0BAA0BhR,EAAOjpC,EAASD,EAAOk6C,GAC5DA,EAA0BhR,EAAOjpC,EAASD,IAEpDo6C,sBAAuB,CAACxjD,EAAUoJ,KAC9B,MAAMjJ,EAASzL,KAAK4J,QACdklD,EAAwB,CAACxjD,EAAUoJ,KACrC,MAAMm6C,EAAgB,CAClBxkD,aAAcoB,EAAOS,uBAAuB6O,yBAAyBzP,IAEzE,OAAOG,EAAO2D,YAAYzK,EAAiCsgD,qBAAqBn5C,KAAM+iD,EAAen6C,GAAOrF,KAAKrP,KAAK8tD,oBAAoBrwD,KAAKuC,MAAQG,GAC5IsL,EAAOqJ,oBAAoBnQ,EAAiCugD,yBAAyBp5C,KAAM3L,EAAO,QAG3G6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAW8iD,sBACZ9iD,EAAW8iD,sBAAsBxjD,EAAUoJ,EAAOo6C,GAClDA,EAAsBxjD,EAAUoJ,KAG9C,MAAO,CAAChQ,EAAS6F,UAAUwkD,sBAAsBvwD,EAAQmM,iBAAkBgI,GAAWA,GAE1F,QAAQirC,GACJ,OAAO,IAAIl5C,EAASmE,MAAM+0C,EAAMJ,IAAKI,EAAMH,MAAOG,EAAMF,KAAME,EAAMD,OAExE,oBAAoBoQ,GAChB,OAAIjmD,MAAM6I,QAAQo9C,GACPA,EAAiBxvB,IAAImuB,GACjB,IAAIhoD,EAASq3C,iBAAiB/7C,KAAK4J,QAAQ4F,uBAAuBwL,QAAQ0xC,EAAG7xC,OAAQ7a,KAAKwsD,QAAQE,EAAG9O,SAG7G,GAEX,qBAAqBqQ,GACjB,OAAInmD,MAAM6I,QAAQs9C,GACPA,EAAmB1vB,IAAItK,IAC1B,IAAI24B,EAAe,IAAIloD,EAASs3C,kBAAkB/nB,EAAG6K,OAGrD,OAFA8tB,EAAa9O,oBAAsB99C,KAAK4J,QAAQ4F,uBAAuBC,YAAYwkB,EAAG6pB,qBACtF8O,EAAa/O,SAAW79C,KAAK4J,QAAQ4F,uBAAuB05C,WAAWj1B,EAAG4pB,UACnE+O,IAGR,IAGf7wD,EAAQ89B,qBAAuBA,G,6BCrF/Bl9B,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQ69B,2BAAwB,EAChC,MAAMl1B,EAAW,EAAQ,GACnBC,EAAmC,EAAQ,GAC3CyvB,EAAW,EAAQ,GACzB,SAASjrB,EAAOC,EAAQ5L,GAIpB,YAHoB,IAAhB4L,EAAO5L,KACP4L,EAAO5L,GAAO,IAEX4L,EAAO5L,GAElB,MAAMo8B,UAA8BxF,EAAS/vB,oBACzC,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiC8/C,sBAAsB34C,MAEzE,uBAAuBsH,GACnB,IAAI47C,EAAwB7lD,EAAOA,EAAOiK,EAAa,gBAAiB,kBACxE47C,EAAsB1iD,qBAAsB,EAC5C0iD,EAAsB/3C,aAAc,EAExC,WAAW5K,EAAc1B,GACrB,IAAKG,EAAItM,GAAWwB,KAAK0uD,gBAAgB/jD,EAAkB0B,EAAa4iD,wBACnEnkD,GAAOtM,GAGZwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAIA,EAAIJ,gBAAiBlM,IAE5D,yBAAyBA,GACrB,MAAMmU,EAAW,CACbu8C,sBAAuB,CAAC5jD,EAAUmJ,EAAUC,KACxC,MAAMjJ,EAASzL,KAAK4J,QACdslD,EAAwB,CAAC5jD,EAAUmJ,EAAUC,IACxCjJ,EAAO2D,YAAYzK,EAAiC8/C,sBAAsB34C,KAAML,EAAOS,uBAAuB0J,6BAA6BtK,EAAUmJ,GAAWC,GAAOrF,KAAK5D,EAAO+D,uBAAuB4H,mBAAqBjX,GAC3NsL,EAAOqJ,oBAAoBnQ,EAAiC8/C,sBAAsB34C,KAAM3L,EAAO,OAGxG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAWkjD,sBACZljD,EAAWkjD,sBAAsB5jD,EAAUmJ,EAAUC,EAAOw6C,GAC5DA,EAAsB5jD,EAAUmJ,EAAUC,KAGxD,MAAO,CAAChQ,EAAS6F,UAAU4kD,+BAA+B3wD,EAAQmM,iBAAkBgI,GAAWA,IAGvG5W,EAAQ69B,sBAAwBA,G,6BC7ChCj9B,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQ49B,2BAAwB,EAChC,MAAMj1B,EAAW,EAAQ,GACnBC,EAAmC,EAAQ,GAC3CyvB,EAAW,EAAQ,GACzB,SAASjrB,EAAOC,EAAQ5L,GAIpB,YAHoB,IAAhB4L,EAAO5L,KACP4L,EAAO5L,GAAO,IAEX4L,EAAO5L,GAElB,MAAMm8B,UAA8BvF,EAAS/vB,oBACzC,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiCggD,sBAAsB74C,MAEzE,uBAAuBsH,GACnBjK,EAAOA,EAAOiK,EAAa,gBAAiB,kBAAkB9G,qBAAsB,EACpF,IAAI8iD,EAAwBjmD,EAAOA,EAAOiK,EAAa,gBAAiB,kBACxEg8C,EAAsB9iD,qBAAsB,EAC5C8iD,EAAsBn4C,aAAc,EAExC,WAAW5K,EAAc1B,GACrB,IAAKG,EAAItM,GAAWwB,KAAK0uD,gBAAgB/jD,EAAkB0B,EAAagjD,wBACnEvkD,GAAOtM,GAGZwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAIA,EAAIJ,gBAAiBlM,IAE5D,yBAAyBA,GACrB,MAAMmU,EAAW,CACb28C,sBAAuB,CAAChkD,EAAUmJ,EAAUC,KACxC,MAAMjJ,EAASzL,KAAK4J,QACd0lD,EAAwB,CAAChkD,EAAUmJ,EAAUC,IACxCjJ,EAAO2D,YAAYzK,EAAiCggD,sBAAsB74C,KAAML,EAAOS,uBAAuB0J,6BAA6BtK,EAAUmJ,GAAWC,GAAOrF,KAAK5D,EAAO+D,uBAAuB4H,mBAAqBjX,GAC3NsL,EAAOqJ,oBAAoBnQ,EAAiCggD,sBAAsB74C,KAAM3L,EAAO,OAGxG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAWsjD,sBACZtjD,EAAWsjD,sBAAsBhkD,EAAUmJ,EAAUC,EAAO46C,GAC5DA,EAAsBhkD,EAAUmJ,EAAUC,KAGxD,MAAO,CAAChQ,EAAS6F,UAAUglD,+BAA+B/wD,EAAQmM,iBAAkBgI,GAAWA,IAGvG5W,EAAQ49B,sBAAwBA,G,6BC9ChCh9B,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQ+9B,wBAA0B/9B,EAAQyzD,eAAY,EACtD,MAAMvqD,EAAO,EAAQ,IACfP,EAAW,EAAQ,GACnBC,EAAmC,EAAQ,GACjD,SAAS8qD,EAAOrmD,EAAQ5L,GACpB,QAAe,IAAX4L,EAGJ,OAAOA,EAAO5L,GAElB,SAASgyD,EAAUtM,EAAMC,GACrB,OAAOD,EAAKtZ,OAAO9wB,GAAWqqC,EAAM5iC,QAAQzH,GAAW,GAE3D/c,EAAQyzD,UAAYA,EAuHpBzzD,EAAQ+9B,wBAtHR,MACI,YAAYlwB,GACR5J,KAAK4J,QAAUA,EACf5J,KAAKof,WAAa,IAAIjV,IAE1B,eACI,OAAOxF,EAAiCmgD,sCAAsCh5C,KAElF,qBAAqBoC,GACjB,IAAIuc,EAAU/lB,EAASiH,UAAUsd,iBACjCjpB,KAAK0vD,sBAAsBjlC,GAEvBvc,EAAO+a,sBADK,IAAZwB,EAC0B,KAGAA,EAAQ8T,IAAI7T,GAAU1qB,KAAK2vD,WAAWjlC,IAGxE,sBAAsBklC,GAClB5vD,KAAK6vD,gBAAkBD,EAE3B,uBAAuBvjD,GACnBA,EAAaV,UAAYU,EAAaV,WAAa,GACnDU,EAAaV,UAAUsd,kBAAmB,EAE9C,WAAW5c,GACP,IAAIZ,EAASzL,KAAK4J,QAClB6B,EAAOga,UAAU9gB,EAAiCkgD,wBAAwB/4C,KAAO4I,IAC7E,IAAIuU,EAAmB,KACnB,IAAIwB,EAAU/lB,EAASiH,UAAUsd,iBACjC,YAAgB,IAAZwB,EACO,KAEEA,EAAQ8T,IAAK7T,GACf1qB,KAAK2vD,WAAWjlC,KAI3B1e,EAAaP,EAAOM,cAAcC,WAAWL,UACjD,OAAOK,GAAcA,EAAWid,iBAC1Bjd,EAAWid,iBAAiBvU,EAAOuU,GACnCA,MAEV,IACIne,EADA5N,EAAQuyD,EAAOA,EAAOA,EAAOpjD,EAAc,aAAc,oBAAqB,uBAE7D,iBAAVnP,EACP4N,EAAK5N,GAEU,IAAVA,IACL4N,EAAK7F,EAAKyH,gBAEV5B,GACA9K,KAAKwJ,SAASxJ,KAAK0J,SAAU,CACzBoB,GAAIA,EACJJ,qBAAiB5J,IAI7B,iBAAiB8uD,GACb,GAAI5vD,KAAK6vD,iBAAmBD,EAAyB,CACjD,MAAME,EAAUN,EAAUxvD,KAAK6vD,gBAAiBD,GAC1CG,EAAQP,EAAUI,EAAyB5vD,KAAK6vD,kBAClDE,EAAM1pD,OAAS,GAAKypD,EAAQzpD,OAAS,IACrCrG,KAAKgwD,YAAYD,EAAOD,QAGvB9vD,KAAK6vD,gBACV7vD,KAAKgwD,YAAY,GAAIhwD,KAAK6vD,iBAErBD,GACL5vD,KAAKgwD,YAAYJ,EAAyB,IAGlD,YAAYK,EAAcC,GACtB,IAAIhiD,EAAS,CACTJ,MAAO,CACHiiD,MAAOE,EAAa1xB,IAAI7T,GAAU1qB,KAAK2vD,WAAWjlC,IAClDolC,QAASI,EAAe3xB,IAAI7T,GAAU1qB,KAAK2vD,WAAWjlC,MAG9D1qB,KAAK4J,QAAQoB,iBAAiBrG,EAAiCmgD,sCAAsCh5C,KAAMoC,GAE/G,SAASpI,EAAU2E,GACf,IAAIK,EAAKL,EAAKK,GACVW,EAASzL,KAAK4J,QACd2I,EAAa7N,EAASiH,UAAUwkD,4BAA6BriD,IAC7D,IAAIsiD,EAA6BtiD,IAC7B9N,KAAKgwD,YAAYliD,EAAMiiD,MAAOjiD,EAAMgiD,UAEpC9jD,EAAaP,EAAOM,cAAcC,WAAWL,UACjDK,GAAcA,EAAWokD,0BACnBpkD,EAAWokD,0BAA0BtiD,EAAOsiD,GAC5CA,EAA0BtiD,KAEpC9N,KAAKof,WAAWvU,IAAIC,EAAIyH,GACxBvS,KAAKqwD,iBAAiB3rD,EAASiH,UAAUsd,kBAE7C,WAAWne,GACP,IAAIyH,EAAavS,KAAKof,WAAWtiB,IAAIgO,QAClB,IAAfyH,IAGJvS,KAAKof,WAAWjU,OAAOL,GACvByH,EAAW3Q,WAEf,UACI,IAAK,IAAI2Q,KAAcvS,KAAKof,WAAWrU,SACnCwH,EAAW3Q,UAEf5B,KAAKof,WAAW/T,QAEpB,WAAWgV,GACP,YAAwB,IAApBA,EACO,KAEJ,CAAExT,IAAK7M,KAAK4J,QAAQsC,uBAAuB8F,MAAMqO,EAAgBxT,KAAMrQ,KAAM6jB,EAAgB7jB,S,6BClI5GG,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQg+B,yBAAsB,EAC9B,MAAMr1B,EAAW,EAAQ,GACnBC,EAAmC,EAAQ,GAC3CyvB,EAAW,EAAQ,GACzB,SAASjrB,EAAOC,EAAQ5L,GAIpB,YAHoB,IAAhB4L,EAAO5L,KACP4L,EAAO5L,GAAO,IAEX4L,EAAO5L,GAElB,MAAMu8B,UAA4B3F,EAAS/vB,oBACvC,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiCygD,oBAAoBt5C,MAEvE,uBAAuBsH,GACnB,IAAIR,EAAazJ,EAAOA,EAAOiK,EAAa,gBAAiB,gBAC7DR,EAAWtG,qBAAsB,EACjCsG,EAAW09C,WAAa,IACxB19C,EAAW29C,iBAAkB,EAEjC,WAAWlkD,EAAc1B,GACrB,IAAKG,EAAItM,GAAWwB,KAAK0uD,gBAAgB/jD,EAAkB0B,EAAamkD,sBACnE1lD,GAAOtM,GAGZwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAIA,EAAIJ,gBAAiBlM,IAE5D,yBAAyBA,GACrB,MAAMmU,EAAW,CACb89C,qBAAsB,CAACnlD,EAAUqJ,EAASD,KACtC,MAAMjJ,EAASzL,KAAK4J,QACd6mD,EAAuB,CAACnlD,EAAUiyB,EAAG7oB,KACvC,MAAMm6C,EAAgB,CAClBxkD,aAAcoB,EAAOS,uBAAuB6O,yBAAyBzP,IAEzE,OAAOG,EAAO2D,YAAYzK,EAAiCygD,oBAAoBt5C,KAAM+iD,EAAen6C,GAAOrF,KAAK0qB,EAAoB6zB,gBAAkBztD,GAC3IsL,EAAOqJ,oBAAoBnQ,EAAiCygD,oBAAoBt5C,KAAM3L,EAAO,QAGtG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAWykD,qBACZzkD,EAAWykD,qBAAqBnlD,EAAUqJ,EAASD,EAAO+7C,GAC1DA,EAAqBnlD,EAAUqJ,EAASD,KAGtD,MAAO,CAAChQ,EAAS6F,UAAUmmD,6BAA6BlyD,EAAQmM,iBAAkBgI,GAAWA,GAEjG,0BAA0BvB,GACtB,GAAIA,EACA,OAAQA,GACJ,KAAKzM,EAAiCs3C,iBAAiB6Q,QACnD,OAAOpoD,EAASu3C,iBAAiB6Q,QACrC,KAAKnoD,EAAiCs3C,iBAAiB8Q,QACnD,OAAOroD,EAASu3C,iBAAiB8Q,QACrC,KAAKpoD,EAAiCs3C,iBAAiB+Q,OACnD,OAAOtoD,EAASu3C,iBAAiB+Q,QAKjD,uBAAuBa,GACnB,OAAI/lD,MAAM6I,QAAQk9C,GACPA,EAActvB,IAAIxhC,GACd,IAAI2H,EAASw3C,aAAan/C,EAAEghD,UAAWhhD,EAAEihD,QAASjkB,EAAoB8yB,mBAAmB9vD,EAAEqU,QAGnG,IAGfrV,EAAQg+B,oBAAsBA,G,6BCtE9Bp9B,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQi+B,wBAAqB,EAC7B,MAAMt1B,EAAW,EAAQ,GACnBC,EAAmC,EAAQ,GAC3CyvB,EAAW,EAAQ,GACzB,SAASjrB,EAAOC,EAAQ5L,GAIpB,YAHoB,IAAhB4L,EAAO5L,KACP4L,EAAO5L,GAAO,IAEX4L,EAAO5L,GAElB,MAAMw8B,UAA2B5F,EAAS/vB,oBACtC,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiC2gD,mBAAmBx5C,MAEtE,uBAAuBsH,GACnB,MAAMu9C,EAAqBxnD,EAAOA,EAAOiK,EAAa,gBAAiB,eACvEu9C,EAAmBrkD,qBAAsB,EACzCqkD,EAAmB15C,aAAc,EAErC,WAAW5K,EAAc1B,GACrB,MAAOG,EAAItM,GAAWwB,KAAK0uD,gBAAgB/jD,EAAkB0B,EAAaukD,qBACrE9lD,GAAOtM,GAGZwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAIA,EAAIJ,gBAAiBlM,IAE5D,yBAAyBA,GACrB,MAAMmU,EAAW,CACbk+C,mBAAoB,CAACvlD,EAAUmJ,EAAUC,KACrC,MAAMjJ,EAASzL,KAAK4J,QACdinD,EAAqB,CAACvlD,EAAUmJ,EAAUC,IACrCjJ,EAAO2D,YAAYzK,EAAiC2gD,mBAAmBx5C,KAAML,EAAOS,uBAAuB0J,6BAA6BtK,EAAUmJ,GAAWC,GAAOrF,KAAK5D,EAAO+D,uBAAuBk+C,oBAAsBvtD,GACzNsL,EAAOqJ,oBAAoBnQ,EAAiC2gD,mBAAmBx5C,KAAM3L,EAAO,OAGrG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAW6kD,mBACZ7kD,EAAW6kD,mBAAmBvlD,EAAUmJ,EAAUC,EAAOm8C,GACzDA,EAAmBvlD,EAAUmJ,EAAUC,KAGrD,MAAO,CAAChQ,EAAS6F,UAAUumD,4BAA4BtyD,EAAQmM,iBAAkBgI,GAAWA,IAGpG5W,EAAQi+B,mBAAqBA,G,6BC7C7Br9B,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQk+B,2BAAwB,EAChC,MAAMv1B,EAAW,EAAQ,GACnBC,EAAmC,EAAQ,GAC3CyvB,EAAW,EAAQ,GACzB,SAASjrB,EAAOC,EAAQ5L,GAIpB,YAHoB,IAAhB4L,EAAO5L,KACP4L,EAAO5L,GAAOb,OAAOY,OAAO,OAEzB6L,EAAO5L,GAElB,MAAMy8B,UAA8B7F,EAAS/vB,oBACzC,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiC6gD,sBAAsB15C,MAEzE,uBAAuBsH,GACFjK,EAAOA,EAAOiK,EAAa,gBAAiB,kBAClD9G,qBAAsB,EAErC,WAAWD,EAAc1B,GACrB,IAAKG,EAAItM,GAAWwB,KAAK0uD,gBAAgB/jD,EAAkB0B,EAAa0kD,wBACnEjmD,GAAOtM,GAGZwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAIA,EAAIJ,gBAAiBlM,IAE5D,yBAAyBA,GACrB,MAAMmU,EAAW,CACbq+C,uBAAwB,CAAC1lD,EAAU2lD,EAAWv8C,KAC1C,MAAMjJ,EAASzL,KAAK4J,QACdonD,EAAyB,CAAC1lD,EAAU2lD,EAAWv8C,KACjD,MAAMm6C,EAAgB,CAClBxkD,aAAcoB,EAAOS,uBAAuB6O,yBAAyBzP,GACrE2lD,UAAWxlD,EAAOS,uBAAuB49C,YAAYmH,IAEzD,OAAOxlD,EAAO2D,YAAYzK,EAAiC6gD,sBAAsB15C,KAAM+iD,EAAen6C,GAAOrF,KAAM6hD,GAAWzlD,EAAO+D,uBAAuB0+C,kBAAkBgD,GAAU/wD,GAC7KsL,EAAOqJ,oBAAoBnQ,EAAiC6gD,sBAAsB15C,KAAM3L,EAAO,QAGxG6L,EAAaP,EAAOM,cAAcC,WACxC,OAAOA,EAAWglD,uBACZhlD,EAAWglD,uBAAuB1lD,EAAU2lD,EAAWv8C,EAAOs8C,GAC9DA,EAAuB1lD,EAAU2lD,EAAWv8C,KAG1D,MAAO,CAAChQ,EAAS6F,UAAU4mD,+BAA+B3yD,EAAQmM,iBAAkBgI,GAAWA,IAGvG5W,EAAQk+B,sBAAwBA,G,6BChDhCt9B,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQm+B,qBAAkB,EAC1B,MAAMv1B,EAAmC,EAAQ,GAC3CO,EAAiB,EAAQ,IAsB/BnJ,EAAQm+B,gBAfR,MACI,YAAYtwB,GACR5J,KAAK4J,QAAUA,EAEnB,uBAAuByC,GAV3B,IAAgBjD,EAAQ5L,GAAR4L,EAWDiD,EAXS7O,EAWK,cAVL,IAAhB4L,EAAO5L,KACP4L,EAAO5L,GAAOb,OAAOY,OAAO,OAEzB6L,EAAO5L,IAOqB+b,kBAAmB,EAEtD,aACiBvZ,KAAK4J,QAIX6b,UAAU9gB,EAAiC+gD,8BAA8B55C,KAH3DoC,IACjB,IAAIhJ,EAAekkB,aAAappB,KAAK4J,QAASsE,EAAOwG,Y,6BCpBjE/X,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQo+B,0BAAuB,EAC/B,MAAMz1B,EAAW,EAAQ,GACnBC,EAAmC,EAAQ,GAC3CyvB,EAAW,EAAQ,GACzB,SAASjrB,EAAOC,EAAQ5L,GAIpB,YAHoB,IAAhB4L,EAAO5L,KACP4L,EAAO5L,GAAO,IAEX4L,EAAO5L,GAElB,IAAI4zD,EA2CAC,GA1CJ,SAAWD,GACP,SAASE,EAAoBC,EAAWr8C,GACpC,GAAa,OAATA,EACA,OAEJ,IAAIkE,EAAS,IAAI1U,EAAS8sD,kBAAkBD,EAAUzG,aAAa51C,EAAK9D,MAAO8D,EAAK1Y,KAAM0Y,EAAK0sC,QAAU,GAAI2P,EAAUv/C,MAAMkD,EAAKrI,KAAM0kD,EAAUv2C,QAAQ9F,EAAK2F,OAAQ02C,EAAUv2C,QAAQ9F,EAAK2sC,iBAI9L,YAHkB/gD,IAAdoU,EAAK6sC,OACL3oC,EAAO2oC,KAAOwP,EAAUxG,aAAa71C,EAAK6sC,OAEvC3oC,EAUX,SAASq4C,EAA4BF,EAAWr8C,GAC5C,OAAO,IAAIxQ,EAASgtD,0BAA0BJ,EAAoBC,EAAWr8C,EAAKo1B,MAAOinB,EAAUpE,SAASj4C,EAAKy8C,aAUrH,SAASC,EAA4BL,EAAWr8C,GAC5C,OAAO,IAAIxQ,EAASmtD,0BAA0BP,EAAoBC,EAAWr8C,EAAK01B,IAAK2mB,EAAUpE,SAASj4C,EAAKy8C,aApBnHP,EAAcE,oBAAsBA,EAOpCF,EAAcU,qBANd,SAA8BP,EAAW7yB,GACrC,GAAc,OAAVA,EAGJ,OAAOA,EAAMH,IAAIrpB,GAAQo8C,EAAoBC,EAAWr8C,KAM5Dk8C,EAAcK,4BAA8BA,EAO5CL,EAAcW,6BANd,SAAsCR,EAAW7yB,GAC7C,GAAc,OAAVA,EAGJ,OAAOA,EAAMH,IAAIrpB,GAAQu8C,EAA4BF,EAAWr8C,KAMpEk8C,EAAcQ,4BAA8BA,EAO5CR,EAAcY,6BANd,SAAsCT,EAAW7yB,GAC7C,GAAc,OAAVA,EAGJ,OAAOA,EAAMH,IAAIrpB,GAAQ08C,EAA4BL,EAAWr8C,KAtCxE,CAyCGk8C,IAAkBA,EAAgB,KAErC,SAAWC,GAiBPA,EAAcC,oBAhBd,SAA6BC,EAAWr0D,GACpC,MAAMkc,EAAS,CACX5c,KAAMU,EAAMV,KACZ4U,KAAMmgD,EAAUzG,aAAa5tD,EAAMkU,MACnCvE,IAAK0kD,EAAUv/C,MAAM9U,EAAM2P,KAC3BgO,MAAO02C,EAAUv2C,QAAQ9d,EAAM2d,OAC/BgnC,eAAgB0P,EAAUv2C,QAAQ9d,EAAM2kD,iBAQ5C,YANqB/gD,IAAjB5D,EAAM0kD,QAAwB1kD,EAAM0kD,OAAOv7C,OAAS,IACpD+S,EAAOwoC,OAAS1kD,EAAM0kD,aAEP9gD,IAAf5D,EAAM6kD,OACN3oC,EAAO2oC,KAAOwP,EAAUxG,aAAa7tD,EAAM6kD,OAExC3oC,GAff,CAkBGi4C,IAAkBA,EAAgB,KACrC,MAAMY,EACF,YAAYxmD,GACRzL,KAAKyL,OAASA,EACdzL,KAAKgM,WAAaP,EAAOM,cAAcC,WAE3C,qBAAqBV,EAAUmJ,EAAUC,GACrC,MAAMjJ,EAASzL,KAAKyL,OACdO,EAAahM,KAAKgM,WAClBkmD,EAAuB,CAAC5mD,EAAUmJ,EAAUC,KAC9C,MAAMxG,EAASzC,EAAOS,uBAAuB0J,6BAA6BtK,EAAUmJ,GACpF,OAAOhJ,EAAO2D,YAAYzK,EAAiCqhD,4BAA4Bl6C,KAAMoC,EAAQwG,GAAOrF,KAAM+J,GACvGg4C,EAAcU,qBAAqB9xD,KAAKyL,OAAO+D,uBAAwB4J,GAC9EjZ,GACOsL,EAAOqJ,oBAAoBnQ,EAAiCqhD,4BAA4Bl6C,KAAM3L,EAAO,QAGpH,OAAO6L,EAAWkmD,qBACZlmD,EAAWkmD,qBAAqB5mD,EAAUmJ,EAAUC,EAAOw9C,GAC3DA,EAAqB5mD,EAAUmJ,EAAUC,GAEnD,kCAAkCQ,EAAMR,GACpC,MAAMjJ,EAASzL,KAAKyL,OACdO,EAAahM,KAAKgM,WAClBmmD,EAAoC,CAACj9C,EAAMR,KAC7C,MAAMxG,EAAS,CACXgH,KAAMm8C,EAAcC,oBAAoB7lD,EAAOS,uBAAwBgJ,IAE3E,OAAOzJ,EAAO2D,YAAYzK,EAAiCmhD,kCAAkCh6C,KAAMoC,EAAQwG,GAAOrF,KAAM+J,GAC7Gg4C,EAAcW,6BAA6BtmD,EAAO+D,uBAAwB4J,GACjFjZ,GACOsL,EAAOqJ,oBAAoBnQ,EAAiCmhD,kCAAkCh6C,KAAM3L,EAAO,QAG1H,OAAO6L,EAAWmmD,kCACZnmD,EAAWmmD,kCAAkCj9C,EAAMR,EAAOy9C,GAC1DA,EAAkCj9C,EAAMR,GAElD,kCAAkCQ,EAAMR,GACpC,MAAMjJ,EAASzL,KAAKyL,OACdO,EAAahM,KAAKgM,WAClBomD,EAAoC,CAACl9C,EAAMR,KAC7C,MAAMxG,EAAS,CACXgH,KAAMm8C,EAAcC,oBAAoB7lD,EAAOS,uBAAwBgJ,IAE3E,OAAOzJ,EAAO2D,YAAYzK,EAAiCohD,kCAAkCj6C,KAAMoC,EAAQwG,GAAOrF,KAAM+J,GAC7Gg4C,EAAcY,6BAA6BvmD,EAAO+D,uBAAwB4J,GACjFjZ,GACOsL,EAAOqJ,oBAAoBnQ,EAAiCohD,kCAAkCj6C,KAAM3L,EAAO,QAG1H,OAAO6L,EAAWqmD,iCACZrmD,EAAWqmD,iCAAiCn9C,EAAMR,EAAO09C,GACzDA,EAAkCl9C,EAAMR,IAGtD,MAAMylB,UAA6B/F,EAAS/vB,oBACxC,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiCqhD,4BAA4Bl6C,MAE/E,uBAAuBgO,GAEA3Q,EAAOA,EADN2Q,EAC0B,gBAAiB,iBACpDxN,qBAAsB,EAErC,WAAWD,EAAc1B,GACrB,MAAOG,EAAItM,GAAWwB,KAAK0uD,gBAAgB/jD,EAAkB0B,EAAaimD,uBACrExnD,GAAOtM,GAGZwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAIA,EAAIJ,gBAAiBlM,IAE5D,yBAAyBA,GACrB,MAAMiN,EAASzL,KAAK4J,QACd+I,EAAW,IAAIs/C,EAAsBxmD,GAC3C,MAAO,CAAC/G,EAAS6F,UAAUgoD,8BAA8B/zD,EAAQmM,iBAAkBgI,GAAWA,IAGtG5W,EAAQo+B,qBAAuBA,G,6BCvJ/Bx9B,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQq+B,2BAAwB,EAChC,MAAMo4B,EAAS,EAAQ,GACjBp+B,EAAW,EAAQ,GACnBzvB,EAAmC,EAAQ,GACjD,SAASwE,EAAOC,EAAQ5L,GAIpB,YAHoB,IAAhB4L,EAAO5L,KACP4L,EAAO5L,GAAO,IAEX4L,EAAO5L,GAElB,IAAI4zD,GACJ,SAAWA,GAQP,SAASqB,EAAqBv1D,GAC1B,OAAO,IAAIs1D,EAAOE,mBAAmBx1D,EAAM+vB,MAAO/vB,EAAMy1D,iBAA4B7xD,IAAf5D,EAAMuN,KAAqB,IAAImoD,YAAY11D,EAAMuN,WAAQ3J,GAFlIswD,EAAcyB,iBANd,SAA0B31D,GACtB,GAAIA,QAGJ,OAAO,IAAIs1D,EAAO7W,eAAe,IAAIiX,YAAY11D,EAAMuN,MAAOvN,EAAMkqD,WAMxEgK,EAAcqB,qBAAuBA,EAOrCrB,EAAc0B,sBANd,SAA+B51D,GAC3B,GAAIA,QAGJ,OAAO,IAAIs1D,EAAOO,oBAAoB71D,EAAMoS,MAAMivB,IAAIk0B,GAAuBv1D,EAAMkqD,WAMvFgK,EAAc4B,SAHd,SAAkB91D,GACd,OAAOA,GApBf,CAuBGk0D,IAAkBA,EAAgB,KACrC,MAAMh3B,UAA8BhG,EAAS/vB,oBACzC,YAAYoH,GACR3M,MAAM2M,EAAQ9G,EAAiC02C,SAASC,sBAAsBxvC,MAElF,uBAAuBgO,GACnB,MACMlH,EAAazJ,EAAOA,EADN2Q,EAC0B,gBAAiB,kBAC/DlH,EAAWtG,qBAAsB,EACjCsG,EAAWqgD,WAAa,CACpBtuD,EAAiC02C,SAASI,mBAAmByX,UAC7DvuD,EAAiC02C,SAASI,mBAAmB3vC,KAC7DnH,EAAiC02C,SAASI,mBAAmB0X,MAC7DxuD,EAAiC02C,SAASI,mBAAmB2X,KAC7DzuD,EAAiC02C,SAASI,mBAAmB4X,UAC7D1uD,EAAiC02C,SAASI,mBAAmB6X,OAC7D3uD,EAAiC02C,SAASI,mBAAmB8X,cAC7D5uD,EAAiC02C,SAASI,mBAAmB+X,UAC7D7uD,EAAiC02C,SAASI,mBAAmBgY,SAC7D9uD,EAAiC02C,SAASI,mBAAmB79C,SAC7D+G,EAAiC02C,SAASI,mBAAmBiY,WAC7D/uD,EAAiC02C,SAASI,mBAAmB3tC,MAC7DnJ,EAAiC02C,SAASI,mBAAmBkY,SAC7DhvD,EAAiC02C,SAASI,mBAAmBmY,OAC7DjvD,EAAiC02C,SAASI,mBAAmBoY,MAC7DlvD,EAAiC02C,SAASI,mBAAmBqY,QAC7DnvD,EAAiC02C,SAASI,mBAAmBsY,SAC7DpvD,EAAiC02C,SAASI,mBAAmBuY,QAC7DrvD,EAAiC02C,SAASI,mBAAmB1qC,OAC7DpM,EAAiC02C,SAASI,mBAAmBhyB,OAC7D9kB,EAAiC02C,SAASI,mBAAmBwY,OAC7DtvD,EAAiC02C,SAASI,mBAAmBvS,UAEjEt2B,EAAWshD,eAAiB,CACxBvvD,EAAiC02C,SAASK,uBAAuByY,YACjExvD,EAAiC02C,SAASK,uBAAuB0Y,WACjEzvD,EAAiC02C,SAASK,uBAAuB2Y,SACjE1vD,EAAiC02C,SAASK,uBAAuB4Y,OACjE3vD,EAAiC02C,SAASK,uBAAuBoG,WACjEn9C,EAAiC02C,SAASK,uBAAuB6Y,SACjE5vD,EAAiC02C,SAASK,uBAAuB5a,MACjEn8B,EAAiC02C,SAASK,uBAAuB8Y,aACjE7vD,EAAiC02C,SAASK,uBAAuB6F,cACjE58C,EAAiC02C,SAASK,uBAAuB+Y,gBAGzE,WAAW36C,EAAKnP,GACZ,MAAM0B,EAAeyN,GACdhP,EAAItM,GAAWwB,KAAK0uD,gBAAgB/jD,EAAkB0B,EAAaqoD,wBACrE5pD,GAAOtM,GAGZwB,KAAKwJ,SAASxJ,KAAK0J,SAAU,CAAEoB,GAAIA,EAAIJ,gBAAiBlM,IAE5D,yBAAyBA,GACrB,MACMm2D,EAAmB,CACrBC,8BAA+B,CAACtpD,EAAUoJ,KACtC,MAAMjJ,EAASzL,KAAK4J,QACdoC,EAAaP,EAAOM,cAAcC,WAClC4oD,EAAgC,CAACtpD,EAAUoJ,KAC7C,MAAMxG,EAAS,CACX7D,aAAcoB,EAAOS,uBAAuB6O,yBAAyBzP,IAEzE,OAAOG,EAAO2D,YAAYzK,EAAiC02C,SAASC,sBAAsBxvC,KAAMoC,EAAQwG,GAAOrF,KAAM+J,GAC1Gg4C,EAAcyB,iBAAiBz5C,GACtCjZ,GACOsL,EAAOqJ,oBAAoBnQ,EAAiC02C,SAASC,sBAAsBxvC,KAAM3L,EAAO,QAGvH,OAAO6L,EAAW4oD,8BACZ5oD,EAAW4oD,8BAA8BtpD,EAAUoJ,EAAOkgD,GAC1DA,EAA8BtpD,EAAUoJ,IAElDmgD,wCAnBiD/zD,IAA7BtC,EAAQm2D,kBAAsE,kBAA7Bn2D,EAAQm2D,mBAAqE,IAAnCn2D,EAAQm2D,iBAAiBrlD,MAoBlI,CAAChE,EAAUwpD,EAAkBpgD,KAC3B,MAAMjJ,EAASzL,KAAK4J,QACdoC,EAAaP,EAAOM,cAAcC,WAClC6oD,EAAqC,CAACvpD,EAAUwpD,EAAkBpgD,KACpE,MAAMxG,EAAS,CACX7D,aAAcoB,EAAOS,uBAAuB6O,yBAAyBzP,GACrEwpD,oBAEJ,OAAOrpD,EAAO2D,YAAYzK,EAAiC02C,SAASE,2BAA2BzvC,KAAMoC,EAAQwG,GAAOrF,KAAM+J,GAClHzU,EAAiC02C,SAASM,eAAe13C,GAAGmV,GACrDg4C,EAAcyB,iBAAiBz5C,GAG/Bg4C,EAAc0B,sBAAsB15C,GAE/CjZ,GACOsL,EAAOqJ,oBAAoBnQ,EAAiC02C,SAASE,2BAA2BzvC,KAAM3L,EAAO,QAG5H,OAAO6L,EAAW6oD,mCACZ7oD,EAAW6oD,mCAAmCvpD,EAAUwpD,EAAkBpgD,EAAOmgD,GACjFA,EAAmCvpD,EAAUwpD,EAAkBpgD,SAEvE5T,GAGJi0D,GAD6C,IAA1Bv2D,EAAQu2D,cAE3B,CACEC,mCAAoC,CAAC1pD,EAAUuP,EAAOnG,KAClD,MAAMjJ,EAASzL,KAAK4J,QACdoC,EAAaP,EAAOM,cAAcC,WAClCgpD,EAAqC,CAAC1pD,EAAUuP,EAAOnG,KACzD,MAAMxG,EAAS,CACX7D,aAAcoB,EAAOS,uBAAuB6O,yBAAyBzP,GACrEuP,MAAOpP,EAAOS,uBAAuB8O,QAAQH,IAEjD,OAAOpP,EAAO2D,YAAYzK,EAAiC02C,SAASG,2BAA2B1vC,KAAMoC,EAAQwG,GAAOrF,KAAM+J,GAC/Gg4C,EAAcyB,iBAAiBz5C,GACtCjZ,GACOsL,EAAOqJ,oBAAoBnQ,EAAiC02C,SAASG,2BAA2B1vC,KAAM3L,EAAO,QAG5H,OAAO6L,EAAWgpD,mCACZhpD,EAAWgpD,mCAAmC1pD,EAAUuP,EAAOnG,EAAOsgD,GACtEA,EAAmC1pD,EAAUuP,EAAOnG,UAGhE5T,EACAuwB,EAAc,GACd4jC,EAAS7D,EAAc4B,SAASx0D,EAAQy2D,QAK9C,OAJA5jC,EAAYnrB,KAAKssD,EAAOjoD,UAAU2qD,uCAAuC12D,EAAQmM,iBAAkBgqD,EAAkBM,SAC/Fn0D,IAAlBi0D,GACA1jC,EAAYnrB,KAAKssD,EAAOjoD,UAAU4qD,4CAA4C32D,EAAQmM,iBAAkBoqD,EAAeE,IAEpH,CAAC,IAAIzC,EAAOjyD,WAAW,IAAM8wB,EAAYzkB,QAAQsI,GAAQA,EAAKtT,YAAa,CAAE0J,SAAUqpD,EAAkB95C,MAAOk6C,KAG/Hh5D,EAAQq+B,sBAAwBA,G,6BCvKhCz9B,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtDnB,EAAQq6B,eAAY,EACpB,MAAMnC,EAAK,EAAQ,IACbmhC,EAAS,EAAQ,GACjBC,EAAkC,UAArBt1D,QAAQuC,SACrBgzD,EAAoC,WAArBv1D,QAAQuC,SACvBizD,EAAgC,UAArBx1D,QAAQuC,SAmCzBvG,EAAQq6B,UAlCR,SAAmBr2B,EAAS83B,GACxB,GAAIw9B,EACA,IAII,IAAI72D,EAAU,CACVk5B,MAAO,CAAC,OAAQ,OAAQ,WAM5B,OAJIG,IACAr5B,EAAQq5B,IAAMA,GAElB5D,EAAGuhC,aAAa,WAAY,CAAC,KAAM,KAAM,OAAQz1D,EAAQo2B,IAAI9zB,YAAa7D,IACnE,EAEX,MAAO85B,GACH,OAAO,MAGV,KAAIi9B,IAAWD,EAYhB,OADAv1D,EAAQm2B,KAAK,YACN,EAXP,IACI,IAAIu/B,EAAML,EAAO7yD,KAAKmzD,UAAW,uBAEjC,OADazhC,EAAG0hC,UAAUF,EAAK,CAAC11D,EAAQo2B,IAAI9zB,aAC9BlC,MAElB,MAAOm4B,GACH,OAAO,M,6BChCnBt8B,EAAOD,QAAU,EAAQ,I,6BCDzB,IAAI23B,EAAmB1zB,MAAQA,KAAK0zB,kBAAqB/2B,OAAOY,OAAS,SAAUb,EAAGL,EAAGs3B,EAAGC,QAC7E9yB,IAAP8yB,IAAkBA,EAAKD,GAC3Bh3B,OAAOC,eAAeF,EAAGk3B,EAAI,CAAE/2B,YAAY,EAAMC,IAAK,WAAa,OAAOT,EAAEs3B,OAC3E,SAAUj3B,EAAGL,EAAGs3B,EAAGC,QACT9yB,IAAP8yB,IAAkBA,EAAKD,GAC3Bj3B,EAAEk3B,GAAMv3B,EAAEs3B,KAEVE,EAAgB7zB,MAAQA,KAAK6zB,cAAiB,SAASx3B,EAAGN,GAC1D,IAAK,IAAIgC,KAAK1B,EAAa,YAAN0B,GAAoBhC,EAAQ+B,eAAeC,IAAI21B,EAAgB33B,EAASM,EAAG0B,IAEpGpB,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD22B,EAAa,EAAQ,GAAmC93B,GACxD83B,EAAa,EAAQ,GAAa93B,GAClC83B,EAAa,EAAQ,IAAmB93B,I,mGCbxC,aACA,QACA,QACA,QACA,QAEA,IAAU,GAAV,SAAU,GACI,OAAmC,IAAI,mBAAiB,yBADtE,CAAU,MAA6B,KAIvC,MAAM,EAAW,EAAI,kBAAiB,qCAStC,uBAA4B,EAA2B,EAA8C,GAEpG,MAAM,EAAmB,sBAAoB,EAAQ,eAErD,IAAI,EAAmB,CAAC,MAAO,OAAQ,QAGnC,EAAuC,CAC1C,mBACA,YAAa,CACZ,qBAAsB,CAAC,MAAO,OAAQ,SAEvC,sBAAuB,CACtB,eAAgB,CAAC,SAElB,WAAY,CACX,sBAAsB,EAAwB,EAAoB,EAA4B,EAA0B,GAEvH,SAAS,EAAa,GACrB,MAAM,EAAQ,EAAK,MACf,aAAiB,SAAS,EAAM,IAAI,QAAQ,IAAa,EAAM,MAAM,gBAAgB,KACxF,EAAK,MAAQ,CAAE,UAAW,IAAI,QAAM,EAAM,MAAO,GAAW,UAAW,IAIzE,SAAS,EAAY,GAChB,EAAK,OAAS,qBAAmB,QACpC,EAAK,OAAS,CACb,KAAM,EAAK,MACX,KAAO,EAAK,gBAKf,SAAS,EAAgB,GAKxB,OAJI,KACF,MAAM,QAAQ,GAAK,EAAI,EAAE,OAAO,QAAQ,IACxC,MAAM,QAAQ,GAAK,EAAI,EAAE,OAAO,QAAQ,IAEnC,EAER,MAEM,EAAI,EAAK,EAAU,EAAU,EAAS,GAC5C,OAHuB,EAG8C,IAHc,EAAW,KAItF,EAAE,KAAK,GAER,EAAgB,GANJ,IAAI,KAYtB,EAAS,EAAkB,MAAO,EAAS,EAAkB,MAAwB,GACzF,EAAO,2BACP,EAAO,UAAU,KAAK,KAErB,EAAO,iBAAiB,EAA8B,KAAM,EAAiB,MAC7E,EAAiB,YAAY,KAC5B,EAAO,iBAAiB,EAA8B,KAAM,EAAiB,QAG9E,0BAAwB,EAAQ,KAGjC,IAAI,EAAa,EAAO,QAGxB,EAAQ,cAAc,KAAK,GAE3B,IAAI,EAAmB,CACtB,sBAAuB,gBACvB,sBAAuB,UAGxB,YAAU,yBAAyB,MAAO,CACzC,YAAa,6EACb,iBAAkB,IAGnB,YAAU,yBAAyB,OAAQ,CAC1C,YAAa,6EACb,iBAAkB,IAGnB,YAAU,yBAAyB,OAAQ,CAC1C,YAAa,+EACb,iBAAkB,IAGnB,EAAO,UAAU,KAAK,KACrB,EAAQ,cAAc,KAGvB,WACC,MAAM,EAA0B,8BAEhC,OAAO,YAAU,+BAA+B,EAAkB,CACjE,uBAAuB,EAAmB,GACzC,IACI,EADe,EAAI,QAAQ,IAAI,QAAM,IAAI,WAAS,EAAI,KAAM,GAAI,IAC3C,MAAM,GAC/B,GAAI,EAAO,CACV,IAAI,EAAQ,IAAI,QAAM,IAAI,WAAS,EAAI,KAAM,EAAM,GAAG,QAAS,GAC3D,EAAgB,IAAI,iBAAe,UAAW,qBAAmB,SACrE,EAAc,MAAQ,EAAO,WAAS,QAAQ,EAAO,iBACrD,EAAc,WAAa,IAAI,gBAAc,mBAC7C,EAAc,cAAgB,EAAS,EAAiB,MACxD,EAAc,WAAa,EAAM,GACjC,EAAc,SAAW,KACzB,IAAI,EAAc,IAAI,iBAAe,aAAc,qBAAmB,SAMtE,OALA,EAAY,MAAQ,EACpB,EAAY,WAAa,mBACzB,EAAY,cAAgB,EAAS,EAAe,MACpD,EAAY,SAAW,KACvB,EAAY,WAAa,EAAM,GACxB,CAAC,EAAe,GAExB,OAAO,QA1BkB,MA+B5B,WAAS,gBAAgB,wBAEzB,SAAyB,EAAa,EAAyB,GAC9D,IAAI,EAAa,SAAO,iBACpB,GAAc,EAAW,SAAS,IAAI,aAAe,IACpD,EAAW,SAAS,UAAY,GACnC,SAAO,uBAAuB,6DAE/B,EAAW,KAAK,IACf,IAAK,IAAI,KAAQ,EAChB,EAAQ,QAAQ,EAAO,uBAAuB,QAAQ,EAAK,OAAQ,EAAK,WAEvE,KAAK,IACF,GACJ,SAAO,iBAAiB,8G,6BC3J7BY,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,IAkBI04D,EAMAC,EAMAC,EASAC,EACAv3D,EACAw3D,EAzCAv2D,EAAO,EAAQ,GACfyyB,EAAK,EAAQ,IACb7vB,EAAW1F,OAAOkB,UAAUwE,SAChC,SAAS4zD,EAAU/4D,GACf,YAAwB,IAAVA,EAElB,SAASg5D,EAASh5D,GACd,MAAgC,oBAAzBmF,EAASjG,KAAKc,GAEzB,SAASi5D,EAASj5D,GACd,MAAgC,oBAAzBmF,EAASjG,KAAKc,GAKzB,SAASk5D,EAAiBC,GACtB,OAAOnvC,KAAK+K,MAAMC,EAAGokC,aAAaD,EAAU,SA0FhD,SAASzvB,EAAOxhC,EAAS8b,GAuBrB,OArBI80C,IAEA5wD,EAAU,IAAWA,EAAQ4hC,QAAQ,WAAY,QAAU,KAE3C,IAAhB9lB,EAAK7a,OACIjB,EAGAA,EAAQ4hC,QAAQ,cAAc,SAAUx8B,EAAOmuB,GACpD,IAAIrY,EAAQqY,EAAK,GACbxB,EAAMjW,EAAKZ,GACXi2C,EAAc/rD,EAOlB,MANmB,iBAAR2sB,EACPo/B,EAAcp/B,EAEM,iBAARA,GAAmC,kBAARA,GAAlC,MAAuDA,IAC5Do/B,EAAc5uD,OAAOwvB,IAElBo/B,KAKnB,SAASC,EAA6B9sD,GAClC,OAAO,SAAUlM,EAAK4H,GAElB,IADA,IAAI8b,EAAO,GACFo9B,EAAK,EAAGA,EAAKn9B,UAAU9a,OAAQi4C,IACpCp9B,EAAKo9B,EAAK,GAAKn9B,UAAUm9B,GAE7B,OAAI4X,EAAS14D,GACLA,GAAOkM,EAASrD,YAChBf,QAAQnF,MAAM,qEAAuE,IAAIoL,MAAM,IAAI+a,OAGhGsgB,EAAOl9B,EAASlM,GAAM0jB,GAGzBi1C,EAAS/wD,IACTE,QAAQC,KAAK,WAAaH,EAAU,uCAC7BwhC,EAAOxhC,EAAS8b,SAGvB5b,QAAQnF,MAAM,gDAAkD,IAAIoL,MAAM,IAAI+a,QAK9F,SAASmwC,EAASj5D,EAAK4H,GAEnB,IADA,IAAI8b,EAAO,GACFo9B,EAAK,EAAGA,EAAKn9B,UAAU9a,OAAQi4C,IACpCp9B,EAAKo9B,EAAK,GAAKn9B,UAAUm9B,GAE7B,OAAO1X,EAAOxhC,EAAS8b,GAgI3B,SAASw1C,EAAYl5D,EAAKm5D,GAEtB,OADAZ,EAAgBv4D,GAAOm5D,EAChBA,EAEX,SAASC,EAA8BjnB,EAAQknB,GAC3C,IAAIz9C,EAXO2P,EACPxsB,EAWAo6D,EAASl3D,EAAK8C,KAAK/D,EAAQs4D,UAAWnnB,EAAO7kC,GAAK,IAAM6kC,EAAOonB,KAAO,SACtEC,GAAgB,EAChBC,GAAc,EAClB,IAGI,OAFA79C,EAAS8N,KAAK+K,MAAMC,EAAGokC,aAAaK,EAAQ,CAAEr1D,SAAU,OAAQ41D,KAAM,OAhB/DnuC,EAiBD4tC,EAhBNp6D,EAAI,IAAI4J,KACZ+rB,EAAGilC,OAAOpuC,EAAMxsB,EAAGA,GAAG,eAgBX6c,EAEX,MAAOkf,GACH,GAAiB,WAAbA,EAAIjS,KACJ4wC,GAAc,MAEb,MAAI3+B,aAAe8+B,aAWpB,MAAM9+B,EATNhzB,QAAQG,IAAI,wCAA0C6yB,EAAIlzB,QAAU,KACpE8sB,EAAGmlC,OAAOV,GAAQ,SAAUr+B,GACpBA,GACAhzB,QAAQnF,MAAM,6BAA+Bw2D,EAAS,eAG9DK,GAAgB,GAOxB,KADA59C,EApEJ,SAAyBu2B,EAAQ2nB,GAC7B,IAAIC,EAAuB/4D,EAAQg5D,mBAAmB7nB,EAAO7kC,IAC7D,GAAKysD,EAAL,CAGA,IAAIE,EAAerB,EAAiBmB,GAAsBjW,SACtDzqC,EAAWu/C,EAAiB32D,EAAK8C,KAAK+0D,EAAc,sBACpDl+C,EAASzc,OAAOY,OAAO,MAC3B,IAAK,IAAIm6D,KAAY7gD,EAAU,CAC3B,IAAI8gD,EAAQ9gD,EAAS6gD,GACjBE,EAAeH,EAAa9nB,EAAOkoB,OAAS,IAAMH,GACtD,GAAIE,EAAc,CAEd,IADA,IAAIE,EAAiB,GACZ77D,EAAI,EAAGA,EAAI07D,EAAM13C,KAAK5Z,OAAQpK,IAAK,CACxC,IAAI87D,EAAaJ,EAAM13C,KAAKhkB,GAExB+7D,EAAoBJ,EADdzB,EAAS4B,GAAcA,EAAaA,EAAWv6D,UAE/BsD,IAAtBk3D,IACAA,EAAoBL,EAAMjuD,SAASzN,IAEvC67D,EAAe5xD,KAAK8xD,GAExB5+C,EAAOs+C,GAAYI,OAGnB1+C,EAAOs+C,GAAYC,EAAMjuD,SAGjC,OAAO0P,GAwCE6+C,CAAgBtoB,EAAQknB,KAClBG,EACX,OAAO59C,EAEX,GAAI69C,EACA,IACI/kC,EAAGgmC,cAAcvB,EAAQzvC,KAAKC,UAAU/N,GAAS,CAAE9X,SAAU,OAAQ41D,KAAM,OAE/E,MAAO5+B,GACH,GAAiB,WAAbA,EAAIjS,KACJ,OAAOjN,EAEX,MAAMkf,EAGd,OAAOlf,EAEX,SAAS++C,EAAqBtB,GAC1B,IACI,OAhGR,SAAgCnsC,GAC5B,IAAI7T,EAAWu/C,EAAiB32D,EAAK8C,KAAKmoB,EAAQ,sBAC9CtR,EAASzc,OAAOY,OAAO,MAC3B,IAAK,IAAI66D,KAAYvhD,EAAU,CAC3B,IAAI8gD,EAAQ9gD,EAASuhD,GACrBh/C,EAAOg/C,GAAYT,EAAMjuD,SAE7B,OAAO0P,EAyFIi/C,CAAuBxB,GAElC,MAAOv+B,GAEH,YADAhzB,QAAQG,IAAI,mDAAoD6yB,IAIxE,SAASggC,EAAc3oB,EAAQknB,GAC3B,IAAIz9C,EAEJ,IAtPuC,IAAhC5a,EAAQ+5D,0BAAsDz3D,IAAtBtC,EAAQs4D,gBAAsDh2D,IAA3BtC,EAAQg6D,qBAAmE13D,IAAnCtC,EAAQi6D,6BAC5F33D,IAA/BtC,EAAQg5D,mBAsPX,IACIp+C,EAASw9C,EAA8BjnB,EAAQknB,GAEnD,MAAOv+B,GACHhzB,QAAQG,IAAI,gCAAiC6yB,GAGrD,IAAKlf,EAAQ,CAIT,GAAI5a,EAAQ+5D,oBACR,OAAOJ,EAAqBtB,GAEhC,IAAIvtD,EAvKZ,SAA4BovD,GAExB,IADA,IAAIrX,EAAW7iD,EAAQ6iD,SAChBA,GAAU,CACb,IAAI/3C,EAAY7J,EAAK8C,KAAKm2D,EAAM,cAAgBrX,EAAW,SAC3D,GAAInvB,EAAGymC,WAAWrvD,GACd,OAAOA,EAGP,IAAIgX,EAAQ+gC,EAASxuB,YAAY,KAE7BwuB,EADA/gC,EAAQ,EACG+gC,EAASoC,UAAU,EAAGnjC,QAGtBxf,EAKvB,QAAiBA,IAAbugD,EAAwB,CACpB/3C,EAAY7J,EAAK8C,KAAKm2D,EAAM,mBAChC,GAAIxmC,EAAGymC,WAAWrvD,GACd,OAAOA,GAkJKsvD,CAAmB/B,GACnC,GAAIvtD,EACA,IACI,OAAO8sD,EAAiB9sD,GAE5B,MAAOgvB,GACHhzB,QAAQG,IAAI,4CAA6C6yB,GAGjElf,EAAS++C,EAAqBtB,GAElC,OAAOz9C,EAqBX,SAASy/C,EAAkB9vC,GACvB,IAAKA,EAGD,OAAO0tC,EAGX,IAAIqC,EAAMr5D,EAAKs5D,QAAQhwC,GAIvB,GAHI+vC,IACA/vC,EAAOA,EAAKtI,OAAO,EAAGsI,EAAK1iB,OAASyyD,EAAIzyD,SAExC7H,EAAQw6D,gBAAkBpD,EAAcqD,MAAQz6D,EAAQw6D,gBAAkBpD,EAAce,OAAQ,CAChG,IAAIuC,EA/BZ,SAAmCnwC,GAG/B,IAFA,IAAI3P,EACA+/C,EAAU15D,EAAK05D,QAAQpwC,GAEvB3P,EAAS3Z,EAAK8C,KAAK42D,EAAS,6BACxBjnC,EAAGymC,WAAWv/C,IAFT,CAKT,IAAIkpC,EAAS7iD,EAAK05D,QAAQA,GAC1B,GAAI7W,IAAW6W,EAAS,CACpB//C,OAAStY,EACT,MAGAq4D,EAAU7W,EAGlB,OAAOlpC,EAccggD,CAA0BrwC,GAC3C,GAAImwC,EAAY,CACZ,IAAIrC,EAAap3D,EAAK05D,QAAQD,GAC1BvC,EAASZ,EAAgBc,GAC7B,QAAe/1D,IAAX61D,EACA,IACI,IAAIhnB,EAASzoB,KAAK+K,MAAMC,EAAGokC,aAAa4C,EAAY,SACpD,IACI,IAAIG,EAAYf,EAAc3oB,EAAQknB,GACtCF,EAASD,EAAYG,EAAYwC,EAAY,CAAE1pB,OAAQA,EAAQ0pB,UAAWA,GAAc,MAE5F,MAAO/gC,GACHhzB,QAAQnF,MAAM,4BAA6Bm4B,GAC3Cq+B,EAASD,EAAYG,EAAY,OAGzC,MAAOv+B,GACHhzB,QAAQnF,MAAM,6BAA8Bm4B,GAC5Cq+B,EAASD,EAAYG,EAAY,MAGzC,GAAIF,EAAQ,CACR,IAAI2C,EAAWvwC,EAAKtI,OAAOo2C,EAAWxwD,OAAS,GAAG2gC,QAAQ,MAAO,KAC7Dt9B,EAAWitD,EAAO0C,UAAUC,GAChC,YAAiBx4D,IAAb4I,GACApE,QAAQnF,MAAM,qBAAuB4oB,EAAO,wCACrC,WACH,MAAO,wBAGRytC,EAA6B9sD,KAIhD,GAAIlL,EAAQw6D,gBAAkBpD,EAAcqD,MAAQz6D,EAAQw6D,gBAAkBpD,EAAc7sC,KAExF,IACI,IAAI+N,EAAOs/B,EA3RvB,SAAyBrtC,GACrB,IAAIwwC,EACJ,GAAI/6D,EAAQg7D,yBAA2BD,EACnCA,EAAmBA,MAElB,CACD,GAAIvD,IAAax3D,EAAQ6iD,SACrBkY,EAAmB,iBAInB,IADA,IAAIE,EAASj7D,EAAQ6iD,SACdoY,GAAQ,CACX,IAAInwD,EAAY,QAAUmwD,EAAS,QACnC,GAAIvnC,EAAGymC,WAAW5vC,EAAOzf,GAAY,CACjCiwD,EAAmBjwD,EACnB,MAGA,IAAIgX,EAAQm5C,EAAO5mC,YAAY,KAC3BvS,EAAQ,EACRm5C,EAASA,EAAOhW,UAAU,EAAGnjC,IAG7Bi5C,EAAmB,YACnBE,EAAS,MAKrBj7D,EAAQg7D,0BACRD,EAAmBA,GAG3B,OAAOxwC,EAAOwwC,EA0PsBG,CAAgB3wC,IAC5C,OAAIjhB,MAAM6I,QAAQmmB,GACP0/B,EAA6B1/B,GAGhCm/B,EAAUn/B,EAAKptB,WAAausD,EAAUn/B,EAAK7W,MACpCu2C,EAA6B1/B,EAAKptB,WAGzCpE,QAAQnF,MAAM,kBAAoB4oB,EAAO,iCAClC,WACH,MAAO,gEAKvB,MAAOuP,GACc,WAAbA,EAAIjS,MACJ/gB,QAAQnF,MAAM,oCAAqCm4B,GAK/D,OADAhzB,QAAQnF,MAAM,0CAA4C4oB,GACnD,WACH,MAAO,4DAlcf,SAAW6sC,GACPA,EAAoB,KAAI,OACxBA,EAAsB,OAAI,SAC1BA,EAAoB,KAAI,OAH5B,CAIGA,EAAgB75D,EAAQ65D,gBAAkB75D,EAAQ65D,cAAgB,KAErE,SAAWC,GAEPA,EAAyB,WAAI,aAC7BA,EAA2B,aAAI,eAHnC,CAIGA,EAAe95D,EAAQ85D,eAAiB95D,EAAQ85D,aAAe,KAElE,SAAWC,GAKPA,EAAa7xD,GAJb,SAAY/G,GACR,IAAIoM,EAAYpM,EAChB,OAAOoM,GAAa2sD,EAAU3sD,EAAU9L,MAAQy4D,EAAU3sD,EAAU0qD,UAH5E,CAMG8B,IAAiBA,EAAe,KAKnC,WAEI,GADAt3D,EAAU,CAAEi7D,YAAQ34D,EAAWugD,cAAUvgD,EAAWy3D,qBAAqB,EAAOiB,yBAAyB,EAAMR,cAAepD,EAAce,QACxIR,EAASp2D,QAAQu2B,IAAIqjC,mBACrB,IACI,IAAIC,EAAkB1yC,KAAK+K,MAAMlyB,QAAQu2B,IAAIqjC,mBACzCtY,OAAW,EAEf,GAAIuY,EAAgBC,mBAAoB,CACpC,IAAI38D,EAAQ08D,EAAgBC,mBAAmB,KAC3C1D,EAASj5D,KACTmkD,EAAWnkD,GAqBnB,GAlBIi5D,EAASyD,EAAgBH,UACzBj7D,EAAQi7D,OAASG,EAAgBH,OAAOpkC,oBAE3Bv0B,IAAbugD,EACA7iD,EAAQ6iD,SAAW7iD,EAAQi7D,OAET,OAAbpY,IACL7iD,EAAQ6iD,SAAWA,GAlDnC,SAAmBnkD,GACf,OAAiB,IAAVA,IAA4B,IAAVA,EAmDb48D,CAAUF,EAAgBG,wBAC1Bv7D,EAAQ+5D,oBAAsBqB,EAAgBG,sBAE9C5D,EAASyD,EAAgBI,cACzBx7D,EAAQs4D,UAAY8C,EAAgBI,YAEpC7D,EAASyD,EAAgBK,mBACzBz7D,EAAQg6D,eAAiBoB,EAAgBK,iBAEzC9D,EAASyD,EAAgBM,yBAA0B,CACnD17D,EAAQi6D,uBAAyBmB,EAAgBM,wBACjD,IACI17D,EAAQg5D,mBAAqBpB,EAAiB53D,EAAQi6D,wBAE1D,MAAOt4D,GAEH,GAAIy5D,EAAgBO,eAAgB,CAChC,IAAIhB,EAAU15D,EAAK05D,QAAQS,EAAgBO,gBAC3CjoC,EAAGkoC,OAAOjB,GAAS,SAAUiB,GACrBA,GACAloC,EAAGmoC,UAAUT,EAAgBO,eAAgB,YAAa,QAAQ,SAAU7hC,GACxEhzB,QAAQnF,MAAMm4B,YAQ1C,MAAOnN,IAIX6qC,EAA8B,WAAnBx3D,EAAQi7D,YACA34D,EACnBi1D,EAAkBp5D,OAAOY,OAAO,MAEpC+8D,GAmXAv+D,EAAQ88D,kBAAoBA,EAmB5B98D,EAAQka,OAlBR,SAAgBskD,GAgBZ,OAfIA,IACIpE,EAASoE,EAAKd,UACdj7D,EAAQi7D,OAASc,EAAKd,OAAOpkC,cAC7B72B,EAAQ6iD,SAAW7iD,EAAQi7D,YACR34D,EACnBi1D,EAAkBp5D,OAAOY,OAAO,YAETuD,IAAvBy5D,EAAKvB,gBACLx6D,EAAQw6D,cAAgBuB,EAAKvB,eAE7BuB,EAAKC,eAAiB3E,EAAa4E,aAA8C,IAAhCj8D,EAAQ+5D,sBACzD/5D,EAAQ+5D,qBAAsB,IAGtCvC,EAA8B,WAAnBx3D,EAAQi7D,OACZZ,I,2GC1eX,aACA,QAiCA,SAAS6B,IACR,MAAMzxC,EAAmB,EAAAtd,UAAUsd,iBAE7B0xC,EAAsB,GAE5B,IAAK1xC,EACJ,OAAO0xC,EAGR,MAAMC,EAAU,CAACpnC,EAA6BqnC,KAC7C,GAAI/yD,MAAM6I,QAAQ6iB,GACjB,IAAK,MAAM/zB,KAAQ+zB,EACE,iBAAT/zB,GACVk7D,EAAUz0D,KAAK,EAAA40D,YAAYD,EAAYp7D,GAAM4C,aAMjD,IAAK,IAAIpG,EAAI,EAAGA,EAAIgtB,EAAiB5iB,OAAQpK,IAAK,CACjD,MAAM8+D,EAAY9xC,EAAiBhtB,GAAG4Q,IAEhCmuD,EADe,EAAArvD,UAAU6U,iBAAiB,MAAOu6C,GAChBxhB,QAAkB,cACrDyhB,IACHJ,EAAQI,EAAkBC,qBAAsBF,GACtC,IAAN9+D,IACC,EAAA0P,UAAUuvD,eACbN,EAAQI,EAAkBG,eAAgB,EAAAxvD,UAAUuvD,eAErDN,EAAQI,EAAkBI,YAAaL,KAK1C,OAAOJ,EAGR,SAASU,I,UACR,MAAMV,EAAsB,GAC5B,IAAK,MAAMW,KAAa,EAAA35B,WAAWwe,IAAK,CACvC,MAAMob,EAAoD,QAA1C,EAAqC,QAArC,EAAwB,QAAxB,EAAGD,EAAUz5B,mBAAW,eAAE25B,mBAAW,eAAEC,WAAG,eAAEF,WAC5D,GAAIzzD,MAAM6I,QAAQ4qD,GACjB,IAAK,MAAMG,KAAMH,EAChBZ,EAAUz0D,KAAK,EAAAqtB,SAAS+nC,EAAUK,aAAcD,GAAIr5D,YAIvD,OAAOs4D,EA9ER,+BAAoCiB,GACnC,IAAIC,EAAmBnB,IACnBoB,EAAoBT,IAExB,MAAMU,EAAW,IAAI,EAAAC,aAgBrB,OAdAJ,EAAU11D,KAAK,EAAAy7B,WAAWxvB,YAAYorB,IACrC,MAAM0+B,EAAuBZ,IACzBY,EAAqB51D,SAAWy1D,EAAkBz1D,QAAW41D,EAAqBjsC,MAAM,CAACksC,EAAKC,IAAQD,IAAQJ,EAAkBK,MACnIL,EAAoBG,EACpBF,EAAS92C,WAGX22C,EAAU11D,KAAK,EAAAyF,UAAU8T,yBAAyB0R,IAC7CA,EAAEvR,qBAAqB,oBAC1Bi8C,EAAmBnB,IACnBqB,EAAS92C,WAIJ,CACN,WACC,OAAO42C,EAAiBnsB,OAAOosB,IAEhC,kBACC,OAAOC,EAASjuD,U,6BC3BnB9R,EAAOD,QAAU,EAAQ","file":"cssClientMain.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 27);\n","module.exports = require(\"vscode\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__export(require(\"vscode-jsonrpc/node\"));\n__export(require(\"../common/api\"));\nfunction createProtocolConnection(input, output, logger, options) {\n    return node_1.createMessageConnection(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\n//# sourceMappingURL=messages.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\n__export(require(\"../common/api\"));\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super(ril_1.default().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super(ril_1.default().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readble, encoding) {\n        super(ril_1.default().stream.asReadableStream(readble), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super(ril_1.default().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nfunction generateRandomPipeName() {\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    else {\n        // Mac/Unix: use socket file\n        return path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = net_1.createServer((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = net_1.createConnection(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = net_1.createServer((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = net_1.createConnection(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isMessageReader(value) {\n    return value.listen !== undefined && value.read === undefined;\n}\nfunction isMessageWriter(value) {\n    return value.write !== undefined && value.end === undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isMessageReader(input) ? input : new StreamMessageReader(input);\n    const writer = isMessageWriter(output) ? output : new StreamMessageWriter(output);\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return api_1.createMessageConnection(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseLanguageClient = exports.MessageTransports = exports.TextDocumentFeature = exports.State = exports.RevealOutputChannelOn = exports.CloseAction = exports.ErrorAction = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst configuration_1 = require(\"./configuration\");\nconst c2p = require(\"./codeConverter\");\nconst p2c = require(\"./protocolConverter\");\nconst Is = require(\"./utils/is\");\nconst async_1 = require(\"./utils/async\");\nconst UUID = require(\"./utils/uuid\");\nconst progressPart_1 = require(\"./progressPart\");\nclass ConsoleLogger {\n    error(message) {\n        vscode_languageserver_protocol_1.RAL().console.error(message);\n    }\n    warn(message) {\n        vscode_languageserver_protocol_1.RAL().console.warn(message);\n    }\n    info(message) {\n        vscode_languageserver_protocol_1.RAL().console.info(message);\n    }\n    log(message) {\n        vscode_languageserver_protocol_1.RAL().console.log(message);\n    }\n}\nfunction createConnection(input, output, errorHandler, closeHandler, options) {\n    let logger = new ConsoleLogger();\n    let connection = vscode_languageserver_protocol_1.createProtocolConnection(input, output, logger, options);\n    connection.onError((data) => { errorHandler(data[0], data[1], data[2]); });\n    connection.onClose(closeHandler);\n    let result = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(Is.string(type) ? type : type.method, handler),\n        sendNotification: (type, params) => connection.sendNotification(Is.string(type) ? type : type.method, params),\n        onNotification: (type, handler) => connection.onNotification(Is.string(type) ? type : type.method, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        trace: (value, tracer, sendNotificationOrTraceOptions) => {\n            const defaultTraceOptions = {\n                sendNotification: false,\n                traceFormat: vscode_languageserver_protocol_1.TraceFormat.Text\n            };\n            if (sendNotificationOrTraceOptions === void 0) {\n                connection.trace(value, tracer, defaultTraceOptions);\n            }\n            else if (Is.boolean(sendNotificationOrTraceOptions)) {\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n            else {\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n        },\n        initialize: (params) => connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type, params),\n        shutdown: () => connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, undefined),\n        exit: () => connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type),\n        onLogMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, handler),\n        onShowMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type, handler),\n        onTelemetry: (handler) => connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, handler),\n        didChangeConfiguration: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, params),\n        didChangeWatchedFiles: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, params),\n        didOpenTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, params),\n        didChangeTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params),\n        didCloseTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, params),\n        didSaveTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, params),\n        onDiagnostics: (handler) => connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, handler),\n        dispose: () => connection.dispose()\n    };\n    return result;\n}\n/**\n * An action to be performed when the connection is producing errors.\n */\nvar ErrorAction;\n(function (ErrorAction) {\n    /**\n     * Continue running the server.\n     */\n    ErrorAction[ErrorAction[\"Continue\"] = 1] = \"Continue\";\n    /**\n     * Shutdown the server.\n     */\n    ErrorAction[ErrorAction[\"Shutdown\"] = 2] = \"Shutdown\";\n})(ErrorAction = exports.ErrorAction || (exports.ErrorAction = {}));\n/**\n * An action to be performed when the connection to a server got closed.\n */\nvar CloseAction;\n(function (CloseAction) {\n    /**\n     * Don't restart the server. The connection stays closed.\n     */\n    CloseAction[CloseAction[\"DoNotRestart\"] = 1] = \"DoNotRestart\";\n    /**\n     * Restart the server.\n     */\n    CloseAction[CloseAction[\"Restart\"] = 2] = \"Restart\";\n})(CloseAction = exports.CloseAction || (exports.CloseAction = {}));\nclass DefaultErrorHandler {\n    constructor(name) {\n        this.name = name;\n        this.restarts = [];\n    }\n    error(_error, _message, count) {\n        if (count && count <= 3) {\n            return ErrorAction.Continue;\n        }\n        return ErrorAction.Shutdown;\n    }\n    closed() {\n        this.restarts.push(Date.now());\n        if (this.restarts.length < 5) {\n            return CloseAction.Restart;\n        }\n        else {\n            let diff = this.restarts[this.restarts.length - 1] - this.restarts[0];\n            if (diff <= 3 * 60 * 1000) {\n                vscode_1.window.showErrorMessage(`The ${this.name} server crashed 5 times in the last 3 minutes. The server will not be restarted.`);\n                return CloseAction.DoNotRestart;\n            }\n            else {\n                this.restarts.shift();\n                return CloseAction.Restart;\n            }\n        }\n    }\n}\nvar RevealOutputChannelOn;\n(function (RevealOutputChannelOn) {\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Info\"] = 1] = \"Info\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Warn\"] = 2] = \"Warn\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Error\"] = 3] = \"Error\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Never\"] = 4] = \"Never\";\n})(RevealOutputChannelOn = exports.RevealOutputChannelOn || (exports.RevealOutputChannelOn = {}));\nvar State;\n(function (State) {\n    State[State[\"Stopped\"] = 1] = \"Stopped\";\n    State[State[\"Starting\"] = 3] = \"Starting\";\n    State[State[\"Running\"] = 2] = \"Running\";\n})(State = exports.State || (exports.State = {}));\nvar ClientState;\n(function (ClientState) {\n    ClientState[ClientState[\"Initial\"] = 0] = \"Initial\";\n    ClientState[ClientState[\"Starting\"] = 1] = \"Starting\";\n    ClientState[ClientState[\"StartFailed\"] = 2] = \"StartFailed\";\n    ClientState[ClientState[\"Running\"] = 3] = \"Running\";\n    ClientState[ClientState[\"Stopping\"] = 4] = \"Stopping\";\n    ClientState[ClientState[\"Stopped\"] = 5] = \"Stopped\";\n})(ClientState || (ClientState = {}));\nconst SupportedSymbolKinds = [\n    vscode_languageserver_protocol_1.SymbolKind.File,\n    vscode_languageserver_protocol_1.SymbolKind.Module,\n    vscode_languageserver_protocol_1.SymbolKind.Namespace,\n    vscode_languageserver_protocol_1.SymbolKind.Package,\n    vscode_languageserver_protocol_1.SymbolKind.Class,\n    vscode_languageserver_protocol_1.SymbolKind.Method,\n    vscode_languageserver_protocol_1.SymbolKind.Property,\n    vscode_languageserver_protocol_1.SymbolKind.Field,\n    vscode_languageserver_protocol_1.SymbolKind.Constructor,\n    vscode_languageserver_protocol_1.SymbolKind.Enum,\n    vscode_languageserver_protocol_1.SymbolKind.Interface,\n    vscode_languageserver_protocol_1.SymbolKind.Function,\n    vscode_languageserver_protocol_1.SymbolKind.Variable,\n    vscode_languageserver_protocol_1.SymbolKind.Constant,\n    vscode_languageserver_protocol_1.SymbolKind.String,\n    vscode_languageserver_protocol_1.SymbolKind.Number,\n    vscode_languageserver_protocol_1.SymbolKind.Boolean,\n    vscode_languageserver_protocol_1.SymbolKind.Array,\n    vscode_languageserver_protocol_1.SymbolKind.Object,\n    vscode_languageserver_protocol_1.SymbolKind.Key,\n    vscode_languageserver_protocol_1.SymbolKind.Null,\n    vscode_languageserver_protocol_1.SymbolKind.EnumMember,\n    vscode_languageserver_protocol_1.SymbolKind.Struct,\n    vscode_languageserver_protocol_1.SymbolKind.Event,\n    vscode_languageserver_protocol_1.SymbolKind.Operator,\n    vscode_languageserver_protocol_1.SymbolKind.TypeParameter\n];\nconst SupportedCompletionItemKinds = [\n    vscode_languageserver_protocol_1.CompletionItemKind.Text,\n    vscode_languageserver_protocol_1.CompletionItemKind.Method,\n    vscode_languageserver_protocol_1.CompletionItemKind.Function,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constructor,\n    vscode_languageserver_protocol_1.CompletionItemKind.Field,\n    vscode_languageserver_protocol_1.CompletionItemKind.Variable,\n    vscode_languageserver_protocol_1.CompletionItemKind.Class,\n    vscode_languageserver_protocol_1.CompletionItemKind.Interface,\n    vscode_languageserver_protocol_1.CompletionItemKind.Module,\n    vscode_languageserver_protocol_1.CompletionItemKind.Property,\n    vscode_languageserver_protocol_1.CompletionItemKind.Unit,\n    vscode_languageserver_protocol_1.CompletionItemKind.Value,\n    vscode_languageserver_protocol_1.CompletionItemKind.Enum,\n    vscode_languageserver_protocol_1.CompletionItemKind.Keyword,\n    vscode_languageserver_protocol_1.CompletionItemKind.Snippet,\n    vscode_languageserver_protocol_1.CompletionItemKind.Color,\n    vscode_languageserver_protocol_1.CompletionItemKind.File,\n    vscode_languageserver_protocol_1.CompletionItemKind.Reference,\n    vscode_languageserver_protocol_1.CompletionItemKind.Folder,\n    vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constant,\n    vscode_languageserver_protocol_1.CompletionItemKind.Struct,\n    vscode_languageserver_protocol_1.CompletionItemKind.Event,\n    vscode_languageserver_protocol_1.CompletionItemKind.Operator,\n    vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter\n];\nconst SupportedSymbolTags = [\n    vscode_languageserver_protocol_1.SymbolTag.Deprecated\n];\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar DynamicFeature;\n(function (DynamicFeature) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.register) && Is.func(candidate.unregister) && Is.func(candidate.dispose) && candidate.messages !== void 0;\n    }\n    DynamicFeature.is = is;\n})(DynamicFeature || (DynamicFeature = {}));\nclass DocumentNotifiactions {\n    constructor(_client, _event, _type, _middleware, _createParams, _selectorFilter) {\n        this._client = _client;\n        this._event = _event;\n        this._type = _type;\n        this._middleware = _middleware;\n        this._createParams = _createParams;\n        this._selectorFilter = _selectorFilter;\n        this._selectors = new Map();\n    }\n    static textDocumentFilter(selectors, textDocument) {\n        for (const selector of selectors) {\n            if (vscode_1.languages.match(selector, textDocument)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    register(_message, data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = this._event(this.callback, this);\n        }\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\n    }\n    callback(data) {\n        if (!this._selectorFilter || this._selectorFilter(this._selectors.values(), data)) {\n            if (this._middleware) {\n                this._middleware(data, (data) => this._client.sendNotification(this._type, this._createParams(data)));\n            }\n            else {\n                this._client.sendNotification(this._type, this._createParams(data));\n            }\n            this.notificationSent(data);\n        }\n    }\n    notificationSent(_data) {\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._selectors.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getProvider(document) {\n        for (const selector of this._selectors.values()) {\n            if (vscode_1.languages.match(selector, document)) {\n                return {\n                    send: (data) => {\n                        this.callback(data);\n                    }\n                };\n            }\n        }\n        throw new Error(`No provider available for the given text document`);\n    }\n}\nclass DidOpenTextDocumentFeature extends DocumentNotifiactions {\n    constructor(client, _syncedDocuments) {\n        super(client, vscode_1.workspace.onDidOpenTextDocument, vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, client.clientOptions.middleware.didOpen, (textDocument) => client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument), DocumentNotifiactions.textDocumentFilter);\n        this._syncedDocuments = _syncedDocuments;\n    }\n    get messages() {\n        return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register(this.messages, { id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    register(message, data) {\n        super.register(message, data);\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        let documentSelector = data.registerOptions.documentSelector;\n        vscode_1.workspace.textDocuments.forEach((textDocument) => {\n            let uri = textDocument.uri.toString();\n            if (this._syncedDocuments.has(uri)) {\n                return;\n            }\n            if (vscode_1.languages.match(documentSelector, textDocument)) {\n                let middleware = this._client.clientOptions.middleware;\n                let didOpen = (textDocument) => {\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                if (middleware.didOpen) {\n                    middleware.didOpen(textDocument, didOpen);\n                }\n                else {\n                    didOpen(textDocument);\n                }\n                this._syncedDocuments.set(uri, textDocument);\n            }\n        });\n    }\n    notificationSent(textDocument) {\n        super.notificationSent(textDocument);\n        this._syncedDocuments.set(textDocument.uri.toString(), textDocument);\n    }\n}\nclass DidCloseTextDocumentFeature extends DocumentNotifiactions {\n    constructor(client, _syncedDocuments) {\n        super(client, vscode_1.workspace.onDidCloseTextDocument, vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, client.clientOptions.middleware.didClose, (textDocument) => client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument), DocumentNotifiactions.textDocumentFilter);\n        this._syncedDocuments = _syncedDocuments;\n    }\n    get messages() {\n        return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register(this.messages, { id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    notificationSent(textDocument) {\n        super.notificationSent(textDocument);\n        this._syncedDocuments.delete(textDocument.uri.toString());\n    }\n    unregister(id) {\n        let selector = this._selectors.get(id);\n        // The super call removed the selector from the map\n        // of selectors.\n        super.unregister(id);\n        let selectors = this._selectors.values();\n        this._syncedDocuments.forEach((textDocument) => {\n            if (vscode_1.languages.match(selector, textDocument) && !this._selectorFilter(selectors, textDocument)) {\n                let middleware = this._client.clientOptions.middleware;\n                let didClose = (textDocument) => {\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                this._syncedDocuments.delete(textDocument.uri.toString());\n                if (middleware.didClose) {\n                    middleware.didClose(textDocument, didClose);\n                }\n                else {\n                    didClose(textDocument);\n                }\n            }\n        });\n    }\n}\nclass DidChangeTextDocumentFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._changeData = new Map();\n        this._forcingDelivery = false;\n    }\n    get messages() {\n        return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.change !== void 0 && textDocumentSyncOptions.change !== vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n            this.register(this.messages, {\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { syncKind: textDocumentSyncOptions.change })\n            });\n        }\n    }\n    register(_message, data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onDidChangeTextDocument(this.callback, this);\n        }\n        this._changeData.set(data.id, {\n            documentSelector: data.registerOptions.documentSelector,\n            syncKind: data.registerOptions.syncKind\n        });\n    }\n    callback(event) {\n        // Text document changes are send for dirty changes as well. We don't\n        // have dirty / undirty events in the LSP so we ignore content changes\n        // with length zero.\n        if (event.contentChanges.length === 0) {\n            return;\n        }\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, event.document)) {\n                let middleware = this._client.clientOptions.middleware;\n                if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental) {\n                    let params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event);\n                    if (middleware.didChange) {\n                        middleware.didChange(event, () => this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params));\n                    }\n                    else {\n                        this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                    }\n                }\n                else if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n                    let didChange = (event) => {\n                        if (this._changeDelayer) {\n                            if (this._changeDelayer.uri !== event.document.uri.toString()) {\n                                // Use this force delivery to track boolean state. Otherwise we might call two times.\n                                this.forceDelivery();\n                                this._changeDelayer.uri = event.document.uri.toString();\n                            }\n                            this._changeDelayer.delayer.trigger(() => {\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\n                            });\n                        }\n                        else {\n                            this._changeDelayer = {\n                                uri: event.document.uri.toString(),\n                                delayer: new async_1.Delayer(200)\n                            };\n                            this._changeDelayer.delayer.trigger(() => {\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\n                            }, -1);\n                        }\n                    };\n                    if (middleware.didChange) {\n                        middleware.didChange(event, didChange);\n                    }\n                    else {\n                        didChange(event);\n                    }\n                }\n            }\n        }\n    }\n    unregister(id) {\n        this._changeData.delete(id);\n        if (this._changeData.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._changeDelayer = undefined;\n        this._forcingDelivery = false;\n        this._changeData.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    forceDelivery() {\n        if (this._forcingDelivery || !this._changeDelayer) {\n            return;\n        }\n        try {\n            this._forcingDelivery = true;\n            this._changeDelayer.delayer.forceDelivery();\n        }\n        finally {\n            this._forcingDelivery = false;\n        }\n    }\n    getProvider(document) {\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, document)) {\n                return {\n                    send: (event) => {\n                        this.callback(event);\n                    }\n                };\n            }\n        }\n        throw new Error(`No provider available for the given text document`);\n    }\n}\nclass WillSaveFeature extends DocumentNotifiactions {\n    constructor(client) {\n        super(client, vscode_1.workspace.onWillSaveTextDocument, vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, client.clientOptions.middleware.willSave, (willSaveEvent) => client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent), (selectors, willSaveEvent) => DocumentNotifiactions.textDocumentFilter(selectors, willSaveEvent.document));\n    }\n    get messages() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\n        value.willSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSave) {\n            this.register(this.messages, {\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n}\nclass WillSaveWaitUntilFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._selectors = new Map();\n    }\n    get messages() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\n        value.willSaveWaitUntil = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSaveWaitUntil) {\n            this.register(this.messages, {\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n    register(_message, data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onWillSaveTextDocument(this.callback, this);\n        }\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\n    }\n    callback(event) {\n        if (DocumentNotifiactions.textDocumentFilter(this._selectors.values(), event.document)) {\n            let middleware = this._client.clientOptions.middleware;\n            let willSaveWaitUntil = (event) => {\n                return this._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event)).then((edits) => {\n                    let vEdits = this._client.protocol2CodeConverter.asTextEdits(edits);\n                    return vEdits === void 0 ? [] : vEdits;\n                });\n            };\n            event.waitUntil(middleware.willSaveWaitUntil\n                ? middleware.willSaveWaitUntil(event, willSaveWaitUntil)\n                : willSaveWaitUntil(event));\n        }\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._selectors.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n}\nclass DidSaveTextDocumentFeature extends DocumentNotifiactions {\n    constructor(client) {\n        super(client, vscode_1.workspace.onDidSaveTextDocument, vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, client.clientOptions.middleware.didSave, (textDocument) => client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument, this._includeText), DocumentNotifiactions.textDocumentFilter);\n        this._includeText = false;\n    }\n    get messages() {\n        return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').didSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.save) {\n            const saveOptions = typeof textDocumentSyncOptions.save === 'boolean'\n                ? { includeText: false }\n                : { includeText: !!textDocumentSyncOptions.save.includeText };\n            this.register(this.messages, {\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, saveOptions)\n            });\n        }\n    }\n    register(method, data) {\n        this._includeText = !!data.registerOptions.includeText;\n        super.register(method, data);\n    }\n}\nclass FileSystemWatcherFeature {\n    constructor(_client, _notifyFileEvent) {\n        this._client = _client;\n        this._notifyFileEvent = _notifyFileEvent;\n        this._watchers = new Map();\n    }\n    get messages() {\n        return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'workspace'), 'didChangeWatchedFiles').dynamicRegistration = true;\n    }\n    initialize(_capabilities, _documentSelector) {\n    }\n    register(_method, data) {\n        if (!Array.isArray(data.registerOptions.watchers)) {\n            return;\n        }\n        let disposeables = [];\n        for (let watcher of data.registerOptions.watchers) {\n            if (!Is.string(watcher.globPattern)) {\n                continue;\n            }\n            let watchCreate = true, watchChange = true, watchDelete = true;\n            if (watcher.kind !== void 0 && watcher.kind !== null) {\n                watchCreate = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Create) !== 0;\n                watchChange = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Change) !== 0;\n                watchDelete = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Delete) !== 0;\n            }\n            let fileSystemWatcher = vscode_1.workspace.createFileSystemWatcher(watcher.globPattern, !watchCreate, !watchChange, !watchDelete);\n            this.hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete);\n            disposeables.push(fileSystemWatcher);\n        }\n        this._watchers.set(data.id, disposeables);\n    }\n    registerRaw(id, fileSystemWatchers) {\n        let disposeables = [];\n        for (let fileSystemWatcher of fileSystemWatchers) {\n            this.hookListeners(fileSystemWatcher, true, true, true, disposeables);\n        }\n        this._watchers.set(id, disposeables);\n    }\n    hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, listeners) {\n        if (watchCreate) {\n            fileSystemWatcher.onDidCreate((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Created\n            }), null, listeners);\n        }\n        if (watchChange) {\n            fileSystemWatcher.onDidChange((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Changed\n            }), null, listeners);\n        }\n        if (watchDelete) {\n            fileSystemWatcher.onDidDelete((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Deleted\n            }), null, listeners);\n        }\n    }\n    unregister(id) {\n        let disposeables = this._watchers.get(id);\n        if (disposeables) {\n            for (let disposable of disposeables) {\n                disposable.dispose();\n            }\n        }\n    }\n    dispose() {\n        this._watchers.forEach((disposeables) => {\n            for (let disposable of disposeables) {\n                disposable.dispose();\n            }\n        });\n        this._watchers.clear();\n    }\n}\nclass TextDocumentFeature {\n    constructor(_client, _message) {\n        this._client = _client;\n        this._message = _message;\n        this._registrations = new Map();\n    }\n    get messages() {\n        return this._message;\n    }\n    register(message, data) {\n        if (message.method !== this.messages.method) {\n            throw new Error(`Register called on wrong feature. Requested ${message.method} but reached feature ${this.messages.method}`);\n        }\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        let registration = this.registerLanguageProvider(data.registerOptions);\n        this._registrations.set(data.id, { disposable: registration[0], data, provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    dispose() {\n        this._registrations.forEach((value) => {\n            value.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getRegistration(documentSelector, capability) {\n        if (!capability) {\n            return [undefined, undefined];\n        }\n        else if (vscode_languageserver_protocol_1.TextDocumentRegistrationOptions.is(capability)) {\n            const id = vscode_languageserver_protocol_1.StaticRegistrationOptions.hasId(capability) ? capability.id : UUID.generateUuid();\n            const selector = capability.documentSelector || documentSelector;\n            if (selector) {\n                return [id, Object.assign({}, capability, { documentSelector: selector })];\n            }\n        }\n        else if (Is.boolean(capability) && capability === true || vscode_languageserver_protocol_1.WorkDoneProgressOptions.is(capability)) {\n            if (!documentSelector) {\n                return [undefined, undefined];\n            }\n            let options = (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n            return [UUID.generateUuid(), options];\n        }\n        return [undefined, undefined];\n    }\n    getRegistrationOptions(documentSelector, capability) {\n        if (!documentSelector || !capability) {\n            return undefined;\n        }\n        return (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n    }\n    getProvider(textDocument) {\n        for (const registration of this._registrations.values()) {\n            let selector = registration.data.registerOptions.documentSelector;\n            if (selector !== null && vscode_1.languages.match(selector, textDocument)) {\n                return registration.provider;\n            }\n        }\n        throw new Error(`The feature has no registration for the provided text document ${textDocument.uri.toString()}`);\n    }\n}\nexports.TextDocumentFeature = TextDocumentFeature;\nclass WorkspaceFeature {\n    constructor(_client, _message) {\n        this._client = _client;\n        this._message = _message;\n        this._registrations = new Map();\n    }\n    get messages() {\n        return this._message;\n    }\n    register(message, data) {\n        if (message.method !== this.messages.method) {\n            throw new Error(`Register called on wron feature. Requested ${message.method} but reached feature ${this.messages.method}`);\n        }\n        const registration = this.registerLanguageProvider(data.registerOptions);\n        this._registrations.set(data.id, { disposable: registration[0], provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    dispose() {\n        this._registrations.forEach((registration) => {\n            registration.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getProviders() {\n        const result = [];\n        for (const registration of this._registrations.values()) {\n            result.push(registration.provider);\n        }\n        return result;\n    }\n}\nclass CompletionItemFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CompletionRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        let completion = ensure(ensure(capabilites, 'textDocument'), 'completion');\n        completion.dynamicRegistration = true;\n        completion.contextSupport = true;\n        completion.completionItem = {\n            snippetSupport: true,\n            commitCharactersSupport: true,\n            documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText],\n            deprecatedSupport: true,\n            preselectSupport: true,\n            tagSupport: { valueSet: [vscode_languageserver_protocol_1.CompletionItemTag.Deprecated] },\n            insertReplaceSupport: true\n        };\n        completion.completionItemKind = { valueSet: SupportedCompletionItemKinds };\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.completionProvider);\n        if (!options) {\n            return;\n        }\n        this.register(this.messages, {\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const triggerCharacters = options.triggerCharacters || [];\n        const provider = {\n            provideCompletionItems: (document, position, token, context) => {\n                const client = this._client;\n                const middleware = this._client.clientOptions.middleware;\n                const provideCompletionItems = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type, client.code2ProtocolConverter.asCompletionParams(document, position, context), token).then(client.protocol2CodeConverter.asCompletionResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type, error, null);\n                    });\n                };\n                return middleware.provideCompletionItem\n                    ? middleware.provideCompletionItem(document, position, context, token, provideCompletionItems)\n                    : provideCompletionItems(document, position, context, token);\n            },\n            resolveCompletionItem: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.clientOptions.middleware;\n                    const resolveCompletionItem = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, client.code2ProtocolConverter.asCompletionItem(item), token).then(client.protocol2CodeConverter.asCompletionItem, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, error, item);\n                        });\n                    };\n                    return middleware.resolveCompletionItem\n                        ? middleware.resolveCompletionItem(item, token, resolveCompletionItem)\n                        : resolveCompletionItem(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCompletionItemProvider(options.documentSelector, provider, ...triggerCharacters), provider];\n    }\n}\nclass HoverFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.HoverRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        const hoverCapability = (ensure(ensure(capabilites, 'textDocument'), 'hover'));\n        hoverCapability.dynamicRegistration = true;\n        hoverCapability.contentFormat = [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText];\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.hoverProvider);\n        if (!options) {\n            return;\n        }\n        this.register(this.messages, {\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideHover: (document, position, token) => {\n                const client = this._client;\n                const provideHover = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asHover, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideHover\n                    ? middleware.provideHover(document, position, token, provideHover)\n                    : provideHover(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerHoverProvider(options.documentSelector, provider), provider];\n    }\n}\nclass SignatureHelpFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SignatureHelpRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        let config = ensure(ensure(capabilites, 'textDocument'), 'signatureHelp');\n        config.dynamicRegistration = true;\n        config.signatureInformation = { documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText] };\n        config.signatureInformation.parameterInformation = { labelOffsetSupport: true };\n        config.signatureInformation.activeParameterSupport = true;\n        config.contextSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.signatureHelpProvider);\n        if (!options) {\n            return;\n        }\n        this.register(this.messages, {\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideSignatureHelp: (document, position, token, context) => {\n                const client = this._client;\n                const providerSignatureHelp = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, client.code2ProtocolConverter.asSignatureHelpParams(document, position, context), token).then(client.protocol2CodeConverter.asSignatureHelp, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideSignatureHelp\n                    ? middleware.provideSignatureHelp(document, position, context, token, providerSignatureHelp)\n                    : providerSignatureHelp(document, position, context, token);\n            }\n        };\n        let disposable;\n        if (options.retriggerCharacters === undefined) {\n            const triggerCharacters = options.triggerCharacters || [];\n            disposable = vscode_1.languages.registerSignatureHelpProvider(options.documentSelector, provider, ...triggerCharacters);\n        }\n        else {\n            const metaData = {\n                triggerCharacters: options.triggerCharacters || [],\n                retriggerCharacters: options.retriggerCharacters || []\n            };\n            disposable = vscode_1.languages.registerSignatureHelpProvider(options.documentSelector, provider, metaData);\n        }\n        return [disposable, provider];\n    }\n}\nclass DefinitionFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        let definitionSupport = ensure(ensure(capabilites, 'textDocument'), 'definition');\n        definitionSupport.dynamicRegistration = true;\n        definitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.definitionProvider);\n        if (!options) {\n            return;\n        }\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDefinition\n                    ? middleware.provideDefinition(document, position, token, provideDefinition)\n                    : provideDefinition(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDefinitionProvider(options.documentSelector, provider), provider];\n    }\n}\nclass ReferencesFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ReferencesRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        ensure(ensure(capabilites, 'textDocument'), 'references').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.referencesProvider);\n        if (!options) {\n            return;\n        }\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideReferences: (document, position, options, token) => {\n                const client = this._client;\n                const _providerReferences = (document, position, options, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, client.code2ProtocolConverter.asReferenceParams(document, position, options), token).then(client.protocol2CodeConverter.asReferences, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideReferences\n                    ? middleware.provideReferences(document, position, options, token, _providerReferences)\n                    : _providerReferences(document, position, options, token);\n            }\n        };\n        return [vscode_1.languages.registerReferenceProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentHighlightFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentHighlightRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        ensure(ensure(capabilites, 'textDocument'), 'documentHighlight').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentHighlightProvider);\n        if (!options) {\n            return;\n        }\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentHighlights: (document, position, token) => {\n                const client = this._client;\n                const _provideDocumentHighlights = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDocumentHighlights, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentHighlights\n                    ? middleware.provideDocumentHighlights(document, position, token, _provideDocumentHighlights)\n                    : _provideDocumentHighlights(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentHighlightProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentSymbolFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        let symbolCapabilities = ensure(ensure(capabilites, 'textDocument'), 'documentSymbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: SupportedSymbolKinds\n        };\n        symbolCapabilities.hierarchicalDocumentSymbolSupport = true;\n        symbolCapabilities.tagSupport = {\n            valueSet: SupportedSymbolTags\n        };\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentSymbolProvider);\n        if (!options) {\n            return;\n        }\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentSymbols: (document, token) => {\n                const client = this._client;\n                const _provideDocumentSymbols = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, client.code2ProtocolConverter.asDocumentSymbolParams(document), token).then((data) => {\n                        if (data === null) {\n                            return undefined;\n                        }\n                        if (data.length === 0) {\n                            return [];\n                        }\n                        else {\n                            let element = data[0];\n                            if (vscode_languageserver_protocol_1.DocumentSymbol.is(element)) {\n                                return client.protocol2CodeConverter.asDocumentSymbols(data);\n                            }\n                            else {\n                                return client.protocol2CodeConverter.asSymbolInformations(data);\n                            }\n                        }\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentSymbols\n                    ? middleware.provideDocumentSymbols(document, token, _provideDocumentSymbols)\n                    : _provideDocumentSymbols(document, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentSymbolProvider(options.documentSelector, provider), provider];\n    }\n}\nclass WorkspaceSymbolFeature extends WorkspaceFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        let symbolCapabilities = ensure(ensure(capabilites, 'workspace'), 'symbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: SupportedSymbolKinds\n        };\n        symbolCapabilities.tagSupport = {\n            valueSet: SupportedSymbolTags\n        };\n    }\n    initialize(capabilities) {\n        if (!capabilities.workspaceSymbolProvider) {\n            return;\n        }\n        this.register(this.messages, {\n            id: UUID.generateUuid(),\n            registerOptions: capabilities.workspaceSymbolProvider === true ? { workDoneProgress: false } : capabilities.workspaceSymbolProvider\n        });\n    }\n    registerLanguageProvider(_options) {\n        const provider = {\n            provideWorkspaceSymbols: (query, token) => {\n                const client = this._client;\n                const provideWorkspaceSymbols = (query, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, { query }, token).then(client.protocol2CodeConverter.asSymbolInformations, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideWorkspaceSymbols\n                    ? middleware.provideWorkspaceSymbols(query, token, provideWorkspaceSymbols)\n                    : provideWorkspaceSymbols(query, token);\n            }\n        };\n        return [vscode_1.languages.registerWorkspaceSymbolProvider(provider), provider];\n    }\n}\nclass CodeActionFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeActionRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        const cap = ensure(ensure(capabilites, 'textDocument'), 'codeAction');\n        cap.dynamicRegistration = true;\n        cap.isPreferredSupport = true;\n        cap.codeActionLiteralSupport = {\n            codeActionKind: {\n                valueSet: [\n                    vscode_languageserver_protocol_1.CodeActionKind.Empty,\n                    vscode_languageserver_protocol_1.CodeActionKind.QuickFix,\n                    vscode_languageserver_protocol_1.CodeActionKind.Refactor,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,\n                    vscode_languageserver_protocol_1.CodeActionKind.Source,\n                    vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports\n                ]\n            }\n        };\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeActionProvider);\n        if (!options) {\n            return;\n        }\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideCodeActions: (document, range, context, token) => {\n                const client = this._client;\n                const _provideCodeActions = (document, range, context, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        context: client.code2ProtocolConverter.asCodeActionContext(context)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, params, token).then((values) => {\n                        if (values === null) {\n                            return undefined;\n                        }\n                        const result = [];\n                        for (let item of values) {\n                            if (vscode_languageserver_protocol_1.Command.is(item)) {\n                                result.push(client.protocol2CodeConverter.asCommand(item));\n                            }\n                            else {\n                                result.push(client.protocol2CodeConverter.asCodeAction(item));\n                            }\n                        }\n                        return result;\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideCodeActions\n                    ? middleware.provideCodeActions(document, range, context, token, _provideCodeActions)\n                    : _provideCodeActions(document, range, context, token);\n            }\n        };\n        return [vscode_1.languages.registerCodeActionsProvider(options.documentSelector, provider, (options.codeActionKinds\n                ? { providedCodeActionKinds: this._client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds) }\n                : undefined)), provider];\n    }\n}\nclass CodeLensFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeLensRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        ensure(ensure(capabilites, 'textDocument'), 'codeLens').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeLensProvider);\n        if (!options) {\n            return;\n        }\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideCodeLenses: (document, token) => {\n                const client = this._client;\n                const provideCodeLenses = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, client.code2ProtocolConverter.asCodeLensParams(document), token).then(client.protocol2CodeConverter.asCodeLenses, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideCodeLenses\n                    ? middleware.provideCodeLenses(document, token, provideCodeLenses)\n                    : provideCodeLenses(document, token);\n            },\n            resolveCodeLens: (options.resolveProvider)\n                ? (codeLens, token) => {\n                    const client = this._client;\n                    const resolveCodeLens = (codeLens, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, client.code2ProtocolConverter.asCodeLens(codeLens), token).then(client.protocol2CodeConverter.asCodeLens, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, error, codeLens);\n                        });\n                    };\n                    const middleware = client.clientOptions.middleware;\n                    return middleware.resolveCodeLens\n                        ? middleware.resolveCodeLens(codeLens, token, resolveCodeLens)\n                        : resolveCodeLens(codeLens, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeLensProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentFormattingFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        ensure(ensure(capabilites, 'textDocument'), 'formatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentFormattingEdits: (document, options, token) => {\n                const client = this._client;\n                const provideDocumentFormattingEdits = (document, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentFormattingEdits\n                    ? middleware.provideDocumentFormattingEdits(document, options, token, provideDocumentFormattingEdits)\n                    : provideDocumentFormattingEdits(document, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentFormattingEditProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentRangeFormattingFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        ensure(ensure(capabilites, 'textDocument'), 'rangeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentRangeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentRangeFormattingEdits: (document, range, options, token) => {\n                const client = this._client;\n                const provideDocumentRangeFormattingEdits = (document, range, options, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, error, null);\n                    });\n                };\n                let middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentRangeFormattingEdits\n                    ? middleware.provideDocumentRangeFormattingEdits(document, range, options, token, provideDocumentRangeFormattingEdits)\n                    : provideDocumentRangeFormattingEdits(document, range, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentRangeFormattingEditProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentOnTypeFormattingFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        ensure(ensure(capabilites, 'textDocument'), 'onTypeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentOnTypeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideOnTypeFormattingEdits: (document, position, ch, options, token) => {\n                const client = this._client;\n                const provideOnTypeFormattingEdits = (document, position, ch, options, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        ch: ch,\n                        options: client.code2ProtocolConverter.asFormattingOptions(options)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideOnTypeFormattingEdits\n                    ? middleware.provideOnTypeFormattingEdits(document, position, ch, options, token, provideOnTypeFormattingEdits)\n                    : provideOnTypeFormattingEdits(document, position, ch, options, token);\n            }\n        };\n        const moreTriggerCharacter = options.moreTriggerCharacter || [];\n        return [vscode_1.languages.registerOnTypeFormattingEditProvider(options.documentSelector, provider, options.firstTriggerCharacter, ...moreTriggerCharacter), provider];\n    }\n}\nclass RenameFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.RenameRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        let rename = ensure(ensure(capabilites, 'textDocument'), 'rename');\n        rename.dynamicRegistration = true;\n        rename.prepareSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.renameProvider);\n        if (!options) {\n            return;\n        }\n        if (Is.boolean(capabilities.renameProvider)) {\n            options.prepareProvider = false;\n        }\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideRenameEdits: (document, position, newName, token) => {\n                const client = this._client;\n                const provideRenameEdits = (document, position, newName, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        newName: newName\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type, params, token).then(client.protocol2CodeConverter.asWorkspaceEdit, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideRenameEdits\n                    ? middleware.provideRenameEdits(document, position, newName, token, provideRenameEdits)\n                    : provideRenameEdits(document, position, newName, token);\n            },\n            prepareRename: options.prepareProvider\n                ? (document, position, token) => {\n                    const client = this._client;\n                    const prepareRename = (document, position, token) => {\n                        let params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            position: client.code2ProtocolConverter.asPosition(position),\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, params, token).then((result) => {\n                            if (vscode_languageserver_protocol_1.Range.is(result)) {\n                                return client.protocol2CodeConverter.asRange(result);\n                            }\n                            else if (result && vscode_languageserver_protocol_1.Range.is(result.range)) {\n                                return {\n                                    range: client.protocol2CodeConverter.asRange(result.range),\n                                    placeholder: result.placeholder\n                                };\n                            }\n                            // To cancel the rename vscode API expects a rejected promise.\n                            return Promise.reject(new Error(`The element can't be renamed.`));\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, error, undefined);\n                        });\n                    };\n                    const middleware = client.clientOptions.middleware;\n                    return middleware.prepareRename\n                        ? middleware.prepareRename(document, position, token, prepareRename)\n                        : prepareRename(document, position, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerRenameProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentLinkFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentLinkRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        const documentLinkCapabilities = ensure(ensure(capabilites, 'textDocument'), 'documentLink');\n        documentLinkCapabilities.dynamicRegistration = true;\n        documentLinkCapabilities.tooltipSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentLinkProvider);\n        if (!options) {\n            return;\n        }\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentLinks: (document, token) => {\n                const client = this._client;\n                const provideDocumentLinks = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, client.code2ProtocolConverter.asDocumentLinkParams(document), token).then(client.protocol2CodeConverter.asDocumentLinks, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentLinks\n                    ? middleware.provideDocumentLinks(document, token, provideDocumentLinks)\n                    : provideDocumentLinks(document, token);\n            },\n            resolveDocumentLink: options.resolveProvider\n                ? (link, token) => {\n                    const client = this._client;\n                    let resolveDocumentLink = (link, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, client.code2ProtocolConverter.asDocumentLink(link), token).then(client.protocol2CodeConverter.asDocumentLink, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, error, link);\n                        });\n                    };\n                    const middleware = client.clientOptions.middleware;\n                    return middleware.resolveDocumentLink\n                        ? middleware.resolveDocumentLink(link, token, resolveDocumentLink)\n                        : resolveDocumentLink(link, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerDocumentLinkProvider(options.documentSelector, provider), provider];\n    }\n}\nclass ConfigurationFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._listeners = new Map();\n    }\n    get messages() {\n        return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'workspace'), 'didChangeConfiguration').dynamicRegistration = true;\n    }\n    initialize() {\n        let section = this._client.clientOptions.synchronize.configurationSection;\n        if (section !== void 0) {\n            this.register(this.messages, {\n                id: UUID.generateUuid(),\n                registerOptions: {\n                    section: section\n                }\n            });\n        }\n    }\n    register(_message, data) {\n        let disposable = vscode_1.workspace.onDidChangeConfiguration((event) => {\n            this.onDidChangeConfiguration(data.registerOptions.section, event);\n        });\n        this._listeners.set(data.id, disposable);\n        if (data.registerOptions.section !== void 0) {\n            this.onDidChangeConfiguration(data.registerOptions.section, undefined);\n        }\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable) {\n            this._listeners.delete(id);\n            disposable.dispose();\n        }\n    }\n    dispose() {\n        for (let disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    onDidChangeConfiguration(configurationSection, event) {\n        let sections;\n        if (Is.string(configurationSection)) {\n            sections = [configurationSection];\n        }\n        else {\n            sections = configurationSection;\n        }\n        if (sections !== void 0 && event !== void 0) {\n            let affected = sections.some((section) => event.affectsConfiguration(section));\n            if (!affected) {\n                return;\n            }\n        }\n        let didChangeConfiguration = (sections) => {\n            if (sections === void 0) {\n                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: null });\n                return;\n            }\n            this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: this.extractSettingsInformation(sections) });\n        };\n        let middleware = this.getMiddleware();\n        middleware\n            ? middleware(sections, didChangeConfiguration)\n            : didChangeConfiguration(sections);\n    }\n    extractSettingsInformation(keys) {\n        function ensurePath(config, path) {\n            let current = config;\n            for (let i = 0; i < path.length - 1; i++) {\n                let obj = current[path[i]];\n                if (!obj) {\n                    obj = Object.create(null);\n                    current[path[i]] = obj;\n                }\n                current = obj;\n            }\n            return current;\n        }\n        let resource = this._client.clientOptions.workspaceFolder\n            ? this._client.clientOptions.workspaceFolder.uri\n            : undefined;\n        let result = Object.create(null);\n        for (let i = 0; i < keys.length; i++) {\n            let key = keys[i];\n            let index = key.indexOf('.');\n            let config = null;\n            if (index >= 0) {\n                config = vscode_1.workspace.getConfiguration(key.substr(0, index), resource).get(key.substr(index + 1));\n            }\n            else {\n                config = vscode_1.workspace.getConfiguration(undefined, resource).get(key);\n            }\n            if (config) {\n                let path = keys[i].split('.');\n                ensurePath(result, path)[path[path.length - 1]] = configuration_1.toJSONObject(config);\n            }\n        }\n        return result;\n    }\n    getMiddleware() {\n        let middleware = this._client.clientOptions.middleware;\n        if (middleware.workspace && middleware.workspace.didChangeConfiguration) {\n            return middleware.workspace.didChangeConfiguration;\n        }\n        else {\n            return undefined;\n        }\n    }\n}\nclass ExecuteCommandFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._commands = new Map();\n    }\n    get messages() {\n        return vscode_languageserver_protocol_1.ExecuteCommandRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'workspace'), 'executeCommand').dynamicRegistration = true;\n    }\n    initialize(capabilities) {\n        if (!capabilities.executeCommandProvider) {\n            return;\n        }\n        this.register(this.messages, {\n            id: UUID.generateUuid(),\n            registerOptions: Object.assign({}, capabilities.executeCommandProvider)\n        });\n    }\n    register(_message, data) {\n        const client = this._client;\n        const middleware = client.clientOptions.middleware;\n        const executeCommand = (command, args) => {\n            let params = {\n                command,\n                arguments: args\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, params).then(undefined, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, error, undefined);\n            });\n        };\n        if (data.registerOptions.commands) {\n            const disposeables = [];\n            for (const command of data.registerOptions.commands) {\n                disposeables.push(vscode_1.commands.registerCommand(command, (...args) => {\n                    return middleware.executeCommand\n                        ? middleware.executeCommand(command, args, executeCommand)\n                        : executeCommand(command, args);\n                }));\n            }\n            this._commands.set(data.id, disposeables);\n        }\n    }\n    unregister(id) {\n        let disposeables = this._commands.get(id);\n        if (disposeables) {\n            disposeables.forEach(disposable => disposable.dispose());\n        }\n    }\n    dispose() {\n        this._commands.forEach((value) => {\n            value.forEach(disposable => disposable.dispose());\n        });\n        this._commands.clear();\n    }\n}\nvar MessageTransports;\n(function (MessageTransports) {\n    function is(value) {\n        let candidate = value;\n        return candidate && vscode_languageserver_protocol_1.MessageReader.is(value.reader) && vscode_languageserver_protocol_1.MessageWriter.is(value.writer);\n    }\n    MessageTransports.is = is;\n})(MessageTransports = exports.MessageTransports || (exports.MessageTransports = {}));\nclass OnReady {\n    constructor(_resolve, _reject) {\n        this._resolve = _resolve;\n        this._reject = _reject;\n        this._used = false;\n    }\n    get isUsed() {\n        return this._used;\n    }\n    resolve() {\n        this._used = true;\n        this._resolve();\n    }\n    reject(error) {\n        this._used = true;\n        this._reject(error);\n    }\n}\nclass BaseLanguageClient {\n    constructor(id, name, clientOptions) {\n        this._traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        this._features = [];\n        this._method2Message = new Map();\n        this._dynamicFeatures = new Map();\n        this._id = id;\n        this._name = name;\n        clientOptions = clientOptions || {};\n        this._clientOptions = {\n            documentSelector: clientOptions.documentSelector || [],\n            synchronize: clientOptions.synchronize || {},\n            diagnosticCollectionName: clientOptions.diagnosticCollectionName,\n            outputChannelName: clientOptions.outputChannelName || this._name,\n            revealOutputChannelOn: clientOptions.revealOutputChannelOn || RevealOutputChannelOn.Error,\n            stdioEncoding: clientOptions.stdioEncoding || 'utf8',\n            initializationOptions: clientOptions.initializationOptions,\n            initializationFailedHandler: clientOptions.initializationFailedHandler,\n            progressOnInitialization: !!clientOptions.progressOnInitialization,\n            errorHandler: clientOptions.errorHandler || new DefaultErrorHandler(this._name),\n            middleware: clientOptions.middleware || {},\n            uriConverters: clientOptions.uriConverters,\n            workspaceFolder: clientOptions.workspaceFolder,\n            connectionOptions: clientOptions.connectionOptions\n        };\n        this._clientOptions.synchronize = this._clientOptions.synchronize || {};\n        this._state = ClientState.Initial;\n        this._connectionPromise = undefined;\n        this._resolvedConnection = undefined;\n        this._initializeResult = undefined;\n        if (clientOptions.outputChannel) {\n            this._outputChannel = clientOptions.outputChannel;\n            this._disposeOutputChannel = false;\n        }\n        else {\n            this._outputChannel = undefined;\n            this._disposeOutputChannel = true;\n        }\n        this._traceOutputChannel = clientOptions.traceOutputChannel;\n        this._listeners = undefined;\n        this._providers = undefined;\n        this._diagnostics = undefined;\n        this._fileEvents = [];\n        this._fileEventDelayer = new async_1.Delayer(250);\n        this._onReady = new Promise((resolve, reject) => {\n            this._onReadyCallbacks = new OnReady(resolve, reject);\n        });\n        this._onStop = undefined;\n        this._telemetryEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._stateChangeEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n        this._tracer = {\n            log: (messageOrDataObject, data) => {\n                if (Is.string(messageOrDataObject)) {\n                    this.logTrace(messageOrDataObject, data);\n                }\n                else {\n                    this.logObjectTrace(messageOrDataObject);\n                }\n            },\n        };\n        this._c2p = c2p.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.code2Protocol : undefined);\n        this._p2c = p2c.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.protocol2Code : undefined);\n        this._syncedDocuments = new Map();\n        this.registerBuiltinFeatures();\n    }\n    get state() {\n        return this._state;\n    }\n    set state(value) {\n        let oldState = this.getPublicState();\n        this._state = value;\n        let newState = this.getPublicState();\n        if (newState !== oldState) {\n            this._stateChangeEmitter.fire({ oldState, newState });\n        }\n    }\n    getPublicState() {\n        if (this.state === ClientState.Running) {\n            return State.Running;\n        }\n        else if (this.state === ClientState.Starting) {\n            return State.Starting;\n        }\n        else {\n            return State.Stopped;\n        }\n    }\n    get initializeResult() {\n        return this._initializeResult;\n    }\n    sendRequest(type, ...params) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        this.forceDocumentSync();\n        try {\n            return this._resolvedConnection.sendRequest(type, ...params);\n        }\n        catch (error) {\n            this.error(`Sending request ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onRequest(type, handler) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        try {\n            this._resolvedConnection.onRequest(type, handler);\n        }\n        catch (error) {\n            this.error(`Registering request handler ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    sendNotification(type, params) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        this.forceDocumentSync();\n        try {\n            this._resolvedConnection.sendNotification(type, params);\n        }\n        catch (error) {\n            this.error(`Sending notification ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onNotification(type, handler) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        try {\n            this._resolvedConnection.onNotification(type, handler);\n        }\n        catch (error) {\n            this.error(`Registering notification handler ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onProgress(type, token, handler) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        try {\n            return this._resolvedConnection.onProgress(type, token, handler);\n        }\n        catch (error) {\n            this.error(`Registering progress handler for token ${token} failed.`, error);\n            throw error;\n        }\n    }\n    sendProgress(type, token, value) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        this.forceDocumentSync();\n        try {\n            this._resolvedConnection.sendProgress(type, token, value);\n        }\n        catch (error) {\n            this.error(`Sending progress for token ${token} failed.`, error);\n            throw error;\n        }\n    }\n    get clientOptions() {\n        return this._clientOptions;\n    }\n    get protocol2CodeConverter() {\n        return this._p2c;\n    }\n    get code2ProtocolConverter() {\n        return this._c2p;\n    }\n    get onTelemetry() {\n        return this._telemetryEmitter.event;\n    }\n    get onDidChangeState() {\n        return this._stateChangeEmitter.event;\n    }\n    get outputChannel() {\n        if (!this._outputChannel) {\n            this._outputChannel = vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName ? this._clientOptions.outputChannelName : this._name);\n        }\n        return this._outputChannel;\n    }\n    get traceOutputChannel() {\n        if (this._traceOutputChannel) {\n            return this._traceOutputChannel;\n        }\n        return this.outputChannel;\n    }\n    get diagnostics() {\n        return this._diagnostics;\n    }\n    createDefaultErrorHandler() {\n        return new DefaultErrorHandler(this._name);\n    }\n    set trace(value) {\n        this._trace = value;\n        this.onReady().then(() => {\n            this.resolveConnection().then((connection) => {\n                connection.trace(this._trace, this._tracer, {\n                    sendNotification: false,\n                    traceFormat: this._traceFormat\n                });\n            });\n        }, () => {\n        });\n    }\n    data2String(data) {\n        if (data instanceof vscode_languageserver_protocol_1.ResponseError) {\n            const responseError = data;\n            return `  Message: ${responseError.message}\\n  Code: ${responseError.code} ${responseError.data ? '\\n' + responseError.data.toString() : ''}`;\n        }\n        if (data instanceof Error) {\n            if (Is.string(data.stack)) {\n                return data.stack;\n            }\n            return data.message;\n        }\n        if (Is.string(data)) {\n            return data;\n        }\n        return data.toString();\n    }\n    info(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Info  - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Info) {\n            this.showNotificationMessage();\n        }\n    }\n    warn(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Warn  - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Warn) {\n            this.showNotificationMessage();\n        }\n    }\n    error(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Error - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Error) {\n            this.showNotificationMessage();\n        }\n    }\n    showNotificationMessage() {\n        vscode_1.window.showInformationMessage('A request has failed. See the output for more information.', 'Go to output').then(() => {\n            this.outputChannel.show(true);\n        });\n    }\n    logTrace(message, data) {\n        this.traceOutputChannel.appendLine(`[Trace - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.traceOutputChannel.appendLine(this.data2String(data));\n        }\n    }\n    logObjectTrace(data) {\n        if (data.isLSPMessage && data.type) {\n            this.traceOutputChannel.append(`[LSP   - ${(new Date().toLocaleTimeString())}] `);\n        }\n        else {\n            this.traceOutputChannel.append(`[Trace - ${(new Date().toLocaleTimeString())}] `);\n        }\n        if (data) {\n            this.traceOutputChannel.appendLine(`${JSON.stringify(data)}`);\n        }\n    }\n    needsStart() {\n        return this.state === ClientState.Initial || this.state === ClientState.Stopping || this.state === ClientState.Stopped;\n    }\n    needsStop() {\n        return this.state === ClientState.Starting || this.state === ClientState.Running;\n    }\n    onReady() {\n        return this._onReady;\n    }\n    isConnectionActive() {\n        return this.state === ClientState.Running && !!this._resolvedConnection;\n    }\n    start() {\n        if (this._onReadyCallbacks.isUsed) {\n            this._onReady = new Promise((resolve, reject) => {\n                this._onReadyCallbacks = new OnReady(resolve, reject);\n            });\n        }\n        this._listeners = [];\n        this._providers = [];\n        // If we restart then the diagnostics collection is reused.\n        if (!this._diagnostics) {\n            this._diagnostics = this._clientOptions.diagnosticCollectionName\n                ? vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName)\n                : vscode_1.languages.createDiagnosticCollection();\n        }\n        this.state = ClientState.Starting;\n        this.resolveConnection().then((connection) => {\n            connection.onLogMessage((message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        this.error(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        this.warn(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        this.info(message.message, undefined, false);\n                        break;\n                    default:\n                        this.outputChannel.appendLine(message.message);\n                }\n            });\n            connection.onShowMessage((message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        vscode_1.window.showErrorMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        vscode_1.window.showWarningMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        vscode_1.window.showInformationMessage(message.message);\n                        break;\n                    default:\n                        vscode_1.window.showInformationMessage(message.message);\n                }\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, (params) => {\n                let messageFunc;\n                switch (params.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        messageFunc = vscode_1.window.showErrorMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        messageFunc = vscode_1.window.showWarningMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                        break;\n                    default:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                }\n                let actions = params.actions || [];\n                return messageFunc(params.message, ...actions);\n            });\n            connection.onTelemetry((data) => {\n                this._telemetryEmitter.fire(data);\n            });\n            connection.listen();\n            // Error is handled in the initialize call.\n            return this.initialize(connection);\n        }).then(undefined, (error) => {\n            this.state = ClientState.StartFailed;\n            this._onReadyCallbacks.reject(error);\n            this.error('Starting client failed', error);\n            vscode_1.window.showErrorMessage(`Couldn't start client ${this._name}`);\n        });\n        return new vscode_1.Disposable(() => {\n            if (this.needsStop()) {\n                this.stop();\n            }\n        });\n    }\n    resolveConnection() {\n        if (!this._connectionPromise) {\n            this._connectionPromise = this.createConnection();\n        }\n        return this._connectionPromise;\n    }\n    initialize(connection) {\n        this.refreshTrace(connection, false);\n        let initOption = this._clientOptions.initializationOptions;\n        let rootPath = this._clientOptions.workspaceFolder\n            ? this._clientOptions.workspaceFolder.uri.fsPath\n            : this._clientGetRootPath();\n        let initParams = {\n            processId: null,\n            clientInfo: {\n                name: 'vscode',\n                version: vscode_1.version\n            },\n            rootPath: rootPath ? rootPath : null,\n            rootUri: rootPath ? this._c2p.asUri(vscode_1.Uri.file(rootPath)) : null,\n            capabilities: this.computeClientCapabilities(),\n            initializationOptions: Is.func(initOption) ? initOption() : initOption,\n            trace: vscode_languageserver_protocol_1.Trace.toString(this._trace),\n            workspaceFolders: null\n        };\n        this.fillInitializeParams(initParams);\n        if (this._clientOptions.progressOnInitialization) {\n            const token = UUID.generateUuid();\n            const part = new progressPart_1.ProgressPart(connection, token);\n            initParams.workDoneToken = token;\n            return this.doInitialize(connection, initParams).then((result) => {\n                part.done();\n                return result;\n            }, (error) => {\n                part.cancel();\n                throw error;\n            });\n        }\n        else {\n            return this.doInitialize(connection, initParams);\n        }\n    }\n    doInitialize(connection, initParams) {\n        return connection.initialize(initParams).then((result) => {\n            this._resolvedConnection = connection;\n            this._initializeResult = result;\n            this.state = ClientState.Running;\n            let textDocumentSyncOptions = undefined;\n            if (Is.number(result.capabilities.textDocumentSync)) {\n                if (result.capabilities.textDocumentSync === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n                    textDocumentSyncOptions = {\n                        openClose: false,\n                        change: vscode_languageserver_protocol_1.TextDocumentSyncKind.None,\n                        save: undefined\n                    };\n                }\n                else {\n                    textDocumentSyncOptions = {\n                        openClose: true,\n                        change: result.capabilities.textDocumentSync,\n                        save: {\n                            includeText: false\n                        }\n                    };\n                }\n            }\n            else if (result.capabilities.textDocumentSync !== void 0 && result.capabilities.textDocumentSync !== null) {\n                textDocumentSyncOptions = result.capabilities.textDocumentSync;\n            }\n            this._capabilities = Object.assign({}, result.capabilities, { resolvedTextDocumentSync: textDocumentSyncOptions });\n            connection.onDiagnostics(params => this.handleDiagnostics(params));\n            connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params => this.handleRegistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/registerFeature', params => this.handleRegistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params => this.handleUnregistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/unregisterFeature', params => this.handleUnregistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params => this.handleApplyWorkspaceEdit(params));\n            connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type, {});\n            this.hookFileEvents(connection);\n            this.hookConfigurationChanged(connection);\n            this.initializeFeatures(connection);\n            this._onReadyCallbacks.resolve();\n            return result;\n        }).then(undefined, (error) => {\n            if (this._clientOptions.initializationFailedHandler) {\n                if (this._clientOptions.initializationFailedHandler(error)) {\n                    this.initialize(connection);\n                }\n                else {\n                    this.stop();\n                    this._onReadyCallbacks.reject(error);\n                }\n            }\n            else if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.data && error.data.retry) {\n                vscode_1.window.showErrorMessage(error.message, { title: 'Retry', id: 'retry' }).then(item => {\n                    if (item && item.id === 'retry') {\n                        this.initialize(connection);\n                    }\n                    else {\n                        this.stop();\n                        this._onReadyCallbacks.reject(error);\n                    }\n                });\n            }\n            else {\n                if (error && error.message) {\n                    vscode_1.window.showErrorMessage(error.message);\n                }\n                this.error('Server initialization failed.', error);\n                this.stop();\n                this._onReadyCallbacks.reject(error);\n            }\n            throw error;\n        });\n    }\n    _clientGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    stop() {\n        this._initializeResult = undefined;\n        if (!this._connectionPromise) {\n            this.state = ClientState.Stopped;\n            return Promise.resolve();\n        }\n        if (this.state === ClientState.Stopping && this._onStop) {\n            return this._onStop;\n        }\n        this.state = ClientState.Stopping;\n        this.cleanUp(false);\n        // unhook listeners\n        return this._onStop = this.resolveConnection().then(connection => {\n            return connection.shutdown().then(() => {\n                connection.exit();\n                connection.dispose();\n                this.state = ClientState.Stopped;\n                this.cleanUpChannel();\n                this._onStop = undefined;\n                this._connectionPromise = undefined;\n                this._resolvedConnection = undefined;\n            });\n        });\n    }\n    cleanUp(channel = true, diagnostics = true) {\n        if (this._listeners) {\n            this._listeners.forEach(listener => listener.dispose());\n            this._listeners = undefined;\n        }\n        if (this._providers) {\n            this._providers.forEach(provider => provider.dispose());\n            this._providers = undefined;\n        }\n        if (this._syncedDocuments) {\n            this._syncedDocuments.clear();\n        }\n        for (let handler of this._dynamicFeatures.values()) {\n            handler.dispose();\n        }\n        if (channel) {\n            this.cleanUpChannel();\n        }\n        if (diagnostics && this._diagnostics) {\n            this._diagnostics.dispose();\n            this._diagnostics = undefined;\n        }\n    }\n    cleanUpChannel() {\n        if (this._outputChannel && this._disposeOutputChannel) {\n            this._outputChannel.dispose();\n            this._outputChannel = undefined;\n        }\n    }\n    notifyFileEvent(event) {\n        var _a;\n        const client = this;\n        function didChangeWatchedFile(event) {\n            client._fileEvents.push(event);\n            client._fileEventDelayer.trigger(() => {\n                client.onReady().then(() => {\n                    client.resolveConnection().then(connection => {\n                        if (client.isConnectionActive()) {\n                            client.forceDocumentSync();\n                            connection.didChangeWatchedFiles({ changes: client._fileEvents });\n                        }\n                        client._fileEvents = [];\n                    });\n                }, (error) => {\n                    client.error(`Notify file events failed.`, error);\n                });\n            });\n        }\n        const workSpaceMiddleware = (_a = this.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        (workSpaceMiddleware === null || workSpaceMiddleware === void 0 ? void 0 : workSpaceMiddleware.didChangeWatchedFile) ? workSpaceMiddleware.didChangeWatchedFile(event, didChangeWatchedFile) : didChangeWatchedFile(event);\n    }\n    forceDocumentSync() {\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method).forceDelivery();\n    }\n    handleDiagnostics(params) {\n        if (!this._diagnostics) {\n            return;\n        }\n        let uri = this._p2c.asUri(params.uri);\n        let diagnostics = this._p2c.asDiagnostics(params.diagnostics);\n        let middleware = this.clientOptions.middleware;\n        if (middleware.handleDiagnostics) {\n            middleware.handleDiagnostics(uri, diagnostics, (uri, diagnostics) => this.setDiagnostics(uri, diagnostics));\n        }\n        else {\n            this.setDiagnostics(uri, diagnostics);\n        }\n    }\n    setDiagnostics(uri, diagnostics) {\n        if (!this._diagnostics) {\n            return;\n        }\n        this._diagnostics.set(uri, diagnostics);\n    }\n    createConnection() {\n        let errorHandler = (error, message, count) => {\n            this.handleConnectionError(error, message, count);\n        };\n        let closeHandler = () => {\n            this.handleConnectionClosed();\n        };\n        return this.createMessageTransports(this._clientOptions.stdioEncoding || 'utf8').then((transports) => {\n            return createConnection(transports.reader, transports.writer, errorHandler, closeHandler, this._clientOptions.connectionOptions);\n        });\n    }\n    handleConnectionClosed() {\n        // Check whether this is a normal shutdown in progress or the client stopped normally.\n        if (this.state === ClientState.Stopping || this.state === ClientState.Stopped) {\n            return;\n        }\n        try {\n            if (this._resolvedConnection) {\n                this._resolvedConnection.dispose();\n            }\n        }\n        catch (error) {\n            // Disposing a connection could fail if error cases.\n        }\n        let action = CloseAction.DoNotRestart;\n        try {\n            action = this._clientOptions.errorHandler.closed();\n        }\n        catch (error) {\n            // Ignore errors coming from the error handler.\n        }\n        this._connectionPromise = undefined;\n        this._resolvedConnection = undefined;\n        if (action === CloseAction.DoNotRestart) {\n            this.error('Connection to server got closed. Server will not be restarted.');\n            this.state = ClientState.Stopped;\n            this.cleanUp(false, true);\n        }\n        else if (action === CloseAction.Restart) {\n            this.info('Connection to server got closed. Server will restart.');\n            this.cleanUp(false, false);\n            this.state = ClientState.Initial;\n            this.start();\n        }\n    }\n    handleConnectionError(error, message, count) {\n        let action = this._clientOptions.errorHandler.error(error, message, count);\n        if (action === ErrorAction.Shutdown) {\n            this.error('Connection to server is erroring. Shutting down server.');\n            this.stop();\n        }\n    }\n    hookConfigurationChanged(connection) {\n        vscode_1.workspace.onDidChangeConfiguration(() => {\n            this.refreshTrace(connection, true);\n        });\n    }\n    refreshTrace(connection, sendNotification = false) {\n        let config = vscode_1.workspace.getConfiguration(this._id);\n        let trace = vscode_languageserver_protocol_1.Trace.Off;\n        let traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        if (config) {\n            const traceConfig = config.get('trace.server', 'off');\n            if (typeof traceConfig === 'string') {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(traceConfig);\n            }\n            else {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(config.get('trace.server.verbosity', 'off'));\n                traceFormat = vscode_languageserver_protocol_1.TraceFormat.fromString(config.get('trace.server.format', 'text'));\n            }\n        }\n        this._trace = trace;\n        this._traceFormat = traceFormat;\n        connection.trace(this._trace, this._tracer, {\n            sendNotification,\n            traceFormat: this._traceFormat\n        });\n    }\n    hookFileEvents(_connection) {\n        let fileEvents = this._clientOptions.synchronize.fileEvents;\n        if (!fileEvents) {\n            return;\n        }\n        let watchers;\n        if (Is.array(fileEvents)) {\n            watchers = fileEvents;\n        }\n        else {\n            watchers = [fileEvents];\n        }\n        if (!watchers) {\n            return;\n        }\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(), watchers);\n    }\n    registerFeatures(features) {\n        for (let feature of features) {\n            this.registerFeature(feature);\n        }\n    }\n    registerFeature(feature) {\n        this._features.push(feature);\n        if (DynamicFeature.is(feature)) {\n            let messages = feature.messages;\n            if (Array.isArray(messages)) {\n                for (let message of messages) {\n                    this._method2Message.set(message.method, message);\n                    this._dynamicFeatures.set(message.method, feature);\n                }\n            }\n            else {\n                this._method2Message.set(messages.method, messages);\n                this._dynamicFeatures.set(messages.method, feature);\n            }\n        }\n    }\n    getFeature(request) {\n        return this._dynamicFeatures.get(request);\n    }\n    registerBuiltinFeatures() {\n        this.registerFeature(new ConfigurationFeature(this));\n        this.registerFeature(new DidOpenTextDocumentFeature(this, this._syncedDocuments));\n        this.registerFeature(new DidChangeTextDocumentFeature(this));\n        this.registerFeature(new WillSaveFeature(this));\n        this.registerFeature(new WillSaveWaitUntilFeature(this));\n        this.registerFeature(new DidSaveTextDocumentFeature(this));\n        this.registerFeature(new DidCloseTextDocumentFeature(this, this._syncedDocuments));\n        this.registerFeature(new FileSystemWatcherFeature(this, (event) => this.notifyFileEvent(event)));\n        this.registerFeature(new CompletionItemFeature(this));\n        this.registerFeature(new HoverFeature(this));\n        this.registerFeature(new SignatureHelpFeature(this));\n        this.registerFeature(new DefinitionFeature(this));\n        this.registerFeature(new ReferencesFeature(this));\n        this.registerFeature(new DocumentHighlightFeature(this));\n        this.registerFeature(new DocumentSymbolFeature(this));\n        this.registerFeature(new WorkspaceSymbolFeature(this));\n        this.registerFeature(new CodeActionFeature(this));\n        this.registerFeature(new CodeLensFeature(this));\n        this.registerFeature(new DocumentFormattingFeature(this));\n        this.registerFeature(new DocumentRangeFormattingFeature(this));\n        this.registerFeature(new DocumentOnTypeFormattingFeature(this));\n        this.registerFeature(new RenameFeature(this));\n        this.registerFeature(new DocumentLinkFeature(this));\n        this.registerFeature(new ExecuteCommandFeature(this));\n    }\n    fillInitializeParams(params) {\n        for (let feature of this._features) {\n            if (Is.func(feature.fillInitializeParams)) {\n                feature.fillInitializeParams(params);\n            }\n        }\n    }\n    computeClientCapabilities() {\n        let result = {};\n        ensure(result, 'workspace').applyEdit = true;\n        let workspaceEdit = ensure(ensure(result, 'workspace'), 'workspaceEdit');\n        workspaceEdit.documentChanges = true;\n        workspaceEdit.resourceOperations = [vscode_languageserver_protocol_1.ResourceOperationKind.Create, vscode_languageserver_protocol_1.ResourceOperationKind.Rename, vscode_languageserver_protocol_1.ResourceOperationKind.Delete];\n        workspaceEdit.failureHandling = vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional;\n        let diagnostics = ensure(ensure(result, 'textDocument'), 'publishDiagnostics');\n        diagnostics.relatedInformation = true;\n        diagnostics.versionSupport = false;\n        diagnostics.tagSupport = { valueSet: [vscode_languageserver_protocol_1.DiagnosticTag.Unnecessary, vscode_languageserver_protocol_1.DiagnosticTag.Deprecated] };\n        diagnostics.complexDiagnosticCodeSupport = true;\n        for (let feature of this._features) {\n            feature.fillClientCapabilities(result);\n        }\n        return result;\n    }\n    initializeFeatures(_connection) {\n        let documentSelector = this._clientOptions.documentSelector;\n        for (let feature of this._features) {\n            feature.initialize(this._capabilities, documentSelector);\n        }\n    }\n    handleRegistrationRequest(params) {\n        return new Promise((resolve, reject) => {\n            for (let registration of params.registrations) {\n                const feature = this._dynamicFeatures.get(registration.method);\n                if (!feature) {\n                    reject(new Error(`No feature implementation for ${registration.method} found. Registration failed.`));\n                    return;\n                }\n                const options = registration.registerOptions || {};\n                options.documentSelector = options.documentSelector || this._clientOptions.documentSelector;\n                const data = {\n                    id: registration.id,\n                    registerOptions: options\n                };\n                feature.register(this._method2Message.get(registration.method), data);\n            }\n            resolve();\n        });\n    }\n    handleUnregistrationRequest(params) {\n        return new Promise((resolve, reject) => {\n            for (let unregistration of params.unregisterations) {\n                const feature = this._dynamicFeatures.get(unregistration.method);\n                if (!feature) {\n                    reject(new Error(`No feature implementation for ${unregistration.method} found. Unregistration failed.`));\n                    return;\n                }\n                feature.unregister(unregistration.id);\n            }\n            resolve();\n        });\n    }\n    handleApplyWorkspaceEdit(params) {\n        // This is some sort of workaround since the version check should be done by VS Code in the Workspace.applyEdit.\n        // However doing it here adds some safety since the server can lag more behind then an extension.\n        let workspaceEdit = params.edit;\n        let openTextDocuments = new Map();\n        vscode_1.workspace.textDocuments.forEach((document) => openTextDocuments.set(document.uri.toString(), document));\n        let versionMismatch = false;\n        if (workspaceEdit.documentChanges) {\n            for (const change of workspaceEdit.documentChanges) {\n                if (vscode_languageserver_protocol_1.TextDocumentEdit.is(change) && change.textDocument.version && change.textDocument.version >= 0) {\n                    let textDocument = openTextDocuments.get(change.textDocument.uri);\n                    if (textDocument && textDocument.version !== change.textDocument.version) {\n                        versionMismatch = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (versionMismatch) {\n            return Promise.resolve({ applied: false });\n        }\n        return Is.asPromise(vscode_1.workspace.applyEdit(this._p2c.asWorkspaceEdit(params.edit)).then((value) => { return { applied: value }; }));\n    }\n    handleFailedRequest(type, error, defaultValue) {\n        // If we get a request cancel or a content modified don't log anything.\n        if (error instanceof vscode_languageserver_protocol_1.ResponseError) {\n            if (error.code === vscode_languageserver_protocol_1.ErrorCodes.RequestCancelled) {\n                throw this.makeCancelError();\n            }\n            else if (error.code === vscode_languageserver_protocol_1.ErrorCodes.ContentModified) {\n                return defaultValue;\n            }\n        }\n        this.error(`Request ${type.method} failed.`, error);\n        throw error;\n    }\n    makeCancelError() {\n        const result = new Error(BaseLanguageClient.Canceled);\n        result.name = BaseLanguageClient.Canceled;\n        return result;\n    }\n}\nexports.BaseLanguageClient = BaseLanguageClient;\nBaseLanguageClient.Canceled = 'Canceled';\n//# sourceMappingURL=client.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asPromise = exports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\nfunction asPromise(value) {\n    if (value instanceof Promise) {\n        return value;\n    }\n    else if (thenable(value)) {\n        return new Promise((resolve, reject) => {\n            value.then((resolved) => resolve(resolved), (error) => reject(error));\n        });\n    }\n    else {\n        return Promise.resolve(value);\n    }\n}\nexports.asPromise = asPromise;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                ral_1.default().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n//# sourceMappingURL=events.js.map","module.exports = require(\"path\");","module.exports = require(\"fs\");","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Uri, workspace } from 'vscode';\nimport { RequestType, CommonLanguageClient } from 'vscode-languageclient';\nimport { Runtime } from './cssClient';\n\nexport namespace FsContentRequest {\n\texport const type: RequestType<{ uri: string; encoding?: string; }, string, any, any> = new RequestType('fs/content');\n}\nexport namespace FsStatRequest {\n\texport const type: RequestType<string, FileStat, any, any> = new RequestType('fs/stat');\n}\n\nexport namespace FsReadDirRequest {\n\texport const type: RequestType<string, [string, FileType][], any, any> = new RequestType('fs/readDir');\n}\n\nexport function serveFileSystemRequests(client: CommonLanguageClient, runtime: Runtime) {\n\tclient.onRequest(FsContentRequest.type, (param: { uri: string; encoding?: string; }) => {\n\t\tconst uri = Uri.parse(param.uri);\n\t\tif (uri.scheme === 'file' && runtime.fs) {\n\t\t\treturn runtime.fs.getContent(param.uri);\n\t\t}\n\t\treturn workspace.fs.readFile(uri).then(buffer => {\n\t\t\treturn new runtime.TextDecoder(param.encoding).decode(buffer);\n\t\t});\n\t});\n\tclient.onRequest(FsReadDirRequest.type, (uriString: string) => {\n\t\tconst uri = Uri.parse(uriString);\n\t\tif (uri.scheme === 'file' && runtime.fs) {\n\t\t\treturn runtime.fs.readDirectory(uriString);\n\t\t}\n\t\treturn workspace.fs.readDirectory(uri);\n\t});\n\tclient.onRequest(FsStatRequest.type, (uriString: string) => {\n\t\tconst uri = Uri.parse(uriString);\n\t\tif (uri.scheme === 'file' && runtime.fs) {\n\t\t\treturn runtime.fs.stat(uriString);\n\t\t}\n\t\treturn workspace.fs.stat(uri);\n\t});\n}\n\nexport enum FileType {\n\t/**\n\t * The file type is unknown.\n\t */\n\tUnknown = 0,\n\t/**\n\t * A regular file.\n\t */\n\tFile = 1,\n\t/**\n\t * A directory.\n\t */\n\tDirectory = 2,\n\t/**\n\t * A symbolic link to a file.\n\t */\n\tSymbolicLink = 64\n}\nexport interface FileStat {\n\t/**\n\t * The type of the file, e.g. is a regular file, a directory, or symbolic link\n\t * to a file.\n\t */\n\ttype: FileType;\n\t/**\n\t * The creation timestamp in milliseconds elapsed since January 1, 1970 00:00:00 UTC.\n\t */\n\tctime: number;\n\t/**\n\t * The modification timestamp in milliseconds elapsed since January 1, 1970 00:00:00 UTC.\n\t */\n\tmtime: number;\n\t/**\n\t * The size in bytes.\n\t */\n\tsize: number;\n}\n\nexport interface RequestService {\n\tgetContent(uri: string, encoding?: string): Promise<string>;\n\n\tstat(uri: string): Promise<FileStat>;\n\treadDirectory(uri: string): Promise<[string, FileType][]>;\n}\n\nexport function getScheme(uri: string) {\n\treturn uri.substr(0, uri.indexOf(':'));\n}\n\nexport function dirname(uri: string) {\n\tconst lastIndexOfSlash = uri.lastIndexOf('/');\n\treturn lastIndexOfSlash !== -1 ? uri.substr(0, lastIndexOfSlash) : '';\n}\n\nexport function basename(uri: string) {\n\tconst lastIndexOfSlash = uri.lastIndexOf('/');\n\treturn uri.substr(lastIndexOfSlash + 1);\n}\n\nconst Slash = '/'.charCodeAt(0);\nconst Dot = '.'.charCodeAt(0);\n\nexport function isAbsolutePath(path: string) {\n\treturn path.charCodeAt(0) === Slash;\n}\n\nexport function resolvePath(uri: Uri, path: string): Uri {\n\tif (isAbsolutePath(path)) {\n\t\treturn uri.with({ path: normalizePath(path.split('/')) });\n\t}\n\treturn joinPath(uri, path);\n}\n\nexport function normalizePath(parts: string[]): string {\n\tconst newParts: string[] = [];\n\tfor (const part of parts) {\n\t\tif (part.length === 0 || part.length === 1 && part.charCodeAt(0) === Dot) {\n\t\t\t// ignore\n\t\t} else if (part.length === 2 && part.charCodeAt(0) === Dot && part.charCodeAt(1) === Dot) {\n\t\t\tnewParts.pop();\n\t\t} else {\n\t\t\tnewParts.push(part);\n\t\t}\n\t}\n\tif (parts.length > 1 && parts[parts.length - 1].length === 0) {\n\t\tnewParts.push('');\n\t}\n\tlet res = newParts.join('/');\n\tif (parts[0].length === 0) {\n\t\tres = '/' + res;\n\t}\n\treturn res;\n}\n\n\nexport function joinPath(uri: Uri, ...paths: string[]): Uri {\n\tconst parts = uri.path.split('/');\n\tfor (let path of paths) {\n\t\tparts.push(...path.split('/'));\n\t}\n\treturn uri.with({ path: normalizePath(parts) });\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingMonitor = exports.LanguageClient = exports.TransportKind = void 0;\nconst cp = require(\"child_process\");\nconst fs = require(\"fs\");\nconst SemVer = require(\"semver\");\nconst vscode_1 = require(\"vscode\");\nconst Is = require(\"../common/utils/is\");\nconst commonClient_1 = require(\"../common/commonClient\");\nconst client_1 = require(\"../common/client\");\nconst processes_1 = require(\"./processes\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n__exportStar(require(\"../common/api\"), exports);\nconst REQUIRED_VSCODE_VERSION = '^1.44.0'; // do not change format, updated by `updateVSCode` script\nvar Executable;\n(function (Executable) {\n    function is(value) {\n        return Is.string(value.command);\n    }\n    Executable.is = is;\n})(Executable || (Executable = {}));\nvar TransportKind;\n(function (TransportKind) {\n    TransportKind[TransportKind[\"stdio\"] = 0] = \"stdio\";\n    TransportKind[TransportKind[\"ipc\"] = 1] = \"ipc\";\n    TransportKind[TransportKind[\"pipe\"] = 2] = \"pipe\";\n    TransportKind[TransportKind[\"socket\"] = 3] = \"socket\";\n})(TransportKind = exports.TransportKind || (exports.TransportKind = {}));\nvar Transport;\n(function (Transport) {\n    function isSocket(value) {\n        let candidate = value;\n        return candidate && candidate.kind === TransportKind.socket && Is.number(candidate.port);\n    }\n    Transport.isSocket = isSocket;\n})(Transport || (Transport = {}));\nvar NodeModule;\n(function (NodeModule) {\n    function is(value) {\n        return Is.string(value.module);\n    }\n    NodeModule.is = is;\n})(NodeModule || (NodeModule = {}));\nvar StreamInfo;\n(function (StreamInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.writer !== void 0 && candidate.reader !== void 0;\n    }\n    StreamInfo.is = is;\n})(StreamInfo || (StreamInfo = {}));\nvar ChildProcessInfo;\n(function (ChildProcessInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.process !== void 0 && typeof candidate.detached === 'boolean';\n    }\n    ChildProcessInfo.is = is;\n})(ChildProcessInfo || (ChildProcessInfo = {}));\nclass LanguageClient extends commonClient_1.CommonLanguageClient {\n    constructor(arg1, arg2, arg3, arg4, arg5) {\n        let id;\n        let name;\n        let serverOptions;\n        let clientOptions;\n        let forceDebug;\n        if (Is.string(arg2)) {\n            id = arg1;\n            name = arg2;\n            serverOptions = arg3;\n            clientOptions = arg4;\n            forceDebug = !!arg5;\n        }\n        else {\n            id = arg1.toLowerCase();\n            name = arg1;\n            serverOptions = arg2;\n            clientOptions = arg3;\n            forceDebug = arg4;\n        }\n        if (forceDebug === void 0) {\n            forceDebug = false;\n        }\n        super(id, name, clientOptions);\n        this._serverOptions = serverOptions;\n        this._forceDebug = forceDebug;\n        try {\n            this.checkVersion();\n        }\n        catch (error) {\n            if (Is.string(error.message)) {\n                this.outputChannel.appendLine(error.message);\n            }\n            throw error;\n        }\n    }\n    checkVersion() {\n        let codeVersion = SemVer.parse(vscode_1.version);\n        if (!codeVersion) {\n            throw new Error(`No valid VS Code version detected. Version string is: ${vscode_1.version}`);\n        }\n        // Remove the insider pre-release since we stay API compatible.\n        if (codeVersion.prerelease && codeVersion.prerelease.length > 0) {\n            codeVersion.prerelease = [];\n        }\n        if (!SemVer.satisfies(codeVersion, REQUIRED_VSCODE_VERSION)) {\n            throw new Error(`The language client requires VS Code version ${REQUIRED_VSCODE_VERSION} but received version ${vscode_1.version}`);\n        }\n    }\n    stop() {\n        return super.stop().then(() => {\n            if (this._serverProcess) {\n                let toCheck = this._serverProcess;\n                this._serverProcess = undefined;\n                if (this._isDetached === void 0 || !this._isDetached) {\n                    this.checkProcessDied(toCheck);\n                }\n                this._isDetached = undefined;\n            }\n        });\n    }\n    checkProcessDied(childProcess) {\n        if (!childProcess) {\n            return;\n        }\n        setTimeout(() => {\n            // Test if the process is still alive. Throws an exception if not\n            try {\n                process.kill(childProcess.pid, 0);\n                processes_1.terminate(childProcess);\n            }\n            catch (error) {\n                // All is fine.\n            }\n        }, 2000);\n    }\n    handleConnectionClosed() {\n        this._serverProcess = undefined;\n        super.handleConnectionClosed();\n    }\n    fillInitializeParams(params) {\n        super.fillInitializeParams(params);\n        if (params.processId === null) {\n            params.processId = process.pid;\n        }\n    }\n    createMessageTransports(encoding) {\n        function getEnvironment(env, fork) {\n            if (!env && !fork) {\n                return undefined;\n            }\n            let result = Object.create(null);\n            Object.keys(process.env).forEach(key => result[key] = process.env[key]);\n            if (fork) {\n                result['ELECTRON_RUN_AS_NODE'] = '1';\n                result['ELECTRON_NO_ASAR'] = '1';\n            }\n            if (env) {\n                Object.keys(env).forEach(key => result[key] = env[key]);\n            }\n            return result;\n        }\n        const debugStartWith = ['--debug=', '--debug-brk=', '--inspect=', '--inspect-brk='];\n        const debugEquals = ['--debug', '--debug-brk', '--inspect', '--inspect-brk'];\n        function startedInDebugMode() {\n            let args = process.execArgv;\n            if (args) {\n                return args.some((arg) => {\n                    return debugStartWith.some(value => arg.startsWith(value)) ||\n                        debugEquals.some(value => arg === value);\n                });\n            }\n            return false;\n        }\n        function assertStdio(process) {\n            if (process.stdin === null || process.stdout === null || process.stderr === null) {\n                throw new Error('Process created without stdio streams');\n            }\n        }\n        let server = this._serverOptions;\n        // We got a function.\n        if (Is.func(server)) {\n            return server().then((result) => {\n                if (client_1.MessageTransports.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return result;\n                }\n                else if (StreamInfo.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return { reader: new node_1.StreamMessageReader(result.reader), writer: new node_1.StreamMessageWriter(result.writer) };\n                }\n                else {\n                    let cp;\n                    if (ChildProcessInfo.is(result)) {\n                        cp = result.process;\n                        this._isDetached = result.detached;\n                    }\n                    else {\n                        cp = result;\n                        this._isDetached = false;\n                    }\n                    cp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                    return { reader: new node_1.StreamMessageReader(cp.stdout), writer: new node_1.StreamMessageWriter(cp.stdin) };\n                }\n            });\n        }\n        let json;\n        let runDebug = server;\n        if (runDebug.run || runDebug.debug) {\n            if (this._forceDebug || startedInDebugMode()) {\n                json = runDebug.debug;\n            }\n            else {\n                json = runDebug.run;\n            }\n        }\n        else {\n            json = server;\n        }\n        return this._getServerWorkingDir(json.options).then(serverWorkingDir => {\n            if (NodeModule.is(json) && json.module) {\n                let node = json;\n                let transport = node.transport || TransportKind.stdio;\n                if (node.runtime) {\n                    let args = [];\n                    let options = node.options || Object.create(null);\n                    if (options.execArgv) {\n                        options.execArgv.forEach(element => args.push(element));\n                    }\n                    args.push(node.module);\n                    if (node.args) {\n                        node.args.forEach(element => args.push(element));\n                    }\n                    let execOptions = Object.create(null);\n                    execOptions.cwd = serverWorkingDir;\n                    execOptions.env = getEnvironment(options.env, false);\n                    let pipeName = undefined;\n                    if (transport === TransportKind.ipc) {\n                        // exec options not correctly typed in lib\n                        execOptions.stdio = [null, null, null, 'ipc'];\n                        args.push('--node-ipc');\n                    }\n                    else if (transport === TransportKind.stdio) {\n                        args.push('--stdio');\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        pipeName = node_1.generateRandomPipeName();\n                        args.push(`--pipe=${pipeName}`);\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        args.push(`--socket=${transport.port}`);\n                    }\n                    args.push(`--clientProcessId=${process.pid.toString()}`);\n                    if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                        let serverProcess = cp.spawn(node.runtime, args, execOptions);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return Promise.reject(`Launching server using runtime ${node.runtime} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        if (transport === TransportKind.ipc) {\n                            serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return Promise.resolve({ reader: new node_1.IPCMessageReader(serverProcess), writer: new node_1.IPCMessageWriter(serverProcess) });\n                        }\n                        else {\n                            return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n                        }\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        return node_1.createClientPipeTransport(pipeName).then((transport) => {\n                            let process = cp.spawn(node.runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return Promise.reject(`Launching server using runtime ${node.runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        return node_1.createClientSocketTransport(transport.port).then((transport) => {\n                            let process = cp.spawn(node.runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return Promise.reject(`Launching server using runtime ${node.runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                }\n                else {\n                    let pipeName = undefined;\n                    return new Promise((resolve, _reject) => {\n                        let args = node.args && node.args.slice() || [];\n                        if (transport === TransportKind.ipc) {\n                            args.push('--node-ipc');\n                        }\n                        else if (transport === TransportKind.stdio) {\n                            args.push('--stdio');\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            pipeName = node_1.generateRandomPipeName();\n                            args.push(`--pipe=${pipeName}`);\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            args.push(`--socket=${transport.port}`);\n                        }\n                        args.push(`--clientProcessId=${process.pid.toString()}`);\n                        let options = node.options || Object.create(null);\n                        options.env = getEnvironment(options.env, true);\n                        options.execArgv = options.execArgv || [];\n                        options.cwd = serverWorkingDir;\n                        options.silent = true;\n                        if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                            let sp = cp.fork(node.module, args || [], options);\n                            assertStdio(sp);\n                            this._serverProcess = sp;\n                            sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            if (transport === TransportKind.ipc) {\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                resolve({ reader: new node_1.IPCMessageReader(this._serverProcess), writer: new node_1.IPCMessageWriter(this._serverProcess) });\n                            }\n                            else {\n                                resolve({ reader: new node_1.StreamMessageReader(sp.stdout), writer: new node_1.StreamMessageWriter(sp.stdin) });\n                            }\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            node_1.createClientPipeTransport(pipeName).then((transport) => {\n                                let sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                });\n                            });\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            node_1.createClientSocketTransport(transport.port).then((transport) => {\n                                let sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                });\n                            });\n                        }\n                    });\n                }\n            }\n            else if (Executable.is(json) && json.command) {\n                let command = json;\n                let args = command.args || [];\n                let options = Object.assign({}, command.options);\n                options.cwd = options.cwd || serverWorkingDir;\n                let serverProcess = cp.spawn(command.command, args, options);\n                if (!serverProcess || !serverProcess.pid) {\n                    return Promise.reject(`Launching server using command ${command.command} failed.`);\n                }\n                serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                this._serverProcess = serverProcess;\n                this._isDetached = !!options.detached;\n                return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n            }\n            return Promise.reject(new Error(`Unsupported server configuration ` + JSON.stringify(server, null, 4)));\n        });\n    }\n    _mainGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    _getServerWorkingDir(options) {\n        let cwd = options && options.cwd;\n        if (!cwd) {\n            cwd = this.clientOptions.workspaceFolder\n                ? this.clientOptions.workspaceFolder.uri.fsPath\n                : this._mainGetRootPath();\n        }\n        if (cwd) {\n            // make sure the folder exists otherwise creating the process will fail\n            return new Promise(s => {\n                fs.lstat(cwd, (err, stats) => {\n                    s(!err && stats.isDirectory() ? cwd : undefined);\n                });\n            });\n        }\n        return Promise.resolve(undefined);\n    }\n}\nexports.LanguageClient = LanguageClient;\nclass SettingMonitor {\n    constructor(_client, _setting) {\n        this._client = _client;\n        this._setting = _setting;\n        this._listeners = [];\n    }\n    start() {\n        vscode_1.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration, this, this._listeners);\n        this.onDidChangeConfiguration();\n        return new vscode_1.Disposable(() => {\n            if (this._client.needsStop()) {\n                this._client.stop();\n            }\n        });\n    }\n    onDidChangeConfiguration() {\n        let index = this._setting.indexOf('.');\n        let primary = index >= 0 ? this._setting.substr(0, index) : this._setting;\n        let rest = index >= 0 ? this._setting.substr(index + 1) : undefined;\n        let enabled = rest ? vscode_1.workspace.getConfiguration(primary).get(rest, false) : vscode_1.workspace.getConfiguration(primary);\n        if (enabled && this._client.needsStart()) {\n            this._client.start();\n        }\n        else if (!enabled && this._client.needsStop()) {\n            this._client.stop();\n        }\n    }\n}\nexports.SettingMonitor = SettingMonitor;\n//# sourceMappingURL=main.js.map","module.exports = require(\"child_process\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.CommonLanguageClient = void 0;\nconst client_1 = require(\"./client\");\nconst colorProvider_1 = require(\"./colorProvider\");\nconst configuration_1 = require(\"./configuration\");\nconst implementation_1 = require(\"./implementation\");\nconst typeDefinition_1 = require(\"./typeDefinition\");\nconst workspaceFolders_1 = require(\"./workspaceFolders\");\nconst foldingRange_1 = require(\"./foldingRange\");\nconst declaration_1 = require(\"./declaration\");\nconst selectionRange_1 = require(\"./selectionRange\");\nconst progress_1 = require(\"./progress\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_proposed_1 = require(\"./semanticTokens.proposed\");\nclass CommonLanguageClient extends client_1.BaseLanguageClient {\n    constructor(id, name, clientOptions) {\n        super(id, name, clientOptions);\n    }\n    registerProposedFeatures() {\n        this.registerFeatures(ProposedFeatures.createAll(this));\n    }\n    registerBuiltinFeatures() {\n        super.registerBuiltinFeatures();\n        this.registerFeature(new configuration_1.ConfigurationFeature(this));\n        this.registerFeature(new typeDefinition_1.TypeDefinitionFeature(this));\n        this.registerFeature(new implementation_1.ImplementationFeature(this));\n        this.registerFeature(new colorProvider_1.ColorProviderFeature(this));\n        this.registerFeature(new workspaceFolders_1.WorkspaceFoldersFeature(this));\n        this.registerFeature(new foldingRange_1.FoldingRangeFeature(this));\n        this.registerFeature(new declaration_1.DeclarationFeature(this));\n        this.registerFeature(new selectionRange_1.SelectionRangeFeature(this));\n        this.registerFeature(new progress_1.ProgressFeature(this));\n        this.registerFeature(new callHierarchy_1.CallHierarchyFeature(this));\n    }\n}\nexports.CommonLanguageClient = CommonLanguageClient;\n// Exporting proposed protocol.\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    function createAll(client) {\n        let result = [\n            new semanticTokens_proposed_1.SemanticTokensFeature(client)\n        ];\n        return result;\n    }\n    ProposedFeatures.createAll = createAll;\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\n//# sourceMappingURL=commonClient.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n//# sourceMappingURL=disposable.js.map","module.exports = require(\"util\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst messages_1 = require(\"../common/messages\");\nexports.RequestType = messages_1.RequestType;\nexports.RequestType0 = messages_1.RequestType0;\nexports.RequestType1 = messages_1.RequestType1;\nexports.RequestType2 = messages_1.RequestType2;\nexports.RequestType3 = messages_1.RequestType3;\nexports.RequestType4 = messages_1.RequestType4;\nexports.RequestType5 = messages_1.RequestType5;\nexports.RequestType6 = messages_1.RequestType6;\nexports.RequestType7 = messages_1.RequestType7;\nexports.RequestType8 = messages_1.RequestType8;\nexports.RequestType9 = messages_1.RequestType9;\nexports.ResponseError = messages_1.ResponseError;\nexports.ErrorCodes = messages_1.ErrorCodes;\nexports.NotificationType = messages_1.NotificationType;\nexports.NotificationType0 = messages_1.NotificationType0;\nexports.NotificationType1 = messages_1.NotificationType1;\nexports.NotificationType2 = messages_1.NotificationType2;\nexports.NotificationType3 = messages_1.NotificationType3;\nexports.NotificationType4 = messages_1.NotificationType4;\nexports.NotificationType5 = messages_1.NotificationType5;\nexports.NotificationType6 = messages_1.NotificationType6;\nexports.NotificationType7 = messages_1.NotificationType7;\nexports.NotificationType8 = messages_1.NotificationType8;\nexports.NotificationType9 = messages_1.NotificationType9;\nconst disposable_1 = require(\"../common/disposable\");\nexports.Disposable = disposable_1.Disposable;\nconst events_1 = require(\"../common/events\");\nexports.Event = events_1.Event;\nexports.Emitter = events_1.Emitter;\nconst cancellation_1 = require(\"../common/cancellation\");\nexports.CancellationTokenSource = cancellation_1.CancellationTokenSource;\nexports.CancellationToken = cancellation_1.CancellationToken;\nconst messageReader_1 = require(\"../common/messageReader\");\nexports.MessageReader = messageReader_1.MessageReader;\nexports.AbstractMessageReader = messageReader_1.AbstractMessageReader;\nexports.ReadableStreamMessageReader = messageReader_1.ReadableStreamMessageReader;\nconst messageWriter_1 = require(\"../common/messageWriter\");\nexports.MessageWriter = messageWriter_1.MessageWriter;\nexports.AbstractMessageWriter = messageWriter_1.AbstractMessageWriter;\nexports.WriteableStreamMessageWriter = messageWriter_1.WriteableStreamMessageWriter;\nconst connection_1 = require(\"../common/connection\");\nexports.ConnectionStrategy = connection_1.ConnectionStrategy;\nexports.ConnectionOptions = connection_1.ConnectionOptions;\nexports.NullLogger = connection_1.NullLogger;\nexports.createMessageConnection = connection_1.createMessageConnection;\nexports.ProgressType = connection_1.ProgressType;\nexports.Trace = connection_1.Trace;\nexports.TraceFormat = connection_1.TraceFormat;\nexports.SetTraceNotification = connection_1.SetTraceNotification;\nexports.LogTraceNotification = connection_1.LogTraceNotification;\nexports.ConnectionErrors = connection_1.ConnectionErrors;\nexports.ConnectionError = connection_1.ConnectionError;\nexports.CancellationReceiverStrategy = connection_1.CancellationReceiverStrategy;\nexports.CancellationSenderStrategy = connection_1.CancellationSenderStrategy;\nexports.CancellationStrategy = connection_1.CancellationStrategy;\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    ErrorCodes.serverErrorStart = -32099;\n    ErrorCodes.serverErrorEnd = -32000;\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    // Defined by the protocol.\n    ErrorCodes.RequestCancelled = -32800;\n    ErrorCodes.ContentModified = -32801;\n    // Defined by VSCode library.\n    ErrorCodes.MessageWriteError = 1;\n    ErrorCodes.MessageReadError = 2;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        return {\n            code: this.code,\n            message: this.message,\n            data: this.data,\n        };\n    }\n}\nexports.ResponseError = ResponseError;\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(_method, _numberOfParams) {\n        this._method = _method;\n        this._numberOfParams = _numberOfParams;\n    }\n    get method() {\n        return this._method;\n    }\n    get numberOfParams() {\n        return this._numberOfParams;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n *\n * The type parameter RO will be removed in the next major version\n * of the JSON RPC library since it is a LSP concept and doesn't\n * belong here. For now it is tagged as default never.\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 1);\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 1);\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\n/**\n * The type parameter RO will be removed in the next major version\n * of the JSON RPC library since it is a LSP concept and doesn't\n * belong here. For now it is tagged as default never.\n */\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 1);\n        this._ = undefined;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 1);\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\n/**\n * Tests if the given message is a request message\n */\nfunction isRequestMessage(message) {\n    const candidate = message;\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n}\nexports.isRequestMessage = isRequestMessage;\n/**\n * Tests if the given message is a notification message\n */\nfunction isNotificationMessage(message) {\n    const candidate = message;\n    return candidate && is.string(candidate.method) && message.id === void 0;\n}\nexports.isNotificationMessage = isNotificationMessage;\n/**\n * Tests if the given message is a response message\n */\nfunction isResponseMessage(message) {\n    const candidate = message;\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n}\nexports.isResponseMessage = isResponseMessage;\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = ral_1.default().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { ral_1.default().timer.clearTimeout(handle); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toJSONObject = exports.ConfigurationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nclass ConfigurationFeature {\n    constructor(_client) {\n        this._client = _client;\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.configuration = true;\n    }\n    initialize() {\n        let client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, (params, token) => {\n            let configuration = (params) => {\n                let result = [];\n                for (let item of params.items) {\n                    let resource = item.scopeUri !== void 0 && item.scopeUri !== null ? this._client.protocol2CodeConverter.asUri(item.scopeUri) : undefined;\n                    result.push(this.getConfiguration(resource, item.section !== null ? item.section : undefined));\n                }\n                return result;\n            };\n            let middleware = client.clientOptions.middleware.workspace;\n            return middleware && middleware.configuration\n                ? middleware.configuration(params, token, configuration)\n                : configuration(params, token);\n        });\n    }\n    getConfiguration(resource, section) {\n        let result = null;\n        if (section) {\n            let index = section.lastIndexOf('.');\n            if (index === -1) {\n                result = toJSONObject(vscode_1.workspace.getConfiguration(undefined, resource).get(section));\n            }\n            else {\n                let config = vscode_1.workspace.getConfiguration(section.substr(0, index), resource);\n                if (config) {\n                    result = toJSONObject(config.get(section.substr(index + 1)));\n                }\n            }\n        }\n        else {\n            let config = vscode_1.workspace.getConfiguration(undefined, resource);\n            result = {};\n            for (let key of Object.keys(config)) {\n                if (config.has(key)) {\n                    result[key] = toJSONObject(config.get(key));\n                }\n            }\n        }\n        if (result === undefined) {\n            result = null;\n        }\n        return result;\n    }\n}\nexports.ConfigurationFeature = ConfigurationFeature;\nfunction toJSONObject(obj) {\n    if (obj) {\n        if (Array.isArray(obj)) {\n            return obj.map(toJSONObject);\n        }\n        else if (typeof obj === 'object') {\n            const res = Object.create(null);\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    res[key] = toJSONObject(obj[key]);\n                }\n            }\n            return res;\n        }\n    }\n    return obj;\n}\nexports.toJSONObject = toJSONObject;\n//# sourceMappingURL=configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCompletionItem extends code.CompletionItem {\n    constructor(label) {\n        super(label);\n    }\n}\nexports.default = ProtocolCompletionItem;\n//# sourceMappingURL=protocolCompletionItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCodeLens extends code.CodeLens {\n    constructor(range) {\n        super(range);\n    }\n}\nexports.default = ProtocolCodeLens;\n//# sourceMappingURL=protocolCodeLens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolDocumentLink extends code.DocumentLink {\n    constructor(range, target) {\n        super(range, target);\n    }\n}\nexports.default = ProtocolDocumentLink;\n//# sourceMappingURL=protocolDocumentLink.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=uuid.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressPart = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nclass ProgressPart {\n    constructor(_client, _token) {\n        this._client = _client;\n        this._token = _token;\n        this._reported = 0;\n        this._disposable = this._client.onProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, (value) => {\n            switch (value.kind) {\n                case 'begin':\n                    this.begin(value);\n                    break;\n                case 'report':\n                    this.report(value);\n                    break;\n                case 'end':\n                    this.done();\n                    break;\n            }\n        });\n    }\n    begin(params) {\n        let location = params.cancellable ? vscode_1.ProgressLocation.Notification : vscode_1.ProgressLocation.Window;\n        vscode_1.window.withProgress({ location, cancellable: params.cancellable, title: params.title }, async (progress, cancellationToken) => {\n            this._progress = progress;\n            this._infinite = params.percentage === undefined;\n            this._cancellationToken = cancellationToken;\n            this._cancellationToken.onCancellationRequested(() => {\n                this._client.sendNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, { token: this._token });\n            });\n            this.report(params);\n            return new Promise((resolve, reject) => {\n                this._resolve = resolve;\n                this._reject = reject;\n            });\n        });\n    }\n    report(params) {\n        if (this._infinite && Is.string(params.message)) {\n            this._progress.report({ message: params.message });\n        }\n        else if (Is.number(params.percentage)) {\n            let percentage = Math.max(0, Math.min(params.percentage, 100));\n            let delta = Math.max(0, percentage - this._reported);\n            this._progress.report({ message: params.message, increment: delta });\n            this._reported += delta;\n        }\n    }\n    cancel() {\n        if (this._disposable) {\n            this._disposable.dispose();\n            this._disposable = undefined;\n        }\n        if (this._reject) {\n            this._reject();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n    done() {\n        if (this._disposable) {\n            this._disposable.dispose();\n            this._disposable = undefined;\n        }\n        if (this._resolve) {\n            this._resolve();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n}\nexports.ProgressPart = ProgressPart;\n//# sourceMappingURL=progressPart.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getNodeFSRequestService } from './nodeFs';\nimport { ExtensionContext, extensions } from 'vscode';\nimport { startClient, LanguageClientConstructor } from '../cssClient';\nimport { ServerOptions, TransportKind, LanguageClientOptions, LanguageClient } from 'vscode-languageclient/node';\nimport { TextDecoder } from 'util';\n\n// this method is called when vs code is activated\nexport function activate(context: ExtensionContext) {\n\n\tconst clientMain = extensions.getExtension('vscode.css-language-features')?.packageJSON?.main || '';\n\n\tconst serverMain = `./server/${clientMain.indexOf('/dist/') !== -1 ? 'dist' : 'out'}/node/cssServerMain`;\n\tconst serverModule = context.asAbsolutePath(serverMain);\n\n\t// The debug options for the server\n\tconst debugOptions = { execArgv: ['--nolazy', '--inspect=6044'] };\n\n\t// If the extension is launch in debug mode the debug server options are use\n\t// Otherwise the run options are used\n\tconst serverOptions: ServerOptions = {\n\t\trun: { module: serverModule, transport: TransportKind.ipc },\n\t\tdebug: { module: serverModule, transport: TransportKind.ipc, options: debugOptions }\n\t};\n\n\tconst newLanguageClient: LanguageClientConstructor = (id: string, name: string, clientOptions: LanguageClientOptions) => {\n\t\treturn new LanguageClient(id, name, serverOptions, clientOptions);\n\t};\n\n\tstartClient(context, newLanguageClient, { fs: getNodeFSRequestService(), TextDecoder });\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as fs from 'fs';\nimport { Uri } from 'vscode';\nimport { getScheme, RequestService, FileType } from '../requests';\n\nexport function getNodeFSRequestService(): RequestService {\n\tfunction ensureFileUri(location: string) {\n\t\tif (getScheme(location) !== 'file') {\n\t\t\tthrow new Error('fileRequestService can only handle file URLs');\n\t\t}\n\t}\n\treturn {\n\t\tgetContent(location: string, encoding?: string) {\n\t\t\tensureFileUri(location);\n\t\t\treturn new Promise((c, e) => {\n\t\t\t\tconst uri = Uri.parse(location);\n\t\t\t\tfs.readFile(uri.fsPath, encoding, (err, buf) => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\treturn e(err);\n\t\t\t\t\t}\n\t\t\t\t\tc(buf.toString());\n\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tstat(location: string) {\n\t\t\tensureFileUri(location);\n\t\t\treturn new Promise((c, e) => {\n\t\t\t\tconst uri = Uri.parse(location);\n\t\t\t\tfs.stat(uri.fsPath, (err, stats) => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tif (err.code === 'ENOENT') {\n\t\t\t\t\t\t\treturn c({ type: FileType.Unknown, ctime: -1, mtime: -1, size: -1 });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn e(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet type = FileType.Unknown;\n\t\t\t\t\tif (stats.isFile()) {\n\t\t\t\t\t\ttype = FileType.File;\n\t\t\t\t\t} else if (stats.isDirectory()) {\n\t\t\t\t\t\ttype = FileType.Directory;\n\t\t\t\t\t} else if (stats.isSymbolicLink()) {\n\t\t\t\t\t\ttype = FileType.SymbolicLink;\n\t\t\t\t\t}\n\n\t\t\t\t\tc({\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tctime: stats.ctime.getTime(),\n\t\t\t\t\t\tmtime: stats.mtime.getTime(),\n\t\t\t\t\t\tsize: stats.size\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\treadDirectory(location: string) {\n\t\t\tensureFileUri(location);\n\t\t\treturn new Promise((c, e) => {\n\t\t\t\tconst path = Uri.parse(location).fsPath;\n\n\t\t\t\tfs.readdir(path, { withFileTypes: true }, (err, children) => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\treturn e(err);\n\t\t\t\t\t}\n\t\t\t\t\tc(children.map(stat => {\n\t\t\t\t\t\tif (stat.isSymbolicLink()) {\n\t\t\t\t\t\t\treturn [stat.name, FileType.SymbolicLink];\n\t\t\t\t\t\t} else if (stat.isDirectory()) {\n\t\t\t\t\t\t\treturn [stat.name, FileType.Directory];\n\t\t\t\t\t\t} else if (stat.isFile()) {\n\t\t\t\t\t\t\treturn [stat.name, FileType.File];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn [stat.name, FileType.Unknown];\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar t = exports.tokens = {}\nvar R = 0\n\nfunction tok (n) {\n  t[n] = R++\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ntok('NUMERICIDENTIFIER')\nsrc[t.NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\ntok('NUMERICIDENTIFIERLOOSE')\nsrc[t.NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ntok('NONNUMERICIDENTIFIER')\nsrc[t.NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ntok('MAINVERSION')\nsrc[t.MAINVERSION] = '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')'\n\ntok('MAINVERSIONLOOSE')\nsrc[t.MAINVERSIONLOOSE] = '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ntok('PRERELEASEIDENTIFIER')\nsrc[t.PRERELEASEIDENTIFIER] = '(?:' + src[t.NUMERICIDENTIFIER] +\n                            '|' + src[t.NONNUMERICIDENTIFIER] + ')'\n\ntok('PRERELEASEIDENTIFIERLOOSE')\nsrc[t.PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[t.NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[t.NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ntok('PRERELEASE')\nsrc[t.PRERELEASE] = '(?:-(' + src[t.PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[t.PRERELEASEIDENTIFIER] + ')*))'\n\ntok('PRERELEASELOOSE')\nsrc[t.PRERELEASELOOSE] = '(?:-?(' + src[t.PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[t.PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ntok('BUILDIDENTIFIER')\nsrc[t.BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ntok('BUILD')\nsrc[t.BUILD] = '(?:\\\\+(' + src[t.BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[t.BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ntok('FULL')\ntok('FULLPLAIN')\nsrc[t.FULLPLAIN] = 'v?' + src[t.MAINVERSION] +\n                  src[t.PRERELEASE] + '?' +\n                  src[t.BUILD] + '?'\n\nsrc[t.FULL] = '^' + src[t.FULLPLAIN] + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ntok('LOOSEPLAIN')\nsrc[t.LOOSEPLAIN] = '[v=\\\\s]*' + src[t.MAINVERSIONLOOSE] +\n                  src[t.PRERELEASELOOSE] + '?' +\n                  src[t.BUILD] + '?'\n\ntok('LOOSE')\nsrc[t.LOOSE] = '^' + src[t.LOOSEPLAIN] + '$'\n\ntok('GTLT')\nsrc[t.GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ntok('XRANGEIDENTIFIERLOOSE')\nsrc[t.XRANGEIDENTIFIERLOOSE] = src[t.NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\ntok('XRANGEIDENTIFIER')\nsrc[t.XRANGEIDENTIFIER] = src[t.NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\ntok('XRANGEPLAIN')\nsrc[t.XRANGEPLAIN] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[t.PRERELEASE] + ')?' +\n                   src[t.BUILD] + '?' +\n                   ')?)?'\n\ntok('XRANGEPLAINLOOSE')\nsrc[t.XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[t.PRERELEASELOOSE] + ')?' +\n                        src[t.BUILD] + '?' +\n                        ')?)?'\n\ntok('XRANGE')\nsrc[t.XRANGE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAIN] + '$'\ntok('XRANGELOOSE')\nsrc[t.XRANGELOOSE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ntok('COERCE')\nsrc[t.COERCE] = '(^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\ntok('COERCERTL')\nre[t.COERCERTL] = new RegExp(src[t.COERCE], 'g')\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ntok('LONETILDE')\nsrc[t.LONETILDE] = '(?:~>?)'\n\ntok('TILDETRIM')\nsrc[t.TILDETRIM] = '(\\\\s*)' + src[t.LONETILDE] + '\\\\s+'\nre[t.TILDETRIM] = new RegExp(src[t.TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\ntok('TILDE')\nsrc[t.TILDE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAIN] + '$'\ntok('TILDELOOSE')\nsrc[t.TILDELOOSE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ntok('LONECARET')\nsrc[t.LONECARET] = '(?:\\\\^)'\n\ntok('CARETTRIM')\nsrc[t.CARETTRIM] = '(\\\\s*)' + src[t.LONECARET] + '\\\\s+'\nre[t.CARETTRIM] = new RegExp(src[t.CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\ntok('CARET')\nsrc[t.CARET] = '^' + src[t.LONECARET] + src[t.XRANGEPLAIN] + '$'\ntok('CARETLOOSE')\nsrc[t.CARETLOOSE] = '^' + src[t.LONECARET] + src[t.XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ntok('COMPARATORLOOSE')\nsrc[t.COMPARATORLOOSE] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.LOOSEPLAIN] + ')$|^$'\ntok('COMPARATOR')\nsrc[t.COMPARATOR] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.FULLPLAIN] + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ntok('COMPARATORTRIM')\nsrc[t.COMPARATORTRIM] = '(\\\\s*)' + src[t.GTLT] +\n                      '\\\\s*(' + src[t.LOOSEPLAIN] + '|' + src[t.XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[t.COMPARATORTRIM] = new RegExp(src[t.COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ntok('HYPHENRANGE')\nsrc[t.HYPHENRANGE] = '^\\\\s*(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\ntok('HYPHENRANGELOOSE')\nsrc[t.HYPHENRANGELOOSE] = '^\\\\s*(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\ntok('STAR')\nsrc[t.STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\nSemVer.prototype.compareBuild = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  var i = 0\n  do {\n    var a = this.build[i]\n    var b = other.build[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.compareBuild = compareBuild\nfunction compareBuild (a, b, loose) {\n  var versionA = new SemVer(a, loose)\n  var versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(b, a, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1] !== undefined ? m[1] : ''\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY || version === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options)\n    } catch (er) {\n      return false\n    }\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    if (this.value === '') {\n      return true\n    }\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    if (comp.value === '') {\n      return true\n    }\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return (\n      isSatisfiable(thisComparators, options) &&\n      range.set.some(function (rangeComparators) {\n        return (\n          isSatisfiable(rangeComparators, options) &&\n          thisComparators.every(function (thisComparator) {\n            return rangeComparators.every(function (rangeComparator) {\n              return thisComparator.intersects(rangeComparator, options)\n            })\n          })\n        )\n      })\n    )\n  })\n}\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nfunction isSatisfiable (comparators, options) {\n  var result = true\n  var remainingComparators = comparators.slice()\n  var testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every(function (otherComparator) {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p + pr\n    } else if (xm) {\n      ret = '>=' + M + '.0.0' + pr + ' <' + (+M + 1) + '.0.0' + pr\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0' + pr +\n        ' <' + M + '.' + (+m + 1) + '.0' + pr\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options)\n    } catch (er) {\n      return false\n    }\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version, options) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  var match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    var next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n      (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n          next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(match[2] +\n    '.' + (match[3] || '0') +\n    '.' + (match[4] || '0'), options)\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"../common/ral\");\nconst disposable_1 = require(\"../common/disposable\");\nconst util_1 = require(\"util\");\nconst DefaultSize = 8192;\nconst CR = Buffer.from('\\r', 'ascii')[0];\nconst LF = Buffer.from('\\n', 'ascii')[0];\nconst CRLF = '\\r\\n';\nclass MessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this.index = 0;\n        this.buffer = Buffer.allocUnsafe(DefaultSize);\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        let toAppend;\n        if (typeof chunk === 'string') {\n            toAppend = Buffer.from(chunk, this._encoding);\n        }\n        else {\n            toAppend = chunk;\n        }\n        if (this.buffer.length - this.index >= toAppend.length) {\n            this.buffer.set(toAppend, this.index);\n        }\n        else {\n            var newSize = (Math.ceil((this.index + toAppend.length) / DefaultSize) + 1) * DefaultSize;\n            if (this.index === 0) {\n                this.buffer = Buffer.allocUnsafe(newSize);\n                this.buffer.set(toAppend);\n            }\n            else {\n                this.buffer = Buffer.concat([this.buffer.slice(0, this.index), toAppend], newSize);\n            }\n        }\n        this.index += toAppend.length;\n    }\n    tryReadHeaders() {\n        let current = 0;\n        while (current + 3 < this.index && (this.buffer[current] !== CR || this.buffer[current + 1] !== LF || this.buffer[current + 2] !== CR || this.buffer[current + 3] !== LF)) {\n            current++;\n        }\n        // No header / body separator found (e.g CRLFCRLF)\n        if (current + 3 >= this.index) {\n            return undefined;\n        }\n        const result = new Map();\n        const headers = this.buffer.toString('ascii', 0, current).split(CRLF);\n        headers.forEach((header) => {\n            let index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            let key = header.substr(0, index);\n            let value = header.substr(index + 1).trim();\n            result.set(key, value);\n        });\n        let nextStart = current + 4;\n        this.buffer = this.buffer.slice(nextStart);\n        this.index = this.index - nextStart;\n        return result;\n    }\n    tryReadBody(length) {\n        if (this.index < length) {\n            return undefined;\n        }\n        const result = Buffer.alloc(length);\n        this.buffer.copy(result, 0, 0, length);\n        const nextStart = length;\n        this.buffer.copy(this.buffer, 0, nextStart);\n        this.index = this.index - nextStart;\n        return result;\n    }\n    get numberOfBytes() {\n        return this.index;\n    }\n}\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                if (buffer instanceof Buffer) {\n                    return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                }\n                else {\n                    return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (socket) => new ReadableStreamWrapper(socket),\n        asWritableStream: (socket) => new WritableStreamWrapper(socket)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            return setTimeout(callback, ms, ...args);\n        },\n        clearTimeout(handle) {\n            clearTimeout(handle);\n        },\n        setImmediate(callback, ...args) {\n            return setImmediate(callback, ...args);\n        },\n        clearImmediate(handle) {\n            clearImmediate(handle);\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        ral_1.default.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n//# sourceMappingURL=ril.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        var _a;\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options !== null && options !== void 0 ? options : 'utf-8';\n        }\n        else {\n            charset = (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = ral_1.default().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = ral_1.default().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders();\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('Content-Length');\n                if (!contentLength) {\n                    throw new Error('Header must provide a Content-Length property.');\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    throw new Error('Content-Length value must be a number.');\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            let p;\n            if (this.options.contentDecoder !== undefined) {\n                p = this.options.contentDecoder.decode(body);\n            }\n            else {\n                p = Promise.resolve(body);\n            }\n            p.then((value) => {\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\n                    this.callback(msg);\n                }, (error) => {\n                    this.fireError(error);\n                });\n            }, (error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            ral_1.default().timer.clearTimeout(this.partialMessageTimer);\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = ral_1.default().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n//# sourceMappingURL=messageReader.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        var _a, _b;\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options !== null && options !== void 0 ? options : 'utf-8', contentTypeEncoder: ral_1.default().applicationJson.encoder };\n        }\n        else {\n            return { charset: (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: (_b = options.contentTypeEncoder) !== null && _b !== void 0 ? _b : ral_1.default().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n            if (this.options.contentEncoder !== undefined) {\n                return this.options.contentEncoder.encode(buffer);\n            }\n            else {\n                return buffer;\n            }\n        });\n        return payload.then((buffer) => {\n            const headers = [];\n            headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n            headers.push(CRLF);\n            return this.doWrite(msg, headers, buffer);\n        }, (error) => {\n            this.fireError(error);\n            throw error;\n        });\n    }\n    doWrite(msg, headers, data) {\n        return this.writeSemaphore.lock(async () => {\n            try {\n                await this.writable.write(headers.join(''), 'ascii');\n                return this.writable.write(data);\n            }\n            catch (error) {\n                this.handleError(error, msg);\n            }\n        });\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n//# sourceMappingURL=messageWriter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        ral_1.default().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTraceNotification');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTraceNotification');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.createCancellationTokenSource);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSquenceNumber = 0;\n    let unknownResponseSquenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = Object.create(null);\n    let starNotificationHandler = undefined;\n    const notificationHandlers = Object.create(null);\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = Object.create(null);\n    let requestTokens = Object.create(null);\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSquenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.isRequestMessage(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.isResponseMessage(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = ral_1.default().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            if (messages_1.isRequestMessage(message)) {\n                handleRequest(message);\n            }\n            else if (messages_1.isNotificationMessage(message)) {\n                handleNotification(message);\n            }\n            else if (messages_1.isResponseMessage(message)) {\n                handleResponse(message);\n            }\n            else {\n                handleInvalidMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\n                const key = createRequestQueueKey(message.params.id);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.isRequestMessage(toCancel)) {\n                    const strategy = options === null || options === void 0 ? void 0 : options.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response);\n                        return;\n                    }\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers[requestMessage.method];\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = String(requestMessage.id);\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\n            requestTokens[tokenKey] = cancellationSource;\n            try {\n                let handlerResult;\n                if (requestMessage.params === undefined || (type !== undefined && type.numberOfParams === 0)) {\n                    handlerResult = requestHandler\n                        ? requestHandler(cancellationSource.token)\n                        : starRequestHandler(requestMessage.method, cancellationSource.token);\n                }\n                else if (Is.array(requestMessage.params) && (type === undefined || type.numberOfParams > 1)) {\n                    handlerResult = requestHandler\n                        ? requestHandler(...requestMessage.params, cancellationSource.token)\n                        : starRequestHandler(requestMessage.method, ...requestMessage.params, cancellationSource.token);\n                }\n                else {\n                    handlerResult = requestHandler\n                        ? requestHandler(requestMessage.params, cancellationSource.token)\n                        : starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    delete requestTokens[tokenKey];\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        delete requestTokens[tokenKey];\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        delete requestTokens[tokenKey];\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    delete requestTokens[tokenKey];\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                delete requestTokens[tokenKey];\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = String(responseMessage.id);\n            const responsePromise = responsePromises[key];\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise) {\n                delete responsePromises[key];\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            notificationHandler = (params) => {\n                const id = params.id;\n                const source = requestTokens[String(id)];\n                if (source) {\n                    source.cancel();\n                }\n            };\n        }\n        else {\n            const element = notificationHandlers[message.method];\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (message.params === undefined || (type !== undefined && type.numberOfParams === 0)) {\n                    notificationHandler ? notificationHandler() : starNotificationHandler(message.method);\n                }\n                else if (Is.array(message.params) && (type === undefined || type.numberOfParams > 1)) {\n                    notificationHandler ? notificationHandler(...message.params) : starNotificationHandler(message.method, ...message.params);\n                }\n                else {\n                    notificationHandler ? notificationHandler(message.params) : starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = String(responseMessage.id);\n            const responseHandler = responsePromises[key];\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose && message.params) {\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.params) {\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose && message.params) {\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.params) {\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = null;\n                break;\n            case 1:\n                result = undefinedToNull(params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...params) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                switch (params.length) {\n                    case 0:\n                        messageParams = null;\n                        break;\n                    case 1:\n                        messageParams = params[0];\n                        break;\n                    default:\n                        messageParams = params;\n                        break;\n                }\n            }\n            else {\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            messageWriter.write(notificationMessage);\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    notificationHandlers[type] = { type: undefined, handler };\n                }\n                else {\n                    notificationHandlers[type.method] = { type, handler };\n                }\n            }\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...params) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                switch (params.length) {\n                    case 0:\n                        messageParams = null;\n                        break;\n                    case 1:\n                        // The cancellation token is optional so it can also be undefined.\n                        if (cancellation_1.CancellationToken.is(params[0])) {\n                            messageParams = null;\n                            token = params[0];\n                        }\n                        else {\n                            messageParams = undefinedToNull(params[0]);\n                        }\n                        break;\n                    default:\n                        const last = params.length - 1;\n                        if (cancellation_1.CancellationToken.is(params[last])) {\n                            token = params[last];\n                            if (params.length === 2) {\n                                messageParams = undefinedToNull(params[0]);\n                            }\n                            else {\n                                messageParams = params.slice(0, last).map(value => undefinedToNull(value));\n                            }\n                        }\n                        else {\n                            messageParams = params.map(value => undefinedToNull(value));\n                        }\n                        break;\n                }\n            }\n            else {\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    cancellationStrategy.sender.sendCancellation(connection, id);\n                });\n            }\n            const result = new Promise((resolve, reject) => {\n                const requestMessage = {\n                    jsonrpc: version,\n                    id: id,\n                    method: method,\n                    params: messageParams\n                };\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\n                };\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                traceSendingRequest(requestMessage);\n                try {\n                    messageWriter.write(requestMessage);\n                }\n                catch (e) {\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\n                    responsePromise = null;\n                }\n                if (responsePromise) {\n                    responsePromises[String(id)] = responsePromise;\n                }\n            });\n            return result;\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            if (Is.func(type)) {\n                starRequestHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    requestHandlers[type] = { type: undefined, handler };\n                }\n                else {\n                    requestHandlers[type.method] = { type, handler };\n                }\n            }\n        },\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new Error('Connection got disposed.');\n            Object.keys(responsePromises).forEach((key) => {\n                responsePromises[key].reject(error);\n            });\n            responsePromises = Object.create(null);\n            requestTokens = Object.create(null);\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            ral_1.default().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[Symbol.toStringTag] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        var _a;\n        return (_a = this._head) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    get last() {\n        var _a;\n        return (_a = this._tail) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happend if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happend if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=linkedMap.js.map","module.exports = require(\"os\");","module.exports = require(\"crypto\");","module.exports = require(\"net\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"vscode-jsonrpc\"));\n__export(require(\"vscode-languageserver-types\"));\n__export(require(\"./messages\"));\n__export(require(\"./protocol\"));\nvar connection_1 = require(\"./connection\");\nexports.createProtocolConnection = connection_1.createProtocolConnection;\nconst st = require(\"./protocol.semanticTokens.proposed\");\nvar Proposed;\n(function (Proposed) {\n    Proposed.SemanticTokenTypes = st.SemanticTokenTypes;\n    Proposed.SemanticTokenModifiers = st.SemanticTokenModifiers;\n    Proposed.SemanticTokens = st.SemanticTokens;\n    let SemanticTokensRequest;\n    (function (SemanticTokensRequest) {\n        SemanticTokensRequest.method = st.SemanticTokensRequest.method;\n        SemanticTokensRequest.type = st.SemanticTokensRequest.type;\n    })(SemanticTokensRequest = Proposed.SemanticTokensRequest || (Proposed.SemanticTokensRequest = {}));\n    let SemanticTokensEditsRequest;\n    (function (SemanticTokensEditsRequest) {\n        SemanticTokensEditsRequest.method = st.SemanticTokensEditsRequest.method;\n        SemanticTokensEditsRequest.type = st.SemanticTokensEditsRequest.type;\n    })(SemanticTokensEditsRequest = Proposed.SemanticTokensEditsRequest || (Proposed.SemanticTokensEditsRequest = {}));\n    let SemanticTokensRangeRequest;\n    (function (SemanticTokensRangeRequest) {\n        SemanticTokensRangeRequest.method = st.SemanticTokensRangeRequest.method;\n        SemanticTokensRangeRequest.type = st.SemanticTokensRangeRequest.type;\n    })(SemanticTokensRangeRequest = Proposed.SemanticTokensRangeRequest || (Proposed.SemanticTokensRangeRequest = {}));\n})(Proposed = exports.Proposed || (exports.Proposed = {}));\n//# sourceMappingURL=api.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given liternal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.number(candidate.line) && Is.number(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.number(one) && Is.number(two) && Is.number(three) && Is.number(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.number(candidate.red)\n            && Is.number(candidate.green)\n            && Is.number(candidate.blue)\n            && Is.number(candidate.alpha);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * Enum of known range kinds\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind[\"Comment\"] = \"comment\";\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind[\"Imports\"] = \"imports\";\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind[\"Region\"] = \"region\";\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.number(candidate.startLine) && Is.number(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.number(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.number(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The DiagnosticCode namespace provides functions to deal with complex diagnostic codes.\n *\n * @since 3.16.0 - Proposed state\n */\nexport var DiagnosticCode;\n(function (DiagnosticCode) {\n    /**\n     * Checks whether the given liternal conforms to the [DiagnosticCode](#DiagnosticCode) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && (Is.number(candidate.value) || Is.string(candidate.value)) && Is.string(candidate.target);\n    }\n    DiagnosticCode.is = is;\n})(DiagnosticCode || (DiagnosticCode = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.number(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates a insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && VersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\n            result.options = options;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) &&\n            (candidate.options === void 0 ||\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\n            result.options = options;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) &&\n            (candidate.options === void 0 ||\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {\n            result.options = options;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) &&\n            (candidate.options === void 0 ||\n                ((candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== void 0 || candidate.documentChanges !== void 0) &&\n            (candidate.documentChanges === void 0 || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits) {\n        this.edits = edits;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText) {\n        this.edits.push(TextEdit.insert(position, newText));\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText) {\n        this.edits.push(TextEdit.replace(range, newText));\n    };\n    TextEditChangeImpl.prototype.delete = function (range) {\n        this.edits.push(TextEdit.del(range));\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            if (this._workspaceEdit === undefined) {\n                return { documentChanges: [] };\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (VersionedTextDocumentIdentifier.is(key)) {\n            if (!this._workspaceEdit) {\n                this._workspaceEdit = {\n                    documentChanges: []\n                };\n            }\n            if (!this._workspaceEdit.documentChanges) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = key;\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            if (!this._workspaceEdit) {\n                this._workspaceEdit = {\n                    changes: Object.create(null)\n                };\n            }\n            if (!this._workspaceEdit.changes) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, options) {\n        this.checkDocumentChanges();\n        this._workspaceEdit.documentChanges.push(CreateFile.create(uri, options));\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, options) {\n        this.checkDocumentChanges();\n        this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri, newUri, options));\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, options) {\n        this.checkDocumentChanges();\n        this._workspaceEdit.documentChanges.push(DeleteFile.create(uri, options));\n    };\n    WorkspaceChange.prototype.checkDocumentChanges = function () {\n        if (!this._workspaceEdit || !this._workspaceEdit.documentChanges) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param uri The document's text.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.number(candidate.version));\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.number(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n})(MarkupKind || (MarkupKind = {}));\n(function (MarkupKind) {\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0 - Proposed state\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given liternal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n * @since 3.15\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol, defaults to the current document.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== void 0) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === void 0 || Is.string(candidate.detail)) &&\n            (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === void 0 || Array.isArray(candidate.children)) &&\n            (candidate.tags === void 0 || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only) {\n        var result = { diagnostics: diagnostics };\n        if (only !== void 0 && only !== null) {\n            result.only = only;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, commandOrEdit, kind) {\n        var result = { title: title };\n        if (Command.is(commandOrEdit)) {\n            result.command = commandOrEdit;\n        }\n        else {\n            result.edit = commandOrEdit;\n        }\n        if (kind !== void 0) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === void 0 || Is.string(candidate.kind)) &&\n            (candidate.edit !== void 0 || candidate.command !== void 0) &&\n            (candidate.command === void 0 || Command.is(candidate.command)) &&\n            (candidate.isPreferred === void 0 || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.number(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.number(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Is = require(\"./utils/is\");\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nexports.ImplementationRequest = protocol_implementation_1.ImplementationRequest;\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nexports.TypeDefinitionRequest = protocol_typeDefinition_1.TypeDefinitionRequest;\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\nexports.WorkspaceFoldersRequest = protocol_workspaceFolders_1.WorkspaceFoldersRequest;\nexports.DidChangeWorkspaceFoldersNotification = protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification;\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nexports.ConfigurationRequest = protocol_configuration_1.ConfigurationRequest;\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nexports.DocumentColorRequest = protocol_colorProvider_1.DocumentColorRequest;\nexports.ColorPresentationRequest = protocol_colorProvider_1.ColorPresentationRequest;\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nexports.FoldingRangeRequest = protocol_foldingRange_1.FoldingRangeRequest;\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nexports.DeclarationRequest = protocol_declaration_1.DeclarationRequest;\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nexports.SelectionRangeRequest = protocol_selectionRange_1.SelectionRangeRequest;\nconst protocol_progress_1 = require(\"./protocol.progress\");\nexports.WorkDoneProgress = protocol_progress_1.WorkDoneProgress;\nexports.WorkDoneProgressCreateRequest = protocol_progress_1.WorkDoneProgressCreateRequest;\nexports.WorkDoneProgressCancelNotification = protocol_progress_1.WorkDoneProgressCancelNotification;\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nexports.CallHierarchyIncomingCallsRequest = protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest;\nexports.CallHierarchyOutgoingCallsRequest = protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest;\nexports.CallHierarchyPrepareRequest = protocol_callHierarchy_1.CallHierarchyPrepareRequest;\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * The DocumentFilter namespace provides helper functions to work with\n * [DocumentFilter](#DocumentFilter) literals.\n */\nvar DocumentFilter;\n(function (DocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    DocumentFilter.is = is;\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * [DocumentSelector](#DocumentSelector)s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !DocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.type = new messages_1.ProtocolRequestType('client/registerCapability');\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType('client/unregisterCapability');\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling startegy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type [InitializeParams](#InitializeParams)\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.type = new messages_1.ProtocolRequestType('initialize');\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeError`;\n */\nvar InitializeError;\n(function (InitializeError) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeError.unknownProtocolVersion = 1;\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\n/**\n * The intialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.type = new messages_1.ProtocolNotificationType('initialized');\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0('shutdown');\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.type = new messages_1.ProtocolNotificationType0('exit');\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeConfiguration');\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType('window/showMessage');\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType('window/showMessageRequest');\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType('window/logMessage');\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType('telemetry/event');\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWatchedFiles');\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType('textDocument/publishDiagnostics');\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n    /** @deprecated Use CompletionRequest.type */\n    CompletionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type [CompletionItem](#CompletionItem) the response\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\n * type [Hover](#Hover) or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n    /** @deprecated Use DefinitionRequest.type */\n    DefinitionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type [ReferenceParams](#ReferenceParams) the response is of type\n * [Location[]](#Location) or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n    /** @deprecated Use ReferencesRequest.type */\n    ReferencesRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n    /** @deprecated Use DocumentHighlightRequest.type */\n    DocumentHighlightRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n    /** @deprecated Use DocumentSymbolRequest.type */\n    DocumentSymbolRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n    /** @deprecated Use CodeActionRequest.type */\n    CodeActionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\n * resolves to such.\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n    /** @deprecated Use WorkspaceSymbolRequest.type */\n    WorkspaceSymbolRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.type = new messages_1.ProtocolRequestType('textDocument/codeLens');\n    /** @deprecated Use CodeLensRequest.type */\n    CodeLensRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType('codeLens/resolve');\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n    /** @deprecated Use DocumentLinkRequest.type */\n    DocumentLinkRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type [DocumentLink](#DocumentLink) the response\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType('documentLink/resolve');\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType('workspace/executeCommand');\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n//# sourceMappingURL=protocol.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n    /** @deprecated Use ImplementationRequest.type */\n    ImplementationRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n//# sourceMappingURL=protocol.implementation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n    /** @deprecated Use TypeDefinitionRequest.type */\n    TypeDefinitionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n//# sourceMappingURL=protocol.typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0('workspace/workspaceFolders');\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWorkspaceFolders');\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n//# sourceMappingURL=protocol.workspaceFolders.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst messages_1 = require(\"./messages\");\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType('workspace/configuration');\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n//# sourceMappingURL=protocol.configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n    /** @deprecated Use DocumentColorRequest.type */\n    DocumentColorRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType('textDocument/colorPresentation');\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n//# sourceMappingURL=protocol.colorProvider.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\n/**\n * Enum of known range kinds\n */\nvar FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind[\"Comment\"] = \"comment\";\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind[\"Imports\"] = \"imports\";\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind[\"Region\"] = \"region\";\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n    /** @deprecated Use FoldingRangeRequest.type */\n    FoldingRangeRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n//# sourceMappingURL=protocol.foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n    /** @deprecated Use DeclarationRequest.type */\n    DeclarationRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n//# sourceMappingURL=protocol.declaration.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n    /** @deprecated  Use SelectionRangeRequest.type */\n    SelectionRangeRequest.resultType = new vscode_jsonrpc_1.ProgressType();\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n//# sourceMappingURL=protocol.selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType('window/workDoneProgress/create');\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType('window/workDoneProgress/cancel');\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n//# sourceMappingURL=protocol.progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to a incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n//# sourceMappingURL=protocol.callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return vscode_jsonrpc_1.createMessageConnection(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst messages_1 = require(\"./messages\");\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0 - Proposed state\n */\nvar SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"member\"] = \"member\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n})(SemanticTokenTypes = exports.SemanticTokenTypes || (exports.SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0 - Proposed state\n */\nvar SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers = exports.SemanticTokenModifiers || (exports.SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0 - Proposed state\n */\nvar SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens = exports.SemanticTokens || (exports.SemanticTokens = {}));\n/**\n * @since 3.16.0 - Proposed state\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens';\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0 - Proposed state\n */\nvar SemanticTokensEditsRequest;\n(function (SemanticTokensEditsRequest) {\n    SemanticTokensEditsRequest.method = 'textDocument/semanticTokens/edits';\n    SemanticTokensEditsRequest.type = new messages_1.ProtocolRequestType(SemanticTokensEditsRequest.method);\n})(SemanticTokensEditsRequest = exports.SemanticTokensEditsRequest || (exports.SemanticTokensEditsRequest = {}));\n/**\n * @since 3.16.0 - Proposed state\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n//# sourceMappingURL=protocol.semanticTokens.proposed.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nvar InsertReplaceRange;\n(function (InsertReplaceRange) {\n    function is(value) {\n        const candidate = value;\n        return candidate && !!candidate.inserting && !!candidate.replacing;\n    }\n    InsertReplaceRange.is = is;\n})(InsertReplaceRange || (InsertReplaceRange = {}));\nfunction createConverter(uriConverter) {\n    const nullConverter = (value) => value.toString();\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri)\n        };\n    }\n    function asVersionedTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri),\n            version: textDocument.version\n        };\n    }\n    function asOpenTextDocumentParams(textDocument) {\n        return {\n            textDocument: {\n                uri: _uriConverter(textDocument.uri),\n                languageId: textDocument.languageId,\n                version: textDocument.version,\n                text: textDocument.getText()\n            }\n        };\n    }\n    function isTextDocumentChangeEvent(value) {\n        let candidate = value;\n        return !!candidate.document && !!candidate.contentChanges;\n    }\n    function isTextDocument(value) {\n        let candidate = value;\n        return !!candidate.uri && !!candidate.version;\n    }\n    function asChangeTextDocumentParams(arg) {\n        if (isTextDocument(arg)) {\n            let result = {\n                textDocument: {\n                    uri: _uriConverter(arg.uri),\n                    version: arg.version\n                },\n                contentChanges: [{ text: arg.getText() }]\n            };\n            return result;\n        }\n        else if (isTextDocumentChangeEvent(arg)) {\n            let document = arg.document;\n            let result = {\n                textDocument: {\n                    uri: _uriConverter(document.uri),\n                    version: document.version\n                },\n                contentChanges: arg.contentChanges.map((change) => {\n                    let range = change.range;\n                    return {\n                        range: {\n                            start: { line: range.start.line, character: range.start.character },\n                            end: { line: range.end.line, character: range.end.character }\n                        },\n                        rangeLength: change.rangeLength,\n                        text: change.text\n                    };\n                })\n            };\n            return result;\n        }\n        else {\n            throw Error('Unsupported text document change parameter');\n        }\n    }\n    function asCloseTextDocumentParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asSaveTextDocumentParams(textDocument, includeContent = false) {\n        let result = {\n            textDocument: asVersionedTextDocumentIdentifier(textDocument)\n        };\n        if (includeContent) {\n            result.text = textDocument.getText();\n        }\n        return result;\n    }\n    function asTextDocumentSaveReason(reason) {\n        switch (reason) {\n            case code.TextDocumentSaveReason.Manual:\n                return proto.TextDocumentSaveReason.Manual;\n            case code.TextDocumentSaveReason.AfterDelay:\n                return proto.TextDocumentSaveReason.AfterDelay;\n            case code.TextDocumentSaveReason.FocusOut:\n                return proto.TextDocumentSaveReason.FocusOut;\n        }\n        return proto.TextDocumentSaveReason.Manual;\n    }\n    function asWillSaveTextDocumentParams(event) {\n        return {\n            textDocument: asTextDocumentIdentifier(event.document),\n            reason: asTextDocumentSaveReason(event.reason)\n        };\n    }\n    function asTextDocumentPositionParams(textDocument, position) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position)\n        };\n    }\n    function asCompletionTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.CompletionTriggerKind.TriggerCharacter:\n                return proto.CompletionTriggerKind.TriggerCharacter;\n            case code.CompletionTriggerKind.TriggerForIncompleteCompletions:\n                return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;\n            default:\n                return proto.CompletionTriggerKind.Invoked;\n        }\n    }\n    function asCompletionParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                triggerKind: asCompletionTriggerKind(context.triggerKind),\n                triggerCharacter: context.triggerCharacter\n            }\n        };\n    }\n    function asSignatureHelpTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.SignatureHelpTriggerKind.Invoke:\n                return proto.SignatureHelpTriggerKind.Invoked;\n            case code.SignatureHelpTriggerKind.TriggerCharacter:\n                return proto.SignatureHelpTriggerKind.TriggerCharacter;\n            case code.SignatureHelpTriggerKind.ContentChange:\n                return proto.SignatureHelpTriggerKind.ContentChange;\n        }\n    }\n    function asParameterInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label\n        };\n    }\n    function asParameterInformations(values) {\n        return values.map(asParameterInformation);\n    }\n    function asSignatureInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label,\n            parameters: asParameterInformations(value.parameters)\n        };\n    }\n    function asSignatureInformations(values) {\n        return values.map(asSignatureInformation);\n    }\n    function asSignatureHelp(value) {\n        if (value === undefined) {\n            return value;\n        }\n        return {\n            signatures: asSignatureInformations(value.signatures),\n            activeSignature: value.activeSignature,\n            activeParameter: value.activeParameter\n        };\n    }\n    function asSignatureHelpParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                isRetrigger: context.isRetrigger,\n                triggerCharacter: context.triggerCharacter,\n                triggerKind: asSignatureHelpTriggerKind(context.triggerKind),\n                activeSignatureHelp: asSignatureHelp(context.activeSignatureHelp)\n            }\n        };\n    }\n    function asWorkerPosition(position) {\n        return { line: position.line, character: position.character };\n    }\n    function asPosition(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { line: value.line, character: value.character };\n    }\n    function asPositions(value) {\n        let result = [];\n        for (let elem of value) {\n            result.push(asPosition(elem));\n        }\n        return result;\n    }\n    function asRange(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { start: asPosition(value.start), end: asPosition(value.end) };\n    }\n    function asLocation(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return proto.Location.create(asUri(value.uri), asRange(value.range));\n    }\n    function asDiagnosticSeverity(value) {\n        switch (value) {\n            case code.DiagnosticSeverity.Error:\n                return proto.DiagnosticSeverity.Error;\n            case code.DiagnosticSeverity.Warning:\n                return proto.DiagnosticSeverity.Warning;\n            case code.DiagnosticSeverity.Information:\n                return proto.DiagnosticSeverity.Information;\n            case code.DiagnosticSeverity.Hint:\n                return proto.DiagnosticSeverity.Hint;\n        }\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case code.DiagnosticTag.Unnecessary:\n                return proto.DiagnosticTag.Unnecessary;\n            case code.DiagnosticTag.Deprecated:\n                return proto.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asRelatedInformation(item) {\n        return {\n            message: item.message,\n            location: asLocation(item.location)\n        };\n    }\n    function asRelatedInformations(items) {\n        return items.map(asRelatedInformation);\n    }\n    function asDiagnosticCode(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        if (Is.number(value) || Is.string(value)) {\n            return value;\n        }\n        return { value: value.value, target: asUri(value.target) };\n    }\n    function asDiagnostic(item) {\n        let result = proto.Diagnostic.create(asRange(item.range), item.message);\n        if (Is.number(item.severity)) {\n            result.severity = asDiagnosticSeverity(item.severity);\n        }\n        result.code = asDiagnosticCode(item.code);\n        {\n            if (Array.isArray(item.tags)) {\n                result.tags = asDiagnosticTags(item.tags);\n            }\n        }\n        if (item.relatedInformation) {\n            result.relatedInformation = asRelatedInformations(item.relatedInformation);\n        }\n        if (item.source) {\n            result.source = item.source;\n        }\n        return result;\n    }\n    function asDiagnostics(items) {\n        if (items === undefined || items === null) {\n            return items;\n        }\n        return items.map(asDiagnostic);\n    }\n    function asDocumentation(format, documentation) {\n        switch (format) {\n            case '$string':\n                return documentation;\n            case proto.MarkupKind.PlainText:\n                return { kind: format, value: documentation };\n            case proto.MarkupKind.Markdown:\n                return { kind: format, value: documentation.value };\n            default:\n                return `Unsupported Markup content received. Kind is: ${format}`;\n        }\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case code.CompletionItemTag.Deprecated:\n                return proto.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined) {\n            return tags;\n        }\n        const result = [];\n        for (let tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItemKind(value, original) {\n        if (original !== undefined) {\n            return original;\n        }\n        return value + 1;\n    }\n    function asCompletionItem(item) {\n        let result = { label: item.label };\n        let protocolItem = item instanceof protocolCompletionItem_1.default ? item : undefined;\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        // We only send items back we created. So this can't be something else than\n        // a string right now.\n        if (item.documentation) {\n            if (!protocolItem || protocolItem.documentationFormat === '$string') {\n                result.documentation = item.documentation;\n            }\n            else {\n                result.documentation = asDocumentation(protocolItem.documentationFormat, item.documentation);\n            }\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        fillPrimaryInsertText(result, item);\n        if (Is.number(item.kind)) {\n            result.kind = asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\n        }\n        if (item.commitCharacters) {\n            result.commitCharacters = item.commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        const tags = asCompletionItemTags(item.tags);\n        if (protocolItem) {\n            if (protocolItem.data !== undefined) {\n                result.data = protocolItem.data;\n            }\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\n                if (protocolItem.deprecated === true && tags !== undefined && tags.length > 0) {\n                    const index = tags.indexOf(code.CompletionItemTag.Deprecated);\n                    if (index !== -1) {\n                        tags.splice(index, 1);\n                    }\n                }\n                result.deprecated = protocolItem.deprecated;\n            }\n        }\n        if (tags !== undefined && tags.length > 0) {\n            result.tags = tags;\n        }\n        return result;\n    }\n    function fillPrimaryInsertText(target, source) {\n        let format = proto.InsertTextFormat.PlainText;\n        let text = undefined;\n        let range = undefined;\n        if (source.textEdit) {\n            text = source.textEdit.newText;\n            range = source.textEdit.range;\n        }\n        else if (source.insertText instanceof code.SnippetString) {\n            format = proto.InsertTextFormat.Snippet;\n            text = source.insertText.value;\n        }\n        else {\n            text = source.insertText;\n        }\n        if (source.range) {\n            range = source.range;\n        }\n        target.insertTextFormat = format;\n        if (source.fromEdit && text !== undefined && range !== undefined) {\n            target.textEdit = asCompletionTextEdit(text, range);\n        }\n        else {\n            target.insertText = text;\n        }\n    }\n    function asCompletionTextEdit(newText, range) {\n        if (InsertReplaceRange.is(range)) {\n            return proto.InsertReplaceEdit.create(newText, asRange(range.inserting), asRange(range.replacing));\n        }\n        else {\n            return { newText, range: asRange(range) };\n        }\n    }\n    function asTextEdit(edit) {\n        return { range: asRange(edit.range), newText: edit.newText };\n    }\n    function asTextEdits(edits) {\n        if (edits === undefined || edits === null) {\n            return edits;\n        }\n        return edits.map(asTextEdit);\n    }\n    function asSymbolKind(item) {\n        if (item <= code.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return (item + 1);\n        }\n        return proto.SymbolKind.Property;\n    }\n    function asSymbolTag(item) {\n        return item;\n    }\n    function asSymbolTags(items) {\n        return items.map(asSymbolTag);\n    }\n    function asReferenceParams(textDocument, position, options) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: { includeDeclaration: options.includeDeclaration }\n        };\n    }\n    function asCodeActionContext(context) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        let only;\n        if (context.only && Is.string(context.only.value)) {\n            only = [context.only.value];\n        }\n        return proto.CodeActionContext.create(asDiagnostics(context.diagnostics), only);\n    }\n    function asCommand(item) {\n        let result = proto.Command.create(item.title, item.command);\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    function asCodeLens(item) {\n        let result = proto.CodeLens.create(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item instanceof protocolCodeLens_1.default) {\n            if (item.data) {\n                result.data = item.data;\n            }\n        }\n        return result;\n    }\n    function asFormattingOptions(item) {\n        return { tabSize: item.tabSize, insertSpaces: item.insertSpaces };\n    }\n    function asDocumentSymbolParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCodeLensParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asDocumentLink(item) {\n        let result = proto.DocumentLink.create(asRange(item.range));\n        if (item.target) {\n            result.target = asUri(item.target);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = item.tooltip;\n        }\n        let protocolItem = item instanceof protocolDocumentLink_1.default ? item : undefined;\n        if (protocolItem && protocolItem.data) {\n            result.data = protocolItem.data;\n        }\n        return result;\n    }\n    function asDocumentLinkParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    return {\n        asUri,\n        asTextDocumentIdentifier,\n        asVersionedTextDocumentIdentifier,\n        asOpenTextDocumentParams,\n        asChangeTextDocumentParams,\n        asCloseTextDocumentParams,\n        asSaveTextDocumentParams,\n        asWillSaveTextDocumentParams,\n        asTextDocumentPositionParams,\n        asCompletionParams,\n        asSignatureHelpParams,\n        asWorkerPosition,\n        asRange,\n        asPosition,\n        asPositions,\n        asLocation,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asDiagnostic,\n        asDiagnostics,\n        asCompletionItem,\n        asTextEdit,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asReferenceParams,\n        asCodeActionContext,\n        asCommand,\n        asCodeLens,\n        asFormattingOptions,\n        asDocumentSymbolParams,\n        asCodeLensParams,\n        asDocumentLink,\n        asDocumentLinkParams\n    };\n}\nexports.createConverter = createConverter;\n//# sourceMappingURL=codeConverter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst ls = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nvar CodeBlock;\n(function (CodeBlock) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.string(candidate.language) && Is.string(candidate.value);\n    }\n    CodeBlock.is = is;\n})(CodeBlock || (CodeBlock = {}));\nfunction createConverter(uriConverter) {\n    const nullConverter = (value) => code.Uri.parse(value);\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asDiagnostics(diagnostics) {\n        return diagnostics.map(asDiagnostic);\n    }\n    function asDiagnostic(diagnostic) {\n        let result = new code.Diagnostic(asRange(diagnostic.range), diagnostic.message, asDiagnosticSeverity(diagnostic.severity));\n        if (Is.number(diagnostic.code) || Is.string(diagnostic.code)) {\n            result.code = diagnostic.code;\n        }\n        if (ls.DiagnosticCode.is(diagnostic.code)) {\n            result.code = { value: diagnostic.code.value, target: asUri(diagnostic.code.target) };\n        }\n        if (diagnostic.source) {\n            result.source = diagnostic.source;\n        }\n        if (diagnostic.relatedInformation) {\n            result.relatedInformation = asRelatedInformation(diagnostic.relatedInformation);\n        }\n        if (Array.isArray(diagnostic.tags)) {\n            result.tags = asDiagnosticTags(diagnostic.tags);\n        }\n        return result;\n    }\n    function asRelatedInformation(relatedInformation) {\n        return relatedInformation.map(asDiagnosticRelatedInformation);\n    }\n    function asDiagnosticRelatedInformation(information) {\n        return new code.DiagnosticRelatedInformation(asLocation(information.location), information.message);\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case ls.DiagnosticTag.Unnecessary:\n                return code.DiagnosticTag.Unnecessary;\n            case ls.DiagnosticTag.Deprecated:\n                return code.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asPosition(value) {\n        if (!value) {\n            return undefined;\n        }\n        return new code.Position(value.line, value.character);\n    }\n    function asRange(value) {\n        if (!value) {\n            return undefined;\n        }\n        return new code.Range(asPosition(value.start), asPosition(value.end));\n    }\n    function asRanges(value) {\n        return value.map(value => asRange(value));\n    }\n    function asDiagnosticSeverity(value) {\n        if (value === undefined || value === null) {\n            return code.DiagnosticSeverity.Error;\n        }\n        switch (value) {\n            case ls.DiagnosticSeverity.Error:\n                return code.DiagnosticSeverity.Error;\n            case ls.DiagnosticSeverity.Warning:\n                return code.DiagnosticSeverity.Warning;\n            case ls.DiagnosticSeverity.Information:\n                return code.DiagnosticSeverity.Information;\n            case ls.DiagnosticSeverity.Hint:\n                return code.DiagnosticSeverity.Hint;\n        }\n        return code.DiagnosticSeverity.Error;\n    }\n    function asHoverContent(value) {\n        if (Is.string(value)) {\n            return new code.MarkdownString(value);\n        }\n        else if (CodeBlock.is(value)) {\n            let result = new code.MarkdownString();\n            return result.appendCodeblock(value.value, value.language);\n        }\n        else if (Array.isArray(value)) {\n            let result = [];\n            for (let element of value) {\n                let item = new code.MarkdownString();\n                if (CodeBlock.is(element)) {\n                    item.appendCodeblock(element.value, element.language);\n                }\n                else {\n                    item.appendMarkdown(element);\n                }\n                result.push(item);\n            }\n            return result;\n        }\n        else {\n            let result;\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    return new code.MarkdownString(value.value);\n                case ls.MarkupKind.PlainText:\n                    result = new code.MarkdownString();\n                    result.appendText(value.value);\n                    return result;\n                default:\n                    result = new code.MarkdownString();\n                    result.appendText(`Unsupported Markup content received. Kind is: ${value.kind}`);\n                    return result;\n            }\n        }\n    }\n    function asDocumentation(value) {\n        if (Is.string(value)) {\n            return value;\n        }\n        else {\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    return new code.MarkdownString(value.value);\n                case ls.MarkupKind.PlainText:\n                    return value.value;\n                default:\n                    return `Unsupported Markup content received. Kind is: ${value.kind}`;\n            }\n        }\n    }\n    function asHover(hover) {\n        if (!hover) {\n            return undefined;\n        }\n        return new code.Hover(asHoverContent(hover.contents), asRange(hover.range));\n    }\n    function asCompletionResult(result) {\n        if (!result) {\n            return undefined;\n        }\n        if (Array.isArray(result)) {\n            let items = result;\n            return items.map(asCompletionItem);\n        }\n        let list = result;\n        return new code.CompletionList(list.items.map(asCompletionItem), list.isIncomplete);\n    }\n    function asCompletionItemKind(value) {\n        // Protocol item kind is 1 based, codes item kind is zero based.\n        if (ls.CompletionItemKind.Text <= value && value <= ls.CompletionItemKind.TypeParameter) {\n            return [value - 1, undefined];\n        }\n        return [code.CompletionItemKind.Text, value];\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case ls.CompletionItemTag.Deprecated:\n                return code.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined || tags === null) {\n            return [];\n        }\n        const result = [];\n        for (let tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItem(item) {\n        let tags = asCompletionItemTags(item.tags);\n        let result = new protocolCompletionItem_1.default(item.label);\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n            result.documentationFormat = Is.string(item.documentation) ? '$string' : item.documentation.kind;\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        let insertText = asCompletionInsertText(item);\n        if (insertText) {\n            result.insertText = insertText.text;\n            result.range = insertText.range;\n            result.fromEdit = insertText.fromEdit;\n        }\n        if (Is.number(item.kind)) {\n            let [itemKind, original] = asCompletionItemKind(item.kind);\n            result.kind = itemKind;\n            if (original) {\n                result.originalItemKind = original;\n            }\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\n        }\n        if (Is.stringArray(item.commitCharacters)) {\n            result.commitCharacters = item.commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.deprecated === true || item.deprecated === false) {\n            result.deprecated = item.deprecated;\n            if (item.deprecated === true) {\n                tags.push(code.CompletionItemTag.Deprecated);\n            }\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        if (item.data !== undefined) {\n            result.data = item.data;\n        }\n        if (tags.length > 0) {\n            result.tags = tags;\n        }\n        return result;\n    }\n    function asCompletionInsertText(item) {\n        if (item.textEdit) {\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(item.textEdit.newText), range: asCompletionRange(item.textEdit), fromEdit: true };\n            }\n            else {\n                return { text: item.textEdit.newText, range: asCompletionRange(item.textEdit), fromEdit: true };\n            }\n        }\n        else if (item.insertText) {\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(item.insertText), fromEdit: false };\n            }\n            else {\n                return { text: item.insertText, fromEdit: false };\n            }\n        }\n        else {\n            return undefined;\n        }\n    }\n    function asCompletionRange(value) {\n        if (ls.InsertReplaceEdit.is(value)) {\n            return { inserting: asRange(value.insert), replacing: asRange(value.replace) };\n        }\n        else {\n            return asRange(value.range);\n        }\n    }\n    function asTextEdit(edit) {\n        if (!edit) {\n            return undefined;\n        }\n        return new code.TextEdit(asRange(edit.range), edit.newText);\n    }\n    function asTextEdits(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(asTextEdit);\n    }\n    function asSignatureHelp(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new code.SignatureHelp();\n        if (Is.number(item.activeSignature)) {\n            result.activeSignature = item.activeSignature;\n        }\n        else {\n            // activeSignature was optional in the past\n            result.activeSignature = 0;\n        }\n        if (Is.number(item.activeParameter)) {\n            result.activeParameter = item.activeParameter;\n        }\n        else {\n            // activeParameter was optional in the past\n            result.activeParameter = 0;\n        }\n        if (item.signatures) {\n            result.signatures = asSignatureInformations(item.signatures);\n        }\n        return result;\n    }\n    function asSignatureInformations(items) {\n        return items.map(asSignatureInformation);\n    }\n    function asSignatureInformation(item) {\n        let result = new code.SignatureInformation(item.label);\n        if (item.documentation !== undefined) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        if (item.parameters !== undefined) {\n            result.parameters = asParameterInformations(item.parameters);\n        }\n        if (item.activeParameter !== undefined) {\n            result.activeParameter = item.activeParameter;\n        }\n        {\n            return result;\n        }\n    }\n    function asParameterInformations(item) {\n        return item.map(asParameterInformation);\n    }\n    function asParameterInformation(item) {\n        let result = new code.ParameterInformation(item.label);\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        return result;\n    }\n    function asLocation(item) {\n        if (!item) {\n            return undefined;\n        }\n        return new code.Location(_uriConverter(item.uri), asRange(item.range));\n    }\n    function asDeclarationResult(item) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item);\n    }\n    function asDefinitionResult(item) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item);\n    }\n    function asLocationLink(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = {\n            targetUri: _uriConverter(item.targetUri),\n            targetRange: asRange(item.targetSelectionRange),\n            originSelectionRange: asRange(item.originSelectionRange),\n            targetSelectionRange: asRange(item.targetSelectionRange)\n        };\n        if (!result.targetSelectionRange) {\n            throw new Error(`targetSelectionRange must not be undefined or null`);\n        }\n        return result;\n    }\n    function asLocationResult(item) {\n        if (!item) {\n            return undefined;\n        }\n        if (Is.array(item)) {\n            if (item.length === 0) {\n                return [];\n            }\n            else if (ls.LocationLink.is(item[0])) {\n                let links = item;\n                return links.map((link) => asLocationLink(link));\n            }\n            else {\n                let locations = item;\n                return locations.map((location) => asLocation(location));\n            }\n        }\n        else if (ls.LocationLink.is(item)) {\n            return [asLocationLink(item)];\n        }\n        else {\n            return asLocation(item);\n        }\n    }\n    function asReferences(values) {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(location => asLocation(location));\n    }\n    function asDocumentHighlights(values) {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(asDocumentHighlight);\n    }\n    function asDocumentHighlight(item) {\n        let result = new code.DocumentHighlight(asRange(item.range));\n        if (Is.number(item.kind)) {\n            result.kind = asDocumentHighlightKind(item.kind);\n        }\n        return result;\n    }\n    function asDocumentHighlightKind(item) {\n        switch (item) {\n            case ls.DocumentHighlightKind.Text:\n                return code.DocumentHighlightKind.Text;\n            case ls.DocumentHighlightKind.Read:\n                return code.DocumentHighlightKind.Read;\n            case ls.DocumentHighlightKind.Write:\n                return code.DocumentHighlightKind.Write;\n        }\n        return code.DocumentHighlightKind.Text;\n    }\n    function asSymbolInformations(values, uri) {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(information => asSymbolInformation(information, uri));\n    }\n    function asSymbolKind(item) {\n        if (item <= ls.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return item - 1;\n        }\n        return code.SymbolKind.Property;\n    }\n    function asSymbolTag(value) {\n        switch (value) {\n            case ls.SymbolTag.Deprecated:\n                return code.SymbolTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asSymbolTags(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        const result = [];\n        for (const item of items) {\n            const converted = asSymbolTag(item);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length === 0 ? undefined : result;\n    }\n    function asSymbolInformation(item, uri) {\n        // Symbol kind is one based in the protocol and zero based in code.\n        let result = new code.SymbolInformation(item.name, asSymbolKind(item.kind), asRange(item.location.range), item.location.uri ? _uriConverter(item.location.uri) : uri);\n        fillTags(result, item);\n        if (item.containerName) {\n            result.containerName = item.containerName;\n        }\n        return result;\n    }\n    function asDocumentSymbols(values) {\n        if (values === undefined || values === null) {\n            return undefined;\n        }\n        return values.map(asDocumentSymbol);\n    }\n    function asDocumentSymbol(value) {\n        let result = new code.DocumentSymbol(value.name, value.detail || '', asSymbolKind(value.kind), asRange(value.range), asRange(value.selectionRange));\n        fillTags(result, value);\n        if (value.children !== undefined && value.children.length > 0) {\n            let children = [];\n            for (let child of value.children) {\n                children.push(asDocumentSymbol(child));\n            }\n            result.children = children;\n        }\n        return result;\n    }\n    function fillTags(result, value) {\n        result.tags = asSymbolTags(value.tags);\n        if (value.deprecated) {\n            if (!result.tags) {\n                result.tags = [code.SymbolTag.Deprecated];\n            }\n            else {\n                if (!result.tags.includes(code.SymbolTag.Deprecated)) {\n                    result.tags = result.tags.concat(code.SymbolTag.Deprecated);\n                }\n            }\n        }\n    }\n    function asCommand(item) {\n        let result = { title: item.title, command: item.command };\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    function asCommands(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(asCommand);\n    }\n    const kindMapping = new Map();\n    kindMapping.set(ls.CodeActionKind.Empty, code.CodeActionKind.Empty);\n    kindMapping.set(ls.CodeActionKind.QuickFix, code.CodeActionKind.QuickFix);\n    kindMapping.set(ls.CodeActionKind.Refactor, code.CodeActionKind.Refactor);\n    kindMapping.set(ls.CodeActionKind.RefactorExtract, code.CodeActionKind.RefactorExtract);\n    kindMapping.set(ls.CodeActionKind.RefactorInline, code.CodeActionKind.RefactorInline);\n    kindMapping.set(ls.CodeActionKind.RefactorRewrite, code.CodeActionKind.RefactorRewrite);\n    kindMapping.set(ls.CodeActionKind.Source, code.CodeActionKind.Source);\n    kindMapping.set(ls.CodeActionKind.SourceOrganizeImports, code.CodeActionKind.SourceOrganizeImports);\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = kindMapping.get(item);\n        if (result) {\n            return result;\n        }\n        let parts = item.split('.');\n        result = code.CodeActionKind.Empty;\n        for (let part of parts) {\n            result = result.append(part);\n        }\n        return result;\n    }\n    function asCodeActionKinds(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        return items.map(kind => asCodeActionKind(kind));\n    }\n    function asCodeAction(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = new code.CodeAction(item.title);\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics) {\n            result.diagnostics = asDiagnostics(item.diagnostics);\n        }\n        if (item.edit) {\n            result.edit = asWorkspaceEdit(item.edit);\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        return result;\n    }\n    function asCodeLens(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new protocolCodeLens_1.default(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.data !== undefined && item.data !== null) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    function asCodeLenses(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map((codeLens) => asCodeLens(codeLens));\n    }\n    function asWorkspaceEdit(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new code.WorkspaceEdit();\n        if (item.documentChanges) {\n            item.documentChanges.forEach(change => {\n                if (ls.CreateFile.is(change)) {\n                    result.createFile(_uriConverter(change.uri), change.options);\n                }\n                else if (ls.RenameFile.is(change)) {\n                    result.renameFile(_uriConverter(change.oldUri), _uriConverter(change.newUri), change.options);\n                }\n                else if (ls.DeleteFile.is(change)) {\n                    result.deleteFile(_uriConverter(change.uri), change.options);\n                }\n                else if (ls.TextDocumentEdit.is(change)) {\n                    result.set(_uriConverter(change.textDocument.uri), asTextEdits(change.edits));\n                }\n                else {\n                    throw new Error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\n                }\n            });\n        }\n        else if (item.changes) {\n            Object.keys(item.changes).forEach(key => {\n                result.set(_uriConverter(key), asTextEdits(item.changes[key]));\n            });\n        }\n        return result;\n    }\n    function asDocumentLink(item) {\n        let range = asRange(item.range);\n        let target = item.target ? asUri(item.target) : undefined;\n        // target must be optional in DocumentLink\n        let link = new protocolDocumentLink_1.default(range, target);\n        if (item.tooltip !== undefined) {\n            link.tooltip = item.tooltip;\n        }\n        if (item.data !== undefined && item.data !== null) {\n            link.data = item.data;\n        }\n        return link;\n    }\n    function asDocumentLinks(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(asDocumentLink);\n    }\n    function asColor(color) {\n        return new code.Color(color.red, color.green, color.blue, color.alpha);\n    }\n    function asColorInformation(ci) {\n        return new code.ColorInformation(asRange(ci.range), asColor(ci.color));\n    }\n    function asColorInformations(colorInformation) {\n        if (Array.isArray(colorInformation)) {\n            return colorInformation.map(asColorInformation);\n        }\n        return undefined;\n    }\n    function asColorPresentation(cp) {\n        let presentation = new code.ColorPresentation(cp.label);\n        presentation.additionalTextEdits = asTextEdits(cp.additionalTextEdits);\n        if (cp.textEdit) {\n            presentation.textEdit = asTextEdit(cp.textEdit);\n        }\n        return presentation;\n    }\n    function asColorPresentations(colorPresentations) {\n        if (Array.isArray(colorPresentations)) {\n            return colorPresentations.map(asColorPresentation);\n        }\n        return undefined;\n    }\n    function asFoldingRangeKind(kind) {\n        if (kind) {\n            switch (kind) {\n                case ls.FoldingRangeKind.Comment:\n                    return code.FoldingRangeKind.Comment;\n                case ls.FoldingRangeKind.Imports:\n                    return code.FoldingRangeKind.Imports;\n                case ls.FoldingRangeKind.Region:\n                    return code.FoldingRangeKind.Region;\n            }\n        }\n        return undefined;\n    }\n    function asFoldingRange(r) {\n        return new code.FoldingRange(r.startLine, r.endLine, asFoldingRangeKind(r.kind));\n    }\n    function asFoldingRanges(foldingRanges) {\n        if (Array.isArray(foldingRanges)) {\n            return foldingRanges.map(asFoldingRange);\n        }\n        return undefined;\n    }\n    function asSelectionRange(selectionRange) {\n        return new code.SelectionRange(asRange(selectionRange.range), selectionRange.parent ? asSelectionRange(selectionRange.parent) : undefined);\n    }\n    function asSelectionRanges(selectionRanges) {\n        if (!Array.isArray(selectionRanges)) {\n            return [];\n        }\n        let result = [];\n        for (let range of selectionRanges) {\n            result.push(asSelectionRange(range));\n        }\n        return result;\n    }\n    return {\n        asUri,\n        asDiagnostics,\n        asDiagnostic,\n        asRange,\n        asRanges,\n        asPosition,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asHover,\n        asCompletionResult,\n        asCompletionItem,\n        asTextEdit,\n        asTextEdits,\n        asSignatureHelp,\n        asSignatureInformations,\n        asSignatureInformation,\n        asParameterInformations,\n        asParameterInformation,\n        asDeclarationResult,\n        asDefinitionResult,\n        asLocation,\n        asReferences,\n        asDocumentHighlights,\n        asDocumentHighlight,\n        asDocumentHighlightKind,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asSymbolInformations,\n        asSymbolInformation,\n        asDocumentSymbols,\n        asDocumentSymbol,\n        asCommand,\n        asCommands,\n        asCodeAction,\n        asCodeActionKind,\n        asCodeActionKinds,\n        asCodeLens,\n        asCodeLenses,\n        asWorkspaceEdit,\n        asDocumentLink,\n        asDocumentLinks,\n        asFoldingRangeKind,\n        asFoldingRange,\n        asFoldingRanges,\n        asColor,\n        asColorInformation,\n        asColorInformations,\n        asColorPresentation,\n        asColorPresentations,\n        asSelectionRange,\n        asSelectionRanges\n    };\n}\nexports.createConverter = createConverter;\n//# sourceMappingURL=protocolConverter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Delayer = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nclass Delayer {\n    constructor(defaultDelay) {\n        this.defaultDelay = defaultDelay;\n        this.timeout = undefined;\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n    }\n    trigger(task, delay = this.defaultDelay) {\n        this.task = task;\n        if (delay >= 0) {\n            this.cancelTimeout();\n        }\n        if (!this.completionPromise) {\n            this.completionPromise = new Promise((resolve) => {\n                this.onSuccess = resolve;\n            }).then(() => {\n                this.completionPromise = undefined;\n                this.onSuccess = undefined;\n                var result = this.task();\n                this.task = undefined;\n                return result;\n            });\n        }\n        if (delay >= 0 || this.timeout === void 0) {\n            this.timeout = vscode_languageserver_protocol_1.RAL().timer.setTimeout(() => {\n                this.timeout = undefined;\n                this.onSuccess(undefined);\n            }, delay >= 0 ? delay : this.defaultDelay);\n        }\n        return this.completionPromise;\n    }\n    forceDelivery() {\n        if (!this.completionPromise) {\n            return undefined;\n        }\n        this.cancelTimeout();\n        let result = this.task();\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n        return result;\n    }\n    isTriggered() {\n        return this.timeout !== void 0;\n    }\n    cancel() {\n        this.cancelTimeout();\n        this.completionPromise = undefined;\n    }\n    cancelTimeout() {\n        if (this.timeout !== void 0) {\n            vscode_languageserver_protocol_1.RAL().timer.clearTimeout(this.timeout);\n            this.timeout = undefined;\n        }\n    }\n}\nexports.Delayer = Delayer;\n//# sourceMappingURL=async.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorProviderFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass ColorProviderFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentColorRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        ensure(ensure(capabilites, 'textDocument'), 'colorProvider').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.colorProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register(this.messages, { id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideColorPresentations: (color, context, token) => {\n                const client = this._client;\n                const provideColorPresentations = (color, context, token) => {\n                    const requestParams = {\n                        color,\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(context.document),\n                        range: client.code2ProtocolConverter.asRange(context.range)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, requestParams, token).then(this.asColorPresentations.bind(this), (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideColorPresentations\n                    ? middleware.provideColorPresentations(color, context, token, provideColorPresentations)\n                    : provideColorPresentations(color, context, token);\n            },\n            provideDocumentColors: (document, token) => {\n                const client = this._client;\n                const provideDocumentColors = (document, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, requestParams, token).then(this.asColorInformations.bind(this), (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentColors\n                    ? middleware.provideDocumentColors(document, token, provideDocumentColors)\n                    : provideDocumentColors(document, token);\n            }\n        };\n        return [vscode_1.languages.registerColorProvider(options.documentSelector, provider), provider];\n    }\n    asColor(color) {\n        return new vscode_1.Color(color.red, color.green, color.blue, color.alpha);\n    }\n    asColorInformations(colorInformation) {\n        if (Array.isArray(colorInformation)) {\n            return colorInformation.map(ci => {\n                return new vscode_1.ColorInformation(this._client.protocol2CodeConverter.asRange(ci.range), this.asColor(ci.color));\n            });\n        }\n        return [];\n    }\n    asColorPresentations(colorPresentations) {\n        if (Array.isArray(colorPresentations)) {\n            return colorPresentations.map(cp => {\n                let presentation = new vscode_1.ColorPresentation(cp.label);\n                presentation.additionalTextEdits = this._client.protocol2CodeConverter.asTextEdits(cp.additionalTextEdits);\n                presentation.textEdit = this._client.protocol2CodeConverter.asTextEdit(cp.textEdit);\n                return presentation;\n            });\n        }\n        return [];\n    }\n}\nexports.ColorProviderFeature = ColorProviderFeature;\n//# sourceMappingURL=colorProvider.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass ImplementationFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ImplementationRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        let implementationSupport = ensure(ensure(capabilites, 'textDocument'), 'implementation');\n        implementationSupport.dynamicRegistration = true;\n        implementationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.implementationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register(this.messages, { id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideImplementation: (document, position, token) => {\n                const client = this._client;\n                const provideImplementation = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideImplementation\n                    ? middleware.provideImplementation(document, position, token, provideImplementation)\n                    : provideImplementation(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerImplementationProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.ImplementationFeature = ImplementationFeature;\n//# sourceMappingURL=implementation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass TypeDefinitionFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.TypeDefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        ensure(ensure(capabilites, 'textDocument'), 'typeDefinition').dynamicRegistration = true;\n        let typeDefinitionSupport = ensure(ensure(capabilites, 'textDocument'), 'typeDefinition');\n        typeDefinitionSupport.dynamicRegistration = true;\n        typeDefinitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.typeDefinitionProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register(this.messages, { id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideTypeDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideTypeDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideTypeDefinition\n                    ? middleware.provideTypeDefinition(document, position, token, provideTypeDefinition)\n                    : provideTypeDefinition(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerTypeDefinitionProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.TypeDefinitionFeature = TypeDefinitionFeature;\n//# sourceMappingURL=typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = exports.arrayDiff = void 0;\nconst UUID = require(\"./utils/uuid\");\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nfunction access(target, key) {\n    if (target === void 0) {\n        return undefined;\n    }\n    return target[key];\n}\nfunction arrayDiff(left, right) {\n    return left.filter(element => right.indexOf(element) < 0);\n}\nexports.arrayDiff = arrayDiff;\nclass WorkspaceFoldersFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._listeners = new Map();\n    }\n    get messages() {\n        return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type;\n    }\n    fillInitializeParams(params) {\n        let folders = vscode_1.workspace.workspaceFolders;\n        this.initializeWithFolders(folders);\n        if (folders === void 0) {\n            params.workspaceFolders = null;\n        }\n        else {\n            params.workspaceFolders = folders.map(folder => this.asProtocol(folder));\n        }\n    }\n    initializeWithFolders(currentWorkspaceFolders) {\n        this._initialFolders = currentWorkspaceFolders;\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.workspaceFolders = true;\n    }\n    initialize(capabilities) {\n        let client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type, (token) => {\n            let workspaceFolders = () => {\n                let folders = vscode_1.workspace.workspaceFolders;\n                if (folders === void 0) {\n                    return null;\n                }\n                let result = folders.map((folder) => {\n                    return this.asProtocol(folder);\n                });\n                return result;\n            };\n            let middleware = client.clientOptions.middleware.workspace;\n            return middleware && middleware.workspaceFolders\n                ? middleware.workspaceFolders(token, workspaceFolders)\n                : workspaceFolders(token);\n        });\n        let value = access(access(access(capabilities, 'workspace'), 'workspaceFolders'), 'changeNotifications');\n        let id;\n        if (typeof value === 'string') {\n            id = value;\n        }\n        else if (value === true) {\n            id = UUID.generateUuid();\n        }\n        if (id) {\n            this.register(this.messages, {\n                id: id,\n                registerOptions: undefined\n            });\n        }\n    }\n    sendInitialEvent(currentWorkspaceFolders) {\n        if (this._initialFolders && currentWorkspaceFolders) {\n            const removed = arrayDiff(this._initialFolders, currentWorkspaceFolders);\n            const added = arrayDiff(currentWorkspaceFolders, this._initialFolders);\n            if (added.length > 0 || removed.length > 0) {\n                this.doSendEvent(added, removed);\n            }\n        }\n        else if (this._initialFolders) {\n            this.doSendEvent([], this._initialFolders);\n        }\n        else if (currentWorkspaceFolders) {\n            this.doSendEvent(currentWorkspaceFolders, []);\n        }\n    }\n    doSendEvent(addedFolders, removedFolders) {\n        let params = {\n            event: {\n                added: addedFolders.map(folder => this.asProtocol(folder)),\n                removed: removedFolders.map(folder => this.asProtocol(folder))\n            }\n        };\n        this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, params);\n    }\n    register(_message, data) {\n        let id = data.id;\n        let client = this._client;\n        let disposable = vscode_1.workspace.onDidChangeWorkspaceFolders((event) => {\n            let didChangeWorkspaceFolders = (event) => {\n                this.doSendEvent(event.added, event.removed);\n            };\n            let middleware = client.clientOptions.middleware.workspace;\n            middleware && middleware.didChangeWorkspaceFolders\n                ? middleware.didChangeWorkspaceFolders(event, didChangeWorkspaceFolders)\n                : didChangeWorkspaceFolders(event);\n        });\n        this._listeners.set(id, disposable);\n        this.sendInitialEvent(vscode_1.workspace.workspaceFolders);\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable === void 0) {\n            return;\n        }\n        this._listeners.delete(id);\n        disposable.dispose();\n    }\n    dispose() {\n        for (let disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    asProtocol(workspaceFolder) {\n        if (workspaceFolder === void 0) {\n            return null;\n        }\n        return { uri: this._client.code2ProtocolConverter.asUri(workspaceFolder.uri), name: workspaceFolder.name };\n    }\n}\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n//# sourceMappingURL=workspaceFolders.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass FoldingRangeFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.FoldingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        let capability = ensure(ensure(capabilites, 'textDocument'), 'foldingRange');\n        capability.dynamicRegistration = true;\n        capability.rangeLimit = 5000;\n        capability.lineFoldingOnly = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.foldingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register(this.messages, { id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideFoldingRanges: (document, context, token) => {\n                const client = this._client;\n                const provideFoldingRanges = (document, _, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, requestParams, token).then(FoldingRangeFeature.asFoldingRanges, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideFoldingRanges\n                    ? middleware.provideFoldingRanges(document, context, token, provideFoldingRanges)\n                    : provideFoldingRanges(document, context, token);\n            }\n        };\n        return [vscode_1.languages.registerFoldingRangeProvider(options.documentSelector, provider), provider];\n    }\n    static asFoldingRangeKind(kind) {\n        if (kind) {\n            switch (kind) {\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Comment:\n                    return vscode_1.FoldingRangeKind.Comment;\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Imports:\n                    return vscode_1.FoldingRangeKind.Imports;\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Region:\n                    return vscode_1.FoldingRangeKind.Region;\n            }\n        }\n        return void 0;\n    }\n    static asFoldingRanges(foldingRanges) {\n        if (Array.isArray(foldingRanges)) {\n            return foldingRanges.map(r => {\n                return new vscode_1.FoldingRange(r.startLine, r.endLine, FoldingRangeFeature.asFoldingRangeKind(r.kind));\n            });\n        }\n        return [];\n    }\n}\nexports.FoldingRangeFeature = FoldingRangeFeature;\n//# sourceMappingURL=foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass DeclarationFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DeclarationRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        const declarationSupport = ensure(ensure(capabilites, 'textDocument'), 'declaration');\n        declarationSupport.dynamicRegistration = true;\n        declarationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.declarationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register(this.messages, { id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDeclaration: (document, position, token) => {\n                const client = this._client;\n                const provideDeclaration = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDeclarationResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDeclaration\n                    ? middleware.provideDeclaration(document, position, token, provideDeclaration)\n                    : provideDeclaration(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDeclarationProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.DeclarationFeature = DeclarationFeature;\n//# sourceMappingURL=declaration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = Object.create(null);\n    }\n    return target[key];\n}\nclass SelectionRangeFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SelectionRangeRequest.type);\n    }\n    fillClientCapabilities(capabilites) {\n        let capability = ensure(ensure(capabilites, 'textDocument'), 'selectionRange');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.selectionRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register(this.messages, { id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideSelectionRanges: (document, positions, token) => {\n                const client = this._client;\n                const provideSelectionRanges = (document, positions, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        positions: client.code2ProtocolConverter.asPositions(positions)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, requestParams, token).then((ranges) => client.protocol2CodeConverter.asSelectionRanges(ranges), (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideSelectionRanges\n                    ? middleware.provideSelectionRanges(document, positions, token, provideSelectionRanges)\n                    : provideSelectionRanges(document, positions, token);\n            }\n        };\n        return [vscode_1.languages.registerSelectionRangeProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.SelectionRangeFeature = SelectionRangeFeature;\n//# sourceMappingURL=selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst progressPart_1 = require(\"./progressPart\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = Object.create(null);\n    }\n    return target[key];\n}\nclass ProgressFeature {\n    constructor(_client) {\n        this._client = _client;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(capabilities, 'window').workDoneProgress = true;\n    }\n    initialize() {\n        let client = this._client;\n        let createHandler = (params) => {\n            new progressPart_1.ProgressPart(this._client, params.token);\n        };\n        client.onRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, createHandler);\n    }\n}\nexports.ProgressFeature = ProgressFeature;\n//# sourceMappingURL=progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar protocol2code;\n(function (protocol2code) {\n    function asCallHierarchyItem(converter, item) {\n        if (item === null) {\n            return undefined;\n        }\n        let result = new vscode_1.CallHierarchyItem(converter.asSymbolKind(item.kind), item.name, item.detail || '', converter.asUri(item.uri), converter.asRange(item.range), converter.asRange(item.selectionRange));\n        if (item.tags !== undefined) {\n            result.tags = converter.asSymbolTags(item.tags);\n        }\n        return result;\n    }\n    protocol2code.asCallHierarchyItem = asCallHierarchyItem;\n    function asCallHierarchyItems(converter, items) {\n        if (items === null) {\n            return undefined;\n        }\n        return items.map(item => asCallHierarchyItem(converter, item));\n    }\n    protocol2code.asCallHierarchyItems = asCallHierarchyItems;\n    function asCallHierarchyIncomingCall(converter, item) {\n        return new vscode_1.CallHierarchyIncomingCall(asCallHierarchyItem(converter, item.from), converter.asRanges(item.fromRanges));\n    }\n    protocol2code.asCallHierarchyIncomingCall = asCallHierarchyIncomingCall;\n    function asCallHierarchyIncomingCalls(converter, items) {\n        if (items === null) {\n            return undefined;\n        }\n        return items.map(item => asCallHierarchyIncomingCall(converter, item));\n    }\n    protocol2code.asCallHierarchyIncomingCalls = asCallHierarchyIncomingCalls;\n    function asCallHierarchyOutgoingCall(converter, item) {\n        return new vscode_1.CallHierarchyOutgoingCall(asCallHierarchyItem(converter, item.to), converter.asRanges(item.fromRanges));\n    }\n    protocol2code.asCallHierarchyOutgoingCall = asCallHierarchyOutgoingCall;\n    function asCallHierarchyOutgoingCalls(converter, items) {\n        if (items === null) {\n            return undefined;\n        }\n        return items.map(item => asCallHierarchyOutgoingCall(converter, item));\n    }\n    protocol2code.asCallHierarchyOutgoingCalls = asCallHierarchyOutgoingCalls;\n})(protocol2code || (protocol2code = {}));\nvar code2protocol;\n(function (code2protocol) {\n    function asCallHierarchyItem(converter, value) {\n        const result = {\n            name: value.name,\n            kind: converter.asSymbolKind(value.kind),\n            uri: converter.asUri(value.uri),\n            range: converter.asRange(value.range),\n            selectionRange: converter.asRange(value.selectionRange)\n        };\n        if (value.detail !== undefined && value.detail.length > 0) {\n            result.detail = value.detail;\n        }\n        if (value.tags !== undefined) {\n            result.tags = converter.asSymbolTags(value.tags);\n        }\n        return result;\n    }\n    code2protocol.asCallHierarchyItem = asCallHierarchyItem;\n})(code2protocol || (code2protocol = {}));\nclass CallHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.clientOptions.middleware;\n    }\n    prepareCallHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareCallHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, params, token).then((result) => {\n                return protocol2code.asCallHierarchyItems(this.client.protocol2CodeConverter, result);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, error, null);\n            });\n        };\n        return middleware.prepareCallHierarchy\n            ? middleware.prepareCallHierarchy(document, position, token, prepareCallHierarchy)\n            : prepareCallHierarchy(document, position, token);\n    }\n    provideCallHierarchyIncomingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyIncomingCalls = (item, token) => {\n            const params = {\n                item: code2protocol.asCallHierarchyItem(client.code2ProtocolConverter, item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, params, token).then((result) => {\n                return protocol2code.asCallHierarchyIncomingCalls(client.protocol2CodeConverter, result);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyIncomingCalls\n            ? middleware.provideCallHierarchyIncomingCalls(item, token, provideCallHierarchyIncomingCalls)\n            : provideCallHierarchyIncomingCalls(item, token);\n    }\n    provideCallHierarchyOutgoingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyOutgoingCalls = (item, token) => {\n            const params = {\n                item: code2protocol.asCallHierarchyItem(client.code2ProtocolConverter, item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, params, token).then((result) => {\n                return protocol2code.asCallHierarchyOutgoingCalls(client.protocol2CodeConverter, result);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyOutgingCalls\n            ? middleware.provideCallHierarchyOutgingCalls(item, token, provideCallHierarchyOutgoingCalls)\n            : provideCallHierarchyOutgoingCalls(item, token);\n    }\n}\nclass CallHierarchyFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(cap) {\n        const capabilites = cap;\n        const capability = ensure(ensure(capabilites, 'textDocument'), 'callHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.callHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register(this.messages, { id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new CallHierarchyProvider(client);\n        return [vscode_1.languages.registerCallHierarchyProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.CallHierarchyFeature = CallHierarchyFeature;\n//# sourceMappingURL=callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensFeature = void 0;\nconst vscode = require(\"vscode\");\nconst client_1 = require(\"./client\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar protocol2code;\n(function (protocol2code) {\n    function asSemanticTokens(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new vscode.SemanticTokens(new Uint32Array(value.data), value.resultId);\n    }\n    protocol2code.asSemanticTokens = asSemanticTokens;\n    function asSemanticTokensEdit(value) {\n        return new vscode.SemanticTokensEdit(value.start, value.deleteCount, value.data !== undefined ? new Uint32Array(value.data) : undefined);\n    }\n    protocol2code.asSemanticTokensEdit = asSemanticTokensEdit;\n    function asSemanticTokensEdits(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new vscode.SemanticTokensEdits(value.edits.map(asSemanticTokensEdit), value.resultId);\n    }\n    protocol2code.asSemanticTokensEdits = asSemanticTokensEdits;\n    function asLegend(value) {\n        return value;\n    }\n    protocol2code.asLegend = asLegend;\n})(protocol2code || (protocol2code = {}));\nclass SemanticTokensFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.Proposed.SemanticTokensRequest.type);\n    }\n    fillClientCapabilities(cap) {\n        const capabilites = cap;\n        const capability = ensure(ensure(capabilites, 'textDocument'), 'semanticTokens');\n        capability.dynamicRegistration = true;\n        capability.tokenTypes = [\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.namespace,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.type,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.class,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.enum,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.interface,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.struct,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.typeParameter,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.parameter,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.variable,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.property,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.enumMember,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.event,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.function,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.member,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.macro,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.keyword,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.modifier,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.comment,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.string,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.number,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.regexp,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenTypes.operator\n        ];\n        capability.tokenModifiers = [\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenModifiers.declaration,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenModifiers.definition,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenModifiers.readonly,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenModifiers.static,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenModifiers.deprecated,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenModifiers.abstract,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenModifiers.async,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenModifiers.modification,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenModifiers.documentation,\n            vscode_languageserver_protocol_1.Proposed.SemanticTokenModifiers.defaultLibrary\n        ];\n    }\n    initialize(cap, documentSelector) {\n        const capabilities = cap;\n        const [id, options] = this.getRegistration(documentSelector, capabilities.semanticTokensProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register(this.messages, { id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const hasEditProvider = options.documentProvider !== undefined && typeof options.documentProvider !== 'boolean' && options.documentProvider.edits === true;\n        const documentProvider = {\n            provideDocumentSemanticTokens: (document, token) => {\n                const client = this._client;\n                const middleware = client.clientOptions.middleware;\n                const provideDocumentSemanticTokens = (document, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.Proposed.SemanticTokensRequest.type, params, token).then((result) => {\n                        return protocol2code.asSemanticTokens(result);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.Proposed.SemanticTokensRequest.type, error, null);\n                    });\n                };\n                return middleware.provideDocumentSemanticTokens\n                    ? middleware.provideDocumentSemanticTokens(document, token, provideDocumentSemanticTokens)\n                    : provideDocumentSemanticTokens(document, token);\n            },\n            provideDocumentSemanticTokensEdits: hasEditProvider\n                ? (document, previousResultId, token) => {\n                    const client = this._client;\n                    const middleware = client.clientOptions.middleware;\n                    const provideDocumentSemanticTokensEdits = (document, previousResultId, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            previousResultId\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.Proposed.SemanticTokensEditsRequest.type, params, token).then((result) => {\n                            if (vscode_languageserver_protocol_1.Proposed.SemanticTokens.is(result)) {\n                                return protocol2code.asSemanticTokens(result);\n                            }\n                            else {\n                                return protocol2code.asSemanticTokensEdits(result);\n                            }\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.Proposed.SemanticTokensEditsRequest.type, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentSemanticTokensEdits\n                        ? middleware.provideDocumentSemanticTokensEdits(document, previousResultId, token, provideDocumentSemanticTokensEdits)\n                        : provideDocumentSemanticTokensEdits(document, previousResultId, token);\n                }\n                : undefined\n        };\n        const hasRangeProvider = options.rangeProvider === true;\n        const rangeProvider = hasRangeProvider\n            ? {\n                provideDocumentRangeSemanticTokens: (document, range, token) => {\n                    const client = this._client;\n                    const middleware = client.clientOptions.middleware;\n                    const provideDocumentRangeSemanticTokens = (document, range, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            range: client.code2ProtocolConverter.asRange(range)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.Proposed.SemanticTokensRangeRequest.type, params, token).then((result) => {\n                            return protocol2code.asSemanticTokens(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.Proposed.SemanticTokensRangeRequest.type, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentRangeSemanticTokens\n                        ? middleware.provideDocumentRangeSemanticTokens(document, range, token, provideDocumentRangeSemanticTokens)\n                        : provideDocumentRangeSemanticTokens(document, range, token);\n                }\n            }\n            : undefined;\n        const disposables = [];\n        const legend = protocol2code.asLegend(options.legend);\n        disposables.push(vscode.languages.registerDocumentSemanticTokensProvider(options.documentSelector, documentProvider, legend));\n        if (rangeProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentRangeSemanticTokensProvider(options.documentSelector, rangeProvider, legend));\n        }\n        return [new vscode.Disposable(() => disposables.forEach(item => item.dispose())), { document: documentProvider, range: rangeProvider }];\n    }\n}\nexports.SemanticTokensFeature = SemanticTokensFeature;\n//# sourceMappingURL=semanticTokens.proposed.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.terminate = void 0;\nconst cp = require(\"child_process\");\nconst path_1 = require(\"path\");\nconst isWindows = (process.platform === 'win32');\nconst isMacintosh = (process.platform === 'darwin');\nconst isLinux = (process.platform === 'linux');\nfunction terminate(process, cwd) {\n    if (isWindows) {\n        try {\n            // This we run in Atom execFileSync is available.\n            // Ignore stderr since this is otherwise piped to parent.stderr\n            // which might be already closed.\n            let options = {\n                stdio: ['pipe', 'pipe', 'ignore']\n            };\n            if (cwd) {\n                options.cwd = cwd;\n            }\n            cp.execFileSync('taskkill', ['/T', '/F', '/PID', process.pid.toString()], options);\n            return true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else if (isLinux || isMacintosh) {\n        try {\n            var cmd = path_1.join(__dirname, 'terminateProcess.sh');\n            var result = cp.spawnSync(cmd, [process.pid.toString()]);\n            return result.error ? false : true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else {\n        process.kill('SIGKILL');\n        return true;\n    }\n}\nexports.terminate = terminate;\n//# sourceMappingURL=processes.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"vscode-languageserver-protocol\"), exports);\n__exportStar(require(\"./client\"), exports);\n__exportStar(require(\"./commonClient\"), exports);\n//# sourceMappingURL=api.js.map",null,"/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar fs = require(\"fs\");\r\nvar toString = Object.prototype.toString;\r\nfunction isDefined(value) {\r\n    return typeof value !== 'undefined';\r\n}\r\nfunction isNumber(value) {\r\n    return toString.call(value) === '[object Number]';\r\n}\r\nfunction isString(value) {\r\n    return toString.call(value) === '[object String]';\r\n}\r\nfunction isBoolean(value) {\r\n    return value === true || value === false;\r\n}\r\nfunction readJsonFileSync(filename) {\r\n    return JSON.parse(fs.readFileSync(filename, 'utf8'));\r\n}\r\nvar MessageFormat;\r\n(function (MessageFormat) {\r\n    MessageFormat[\"file\"] = \"file\";\r\n    MessageFormat[\"bundle\"] = \"bundle\";\r\n    MessageFormat[\"both\"] = \"both\";\r\n})(MessageFormat = exports.MessageFormat || (exports.MessageFormat = {}));\r\nvar BundleFormat;\r\n(function (BundleFormat) {\r\n    // the nls.bundle format\r\n    BundleFormat[\"standalone\"] = \"standalone\";\r\n    BundleFormat[\"languagePack\"] = \"languagePack\";\r\n})(BundleFormat = exports.BundleFormat || (exports.BundleFormat = {}));\r\nvar LocalizeInfo;\r\n(function (LocalizeInfo) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && isDefined(candidate.key) && isDefined(candidate.comment);\r\n    }\r\n    LocalizeInfo.is = is;\r\n})(LocalizeInfo || (LocalizeInfo = {}));\r\nvar resolvedLanguage;\r\nvar resolvedBundles;\r\nvar options;\r\nvar isPseudo;\r\nfunction initializeSettings() {\r\n    options = { locale: undefined, language: undefined, languagePackSupport: false, cacheLanguageResolution: true, messageFormat: MessageFormat.bundle };\r\n    if (isString(process.env.VSCODE_NLS_CONFIG)) {\r\n        try {\r\n            var vscodeOptions_1 = JSON.parse(process.env.VSCODE_NLS_CONFIG);\r\n            var language = void 0;\r\n            var locale = void 0;\r\n            if (vscodeOptions_1.availableLanguages) {\r\n                var value = vscodeOptions_1.availableLanguages['*'];\r\n                if (isString(value)) {\r\n                    language = value;\r\n                }\r\n            }\r\n            if (isString(vscodeOptions_1.locale)) {\r\n                options.locale = vscodeOptions_1.locale.toLowerCase();\r\n            }\r\n            if (language === undefined) {\r\n                options.language = options.locale;\r\n            }\r\n            else if (language !== 'en') {\r\n                options.language = language;\r\n            }\r\n            if (isBoolean(vscodeOptions_1._languagePackSupport)) {\r\n                options.languagePackSupport = vscodeOptions_1._languagePackSupport;\r\n            }\r\n            if (isString(vscodeOptions_1._cacheRoot)) {\r\n                options.cacheRoot = vscodeOptions_1._cacheRoot;\r\n            }\r\n            if (isString(vscodeOptions_1._languagePackId)) {\r\n                options.languagePackId = vscodeOptions_1._languagePackId;\r\n            }\r\n            if (isString(vscodeOptions_1._translationsConfigFile)) {\r\n                options.translationsConfigFile = vscodeOptions_1._translationsConfigFile;\r\n                try {\r\n                    options.translationsConfig = readJsonFileSync(options.translationsConfigFile);\r\n                }\r\n                catch (error) {\r\n                    // We can't read the translation config file. Mark the cache as corrupted.\r\n                    if (vscodeOptions_1._corruptedFile) {\r\n                        var dirname = path.dirname(vscodeOptions_1._corruptedFile);\r\n                        fs.exists(dirname, function (exists) {\r\n                            if (exists) {\r\n                                fs.writeFile(vscodeOptions_1._corruptedFile, 'corrupted', 'utf8', function (err) {\r\n                                    console.error(err);\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (_a) {\r\n            // Do nothing.\r\n        }\r\n    }\r\n    isPseudo = options.locale === 'pseudo';\r\n    resolvedLanguage = undefined;\r\n    resolvedBundles = Object.create(null);\r\n}\r\ninitializeSettings();\r\nfunction supportsLanguagePack() {\r\n    return options.languagePackSupport === true && options.cacheRoot !== undefined && options.languagePackId !== undefined && options.translationsConfigFile !== undefined\r\n        && options.translationsConfig !== undefined;\r\n}\r\nfunction format(message, args) {\r\n    var result;\r\n    if (isPseudo) {\r\n        // FF3B and FF3D is the Unicode zenkaku representation for [ and ]\r\n        message = '\\uFF3B' + message.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\r\n    }\r\n    if (args.length === 0) {\r\n        result = message;\r\n    }\r\n    else {\r\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\r\n            var index = rest[0];\r\n            var arg = args[index];\r\n            var replacement = match;\r\n            if (typeof arg === 'string') {\r\n                replacement = arg;\r\n            }\r\n            else if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\r\n                replacement = String(arg);\r\n            }\r\n            return replacement;\r\n        });\r\n    }\r\n    return result;\r\n}\r\nfunction createScopedLocalizeFunction(messages) {\r\n    return function (key, message) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        if (isNumber(key)) {\r\n            if (key >= messages.length) {\r\n                console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \" + new Error('').stack);\r\n                return;\r\n            }\r\n            return format(messages[key], args);\r\n        }\r\n        else {\r\n            if (isString(message)) {\r\n                console.warn(\"Message \" + message + \" didn't get externalized correctly.\");\r\n                return format(message, args);\r\n            }\r\n            else {\r\n                console.error(\"Broken localize call found. Stacktrace is\\n: \" + new Error('').stack);\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction localize(key, message) {\r\n    var args = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        args[_i - 2] = arguments[_i];\r\n    }\r\n    return format(message, args);\r\n}\r\nfunction resolveLanguage(file) {\r\n    var resolvedLanguage;\r\n    if (options.cacheLanguageResolution && resolvedLanguage) {\r\n        resolvedLanguage = resolvedLanguage;\r\n    }\r\n    else {\r\n        if (isPseudo || !options.language) {\r\n            resolvedLanguage = '.nls.json';\r\n        }\r\n        else {\r\n            var locale = options.language;\r\n            while (locale) {\r\n                var candidate = '.nls.' + locale + '.json';\r\n                if (fs.existsSync(file + candidate)) {\r\n                    resolvedLanguage = candidate;\r\n                    break;\r\n                }\r\n                else {\r\n                    var index = locale.lastIndexOf('-');\r\n                    if (index > 0) {\r\n                        locale = locale.substring(0, index);\r\n                    }\r\n                    else {\r\n                        resolvedLanguage = '.nls.json';\r\n                        locale = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (options.cacheLanguageResolution) {\r\n            resolvedLanguage = resolvedLanguage;\r\n        }\r\n    }\r\n    return file + resolvedLanguage;\r\n}\r\nfunction findInTheBoxBundle(root) {\r\n    var language = options.language;\r\n    while (language) {\r\n        var candidate = path.join(root, \"nls.bundle.\" + language + \".json\");\r\n        if (fs.existsSync(candidate)) {\r\n            return candidate;\r\n        }\r\n        else {\r\n            var index = language.lastIndexOf('-');\r\n            if (index > 0) {\r\n                language = language.substring(0, index);\r\n            }\r\n            else {\r\n                language = undefined;\r\n            }\r\n        }\r\n    }\r\n    // Test if we can reslove the default bundle.\r\n    if (language === undefined) {\r\n        var candidate = path.join(root, 'nls.bundle.json');\r\n        if (fs.existsSync(candidate)) {\r\n            return candidate;\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nfunction mkdir(directory) {\r\n    try {\r\n        fs.mkdirSync(directory);\r\n    }\r\n    catch (err) {\r\n        if (err.code === 'EEXIST') {\r\n            return;\r\n        }\r\n        else if (err.code === 'ENOENT') {\r\n            var parent = path.dirname(directory);\r\n            if (parent !== directory) {\r\n                mkdir(parent);\r\n                fs.mkdirSync(directory);\r\n            }\r\n        }\r\n        else {\r\n            throw err;\r\n        }\r\n    }\r\n}\r\nfunction createDefaultNlsBundle(folder) {\r\n    var metaData = readJsonFileSync(path.join(folder, 'nls.metadata.json'));\r\n    var result = Object.create(null);\r\n    for (var module_1 in metaData) {\r\n        var entry = metaData[module_1];\r\n        result[module_1] = entry.messages;\r\n    }\r\n    return result;\r\n}\r\nfunction createNLSBundle(header, metaDataPath) {\r\n    var languagePackLocation = options.translationsConfig[header.id];\r\n    if (!languagePackLocation) {\r\n        return undefined;\r\n    }\r\n    var languagePack = readJsonFileSync(languagePackLocation).contents;\r\n    var metaData = readJsonFileSync(path.join(metaDataPath, 'nls.metadata.json'));\r\n    var result = Object.create(null);\r\n    for (var module_2 in metaData) {\r\n        var entry = metaData[module_2];\r\n        var translations = languagePack[header.outDir + \"/\" + module_2];\r\n        if (translations) {\r\n            var resultMessages = [];\r\n            for (var i = 0; i < entry.keys.length; i++) {\r\n                var messageKey = entry.keys[i];\r\n                var key = isString(messageKey) ? messageKey : messageKey.key;\r\n                var translatedMessage = translations[key];\r\n                if (translatedMessage === undefined) {\r\n                    translatedMessage = entry.messages[i];\r\n                }\r\n                resultMessages.push(translatedMessage);\r\n            }\r\n            result[module_2] = resultMessages;\r\n        }\r\n        else {\r\n            result[module_2] = entry.messages;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction touch(file) {\r\n    var d = new Date();\r\n    fs.utimes(file, d, d, function () {\r\n        // Do nothing. Ignore\r\n    });\r\n}\r\nfunction cacheBundle(key, bundle) {\r\n    resolvedBundles[key] = bundle;\r\n    return bundle;\r\n}\r\nfunction loadNlsBundleOrCreateFromI18n(header, bundlePath) {\r\n    var result;\r\n    var bundle = path.join(options.cacheRoot, header.id + \"-\" + header.hash + \".json\");\r\n    var useMemoryOnly = false;\r\n    var writeBundle = false;\r\n    try {\r\n        result = JSON.parse(fs.readFileSync(bundle, { encoding: 'utf8', flag: 'r' }));\r\n        touch(bundle);\r\n        return result;\r\n    }\r\n    catch (err) {\r\n        if (err.code === 'ENOENT') {\r\n            writeBundle = true;\r\n        }\r\n        else if (err instanceof SyntaxError) {\r\n            // We have a syntax error. So no valid JSON. Use\r\n            console.log(\"Syntax error parsing message bundle: \" + err.message + \".\");\r\n            fs.unlink(bundle, function (err) {\r\n                if (err) {\r\n                    console.error(\"Deleting corrupted bundle \" + bundle + \" failed.\");\r\n                }\r\n            });\r\n            useMemoryOnly = true;\r\n        }\r\n        else {\r\n            throw err;\r\n        }\r\n    }\r\n    result = createNLSBundle(header, bundlePath);\r\n    if (!result || useMemoryOnly) {\r\n        return result;\r\n    }\r\n    if (writeBundle) {\r\n        try {\r\n            fs.writeFileSync(bundle, JSON.stringify(result), { encoding: 'utf8', flag: 'wx' });\r\n        }\r\n        catch (err) {\r\n            if (err.code === 'EEXIST') {\r\n                return result;\r\n            }\r\n            throw err;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction loadDefaultNlsBundle(bundlePath) {\r\n    try {\r\n        return createDefaultNlsBundle(bundlePath);\r\n    }\r\n    catch (err) {\r\n        console.log(\"Generating default bundle from meta data failed.\", err);\r\n        return undefined;\r\n    }\r\n}\r\nfunction loadNlsBundle(header, bundlePath) {\r\n    var result;\r\n    // Core decided to use a language pack. Do the same in the extension\r\n    if (supportsLanguagePack()) {\r\n        try {\r\n            result = loadNlsBundleOrCreateFromI18n(header, bundlePath);\r\n        }\r\n        catch (err) {\r\n            console.log(\"Load or create bundle failed \", err);\r\n        }\r\n    }\r\n    if (!result) {\r\n        // No language pack found, but core is running in language pack mode\r\n        // Don't try to use old in the box bundles since the might be stale\r\n        // Fall right back to the default bundle.\r\n        if (options.languagePackSupport) {\r\n            return loadDefaultNlsBundle(bundlePath);\r\n        }\r\n        var candidate = findInTheBoxBundle(bundlePath);\r\n        if (candidate) {\r\n            try {\r\n                return readJsonFileSync(candidate);\r\n            }\r\n            catch (err) {\r\n                console.log(\"Loading in the box message bundle failed.\", err);\r\n            }\r\n        }\r\n        result = loadDefaultNlsBundle(bundlePath);\r\n    }\r\n    return result;\r\n}\r\nfunction tryFindMetaDataHeaderFile(file) {\r\n    var result;\r\n    var dirname = path.dirname(file);\r\n    while (true) {\r\n        result = path.join(dirname, 'nls.metadata.header.json');\r\n        if (fs.existsSync(result)) {\r\n            break;\r\n        }\r\n        var parent = path.dirname(dirname);\r\n        if (parent === dirname) {\r\n            result = undefined;\r\n            break;\r\n        }\r\n        else {\r\n            dirname = parent;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction loadMessageBundle(file) {\r\n    if (!file) {\r\n        // No file. We are in dev mode. Return the default\r\n        // localize function.\r\n        return localize;\r\n    }\r\n    // Remove extension since we load json files.\r\n    var ext = path.extname(file);\r\n    if (ext) {\r\n        file = file.substr(0, file.length - ext.length);\r\n    }\r\n    if (options.messageFormat === MessageFormat.both || options.messageFormat === MessageFormat.bundle) {\r\n        var headerFile = tryFindMetaDataHeaderFile(file);\r\n        if (headerFile) {\r\n            var bundlePath = path.dirname(headerFile);\r\n            var bundle = resolvedBundles[bundlePath];\r\n            if (bundle === undefined) {\r\n                try {\r\n                    var header = JSON.parse(fs.readFileSync(headerFile, 'utf8'));\r\n                    try {\r\n                        var nlsBundle = loadNlsBundle(header, bundlePath);\r\n                        bundle = cacheBundle(bundlePath, nlsBundle ? { header: header, nlsBundle: nlsBundle } : null);\r\n                    }\r\n                    catch (err) {\r\n                        console.error('Failed to load nls bundle', err);\r\n                        bundle = cacheBundle(bundlePath, null);\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    console.error('Failed to read header file', err);\r\n                    bundle = cacheBundle(bundlePath, null);\r\n                }\r\n            }\r\n            if (bundle) {\r\n                var module_3 = file.substr(bundlePath.length + 1).replace(/\\\\/g, '/');\r\n                var messages = bundle.nlsBundle[module_3];\r\n                if (messages === undefined) {\r\n                    console.error(\"Messages for file \" + file + \" not found. See console for details.\");\r\n                    return function () {\r\n                        return 'Messages not found.';\r\n                    };\r\n                }\r\n                return createScopedLocalizeFunction(messages);\r\n            }\r\n        }\r\n    }\r\n    if (options.messageFormat === MessageFormat.both || options.messageFormat === MessageFormat.file) {\r\n        // Try to load a single file bundle\r\n        try {\r\n            var json = readJsonFileSync(resolveLanguage(file));\r\n            if (Array.isArray(json)) {\r\n                return createScopedLocalizeFunction(json);\r\n            }\r\n            else {\r\n                if (isDefined(json.messages) && isDefined(json.keys)) {\r\n                    return createScopedLocalizeFunction(json.messages);\r\n                }\r\n                else {\r\n                    console.error(\"String bundle '\" + file + \"' uses an unsupported format.\");\r\n                    return function () {\r\n                        return 'File bundle has unsupported format. See console for details';\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        catch (err) {\r\n            if (err.code !== 'ENOENT') {\r\n                console.error('Failed to load single file bundle', err);\r\n            }\r\n        }\r\n    }\r\n    console.error(\"Failed to load message bundle for file \" + file);\r\n    return function () {\r\n        return 'Failed to load message bundle. See console for details.';\r\n    };\r\n}\r\nexports.loadMessageBundle = loadMessageBundle;\r\nfunction config(opts) {\r\n    if (opts) {\r\n        if (isString(opts.locale)) {\r\n            options.locale = opts.locale.toLowerCase();\r\n            options.language = options.locale;\r\n            resolvedLanguage = undefined;\r\n            resolvedBundles = Object.create(null);\r\n        }\r\n        if (opts.messageFormat !== undefined) {\r\n            options.messageFormat = opts.messageFormat;\r\n        }\r\n        if (opts.bundleFormat === BundleFormat.standalone && options.languagePackSupport === true) {\r\n            options.languagePackSupport = false;\r\n        }\r\n    }\r\n    isPseudo = options.locale === 'pseudo';\r\n    return loadMessageBundle;\r\n}\r\nexports.config = config;\r\n//# sourceMappingURL=main.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { workspace, extensions, Uri, EventEmitter, Disposable } from 'vscode';\nimport { resolvePath, joinPath } from './requests';\n\nexport function getCustomDataSource(toDispose: Disposable[]) {\n\tlet pathsInWorkspace = getCustomDataPathsInAllWorkspaces();\n\tlet pathsInExtensions = getCustomDataPathsFromAllExtensions();\n\n\tconst onChange = new EventEmitter<void>();\n\n\ttoDispose.push(extensions.onDidChange(_ => {\n\t\tconst newPathsInExtensions = getCustomDataPathsFromAllExtensions();\n\t\tif (newPathsInExtensions.length !== pathsInExtensions.length || !newPathsInExtensions.every((val, idx) => val === pathsInExtensions[idx])) {\n\t\t\tpathsInExtensions = newPathsInExtensions;\n\t\t\tonChange.fire();\n\t\t}\n\t}));\n\ttoDispose.push(workspace.onDidChangeConfiguration(e => {\n\t\tif (e.affectsConfiguration('css.customData')) {\n\t\t\tpathsInWorkspace = getCustomDataPathsInAllWorkspaces();\n\t\t\tonChange.fire();\n\t\t}\n\t}));\n\n\treturn {\n\t\tget uris() {\n\t\t\treturn pathsInWorkspace.concat(pathsInExtensions);\n\t\t},\n\t\tget onDidChange() {\n\t\t\treturn onChange.event;\n\t\t}\n\t};\n}\n\n\nfunction getCustomDataPathsInAllWorkspaces(): string[] {\n\tconst workspaceFolders = workspace.workspaceFolders;\n\n\tconst dataPaths: string[] = [];\n\n\tif (!workspaceFolders) {\n\t\treturn dataPaths;\n\t}\n\n\tconst collect = (paths: string[] | undefined, rootFolder: Uri) => {\n\t\tif (Array.isArray(paths)) {\n\t\t\tfor (const path of paths) {\n\t\t\t\tif (typeof path === 'string') {\n\t\t\t\t\tdataPaths.push(resolvePath(rootFolder, path).toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfor (let i = 0; i < workspaceFolders.length; i++) {\n\t\tconst folderUri = workspaceFolders[i].uri;\n\t\tconst allCssConfig = workspace.getConfiguration('css', folderUri);\n\t\tconst customDataInspect = allCssConfig.inspect<string[]>('customData');\n\t\tif (customDataInspect) {\n\t\t\tcollect(customDataInspect.workspaceFolderValue, folderUri);\n\t\t\tif (i === 0) {\n\t\t\t\tif (workspace.workspaceFile) {\n\t\t\t\t\tcollect(customDataInspect.workspaceValue, workspace.workspaceFile);\n\t\t\t\t}\n\t\t\t\tcollect(customDataInspect.globalValue, folderUri);\n\t\t\t}\n\t\t}\n\n\t}\n\treturn dataPaths;\n}\n\nfunction getCustomDataPathsFromAllExtensions(): string[] {\n\tconst dataPaths: string[] = [];\n\tfor (const extension of extensions.all) {\n\t\tconst customData = extension.packageJSON?.contributes?.css?.customData;\n\t\tif (Array.isArray(customData)) {\n\t\t\tfor (const rp of customData) {\n\t\t\t\tdataPaths.push(joinPath(extension.extensionUri, rp).toString());\n\t\t\t}\n\t\t}\n\t}\n\treturn dataPaths;\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');"],"sourceRoot":""}